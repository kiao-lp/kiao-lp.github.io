<!DOCTYPE html><html><head>
      <title>03 - Conception</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:////home/nicolas/.vscode/extensions/shd101wyy.markdown-preview-enhanced-0.8.18/crossnote/dependencies/katex/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h2 id="3-architecture">3. Architecture </h2>
<h3 id="31-zonage-inspiré-de-nsy107">3.1. Zonage (inspiré de NSY107) </h3>
<h4 id="les-zones-suivantes-sont-proposées-">Les zones suivantes sont proposées : </h4>
<ul>
<li>zone opérationnelle "compte"</li>
<li>zone opérationnelle "note"</li>
<li>zone opérationnelle "unité"</li>
<li>zone gisement de données</li>
<li>zone référentiel : messages, données et règles partagées</li>
<li>zone d'échange : API publiques</li>
</ul>
<h4 id="parti-pris--isolation-forte-entre-zones-opérationnelles">Parti pris : isolation forte entre zones opérationnelles. </h4>
<p>Chaque zone opérationnelle défini ses propres entités et dispose de son propre language, sans référence aux autres zones : un nom n'a de sens que dans sa zone et s'il est utilisé ailleurs, cela ne signifie pas forcément la même chose. La redondance apparente qui en résulte est volontaire : elle permet aux zones d'évoluer indépendamment.</p>
<p>Les messages, par contre, sont centralisés et définissent ainsi le contenu des échanges entre zones.</p>
<h4 id="point-clairement-discutable-">Point clairement discutable : </h4>
<ul>
<li>existance d'un service à cheval sur deux zones (constructeur d'unités). Justifiée pour des raisons techniques. On suppose que ce service sera consommateur en ressources computationnelles et on veut donc garder de la souplesse pour pouvoir le déployer séparément.</li>
</ul>
<h3 id="311-zones-opérationnelles-compte-note-et-unité">3.1.1. Zones opérationnelles "compte", "note" et "unité" </h3>
<p>La finalité principale de ces zones est de fournir un accès aux données.</p>
<h3 id="312-zone-référentiel">3.1.2. Zone référentiel </h3>
<p>Cette zone contient les éléments référentiels :</p>
<ul>
<li>
<p>format des messages</p>
</li>
<li>
<p>format des données communes (par exemple "domaines" des notes / unités : mathématiques, sciences humaines, ...)</p>
</li>
<li>
<p>définition et traitement du MLScript : le langage de description des exercices</p>
</li>
</ul>
<h3 id="312-zone-déchange-ou-daccès">3.1.2. Zone d'échange (ou d'accès) </h3>
<p>Contient :</p>
<ul>
<li>une gateway (nginx)</li>
<li>un micro-frontend pour chaque goupe</li>
</ul>
<p>Expose les API REST.</p>
<h3 id="312-zone-gisement-de-données">3.1.2. Zone gisement de données </h3>
<ul>
<li>trois bases PostgreSQL distinctes (comptes, notes et unités)</li>
</ul>
<h3 id="32-choix-des-technologies">3.2. Choix des technologies </h3>
<p>Dans la mesure où l'application s'adresse au "grand public", on espère que le nombre d'utilisateurs devenienne très élevé (c'est bien le but), nécessitant de hautes performances. Devant ce type de contraintes, une architecture orientée services autour d'un middleware orienté messages a du sens puisqu'elle facilite la scalabilité horizontale. Il en est de même pour la distribution de la base de données.</p>
<p>Le système doit être fiable. Les Middleware Orienté Message améliorent la tolérances à la déconnexion et à la montée en charge, à condition de les utiliser correctement (en traitant les messages en échec par exemple).</p>
<p>L'application doit être sécurisée. Cela implique en particulier :</p>
<ul>
<li>chiffrer les mots de passes (avec un sel)</li>
<li>chiffrer les échanges (HTTPS)</li>
<li>n'exposer que le nécessaire, filtrer (gateway)</li>
<li>une stratégie de mots passes (non traité dans le cadre de ce travail)</li>
<li>une authentification forte (non traité dans le cadre de ce travail)</li>
<li>la granularité des autorisation</li>
</ul>
<p>Parcourons les zones opérationnelles :</p>
<h5 id="groupe-compte">Groupe "compte" </h5>
<p>Fonctionnalités : classiques de gestion de compte, via une IHM simple.</p>
<p>Technologies : Spring MCV avec thymeleaf serait un bon candidat.</p>
<h5 id="groupe-unité">Groupe "unité" </h5>
<p>Fonctionnalités : les unités sont principalement destinées à être rechechées, ajoutées / supprimées. L'IHM est assez simple.</p>
<p>Contraintes : une partie de ces fonctionnalités devra être développée pour Android, une autre accessible via le WEB.</p>
<p>Technologies : afin de pouvoir partager du code entre l'interface WEB et Android, là encore on pourrait utiliser un site Spring MVC, le catalogue étant affiché sur Android par le biais d'un composant "navigateur" à l'intérieur de l'application. Un tel composant pourrait interragir avec Android par le biais d'une API exposée par ce dernier dans le navigateur WEB inclus (WebView).</p>
<h5 id="groupe-notes">Groupe "notes" </h5>
<p>Fonctionnalités : gérer les notes (qui sont des textes riches dans un format spécifique) nécessite une IHM très complexe.</p>
<p>Contraintes :  Les temps de réponses pour l'utilisateur (feedback de validation par exemple) doivent être courts et l'édition de note ne nécessite pas beaucoup d'interractions avec la base de données (grosso modo, uniquement au moment du chargement et de la sauvegarde).</p>
<p>Spoiler : on a évalué les différentes technologies WEB / Android, et on s'est rendu compte que pour afficher du markdown correctement, en particulier quand il contient des éléments mathématiques, utiliser une technologie différente pour le WEB et Android (exemple : ReactJS / ReactNative) créait une importante complexité en terme de dépendances (moteur de rendu markdown, plugins, configuration). Or, le besoin d'afficher les exercices existe à la fois dans ce groupe et dans le composant qui permet de s'entrainer. On reste donc sur du HTML partout (web et android).</p>
<p>Technologie : une technologie "single page application" semble indispensable dans la mesure où une très grande partie de la logique s'exécute dans le navigateur. ReactJS est maîtrisé et répond à ce besoin.</p>
<h5 id="conclusion">Conclusion </h5>
<p>Le backend reposera sur des services REST (un groupe devient un service REST) et un Middleware Orienté Messages. Ces services seront conteneurisés. En attendant que le nombre d'utilisateur augmente, les images seront déployées sur un serveur mutualisé (VPS). On choisit : <strong>Spring/JPA</strong>, <strong>Kafka</strong> (après comparaison avec d'autres MOM), <strong>docker</strong>, <strong>docker-compose</strong>.</p>
<p>Afin d'harmoniser les technologies pour l'IHM : c'est <strong>ReactJS</strong> qui est choisi et non Spring MVC.</p>
<p>Lors d'expériences de prototypage, <strong>PostgreSQL</strong> a été sélectionnée car ce SGBD contient des fonctionnalités d'indexations facilitant la <strong>recherche "plain text"</strong>, ce qui est important pour filtrer les unités du catalogue.</p>
<h2 id="4-organisation-technique-et-déploiement">4. organisation technique et déploiement </h2>
<h3 id="41-déploiement">4.1 Déploiement </h3>
<p>Ce diagramme présente le déploiement préconisé pour la première version. Dans l'idéal, la sauvegarde externe de la base de données est nécessaire, mais elle ne sera pas mise en place dans le cadre de ce travail.</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="DESCRIPTION" height="839px" preserveAspectRatio="none" style="width:766px;height:839px;background:#FFFFFF;" version="1.1" viewBox="0 0 766 839" width="766px" zoomAndPan="magnify"><defs></defs><g><!--cluster Client Web (navigateur)--><g id="cluster_Client Web (navigateur)"><polygon fill="transparent" points="42.2968,16,52.2968,6,283.2968,6,283.2968,97,273.2968,107,42.2968,107,42.2968,16" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="273.2968" x2="283.2968" y1="16" y2="6"></line><line style="stroke:#181818;stroke-width:1;" x1="42.2968" x2="273.2968" y1="16" y2="16"></line><line style="stroke:#181818;stroke-width:1;" x1="273.2968" x2="273.2968" y1="16" y2="107"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="165.5634" x="76.0151" y="33.9659">Client Web (navigateur)</text></g><!--cluster Client Android--><g id="cluster_Client Android"><polygon fill="transparent" points="307.2968,16,317.2968,6,483.2968,6,483.2968,97,473.2968,107,307.2968,107,307.2968,16" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="473.2968" x2="483.2968" y1="16" y2="6"></line><line style="stroke:#181818;stroke-width:1;" x1="307.2968" x2="473.2968" y1="16" y2="16"></line><line style="stroke:#181818;stroke-width:1;" x1="473.2968" x2="473.2968" y1="16" y2="107"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="100.5196" x="341.037" y="33.9659">Client Android</text></g><!--cluster Cloud--><g id="cluster_Cloud"><path d="M42.1664,173.014 C54.5662,146.6884 69.8932,144.5082 88.9133,166.6256 C106.3821,142.2306 123.0643,142.566 140.2447,166.9292 C154.2948,145.2566 176.1021,144.3876 189.6507,167.4826 C202.2242,147.9865 219.4691,146.8643 233.71,165.559 C253.6061,138.2774 271.5867,141.1601 287.2033,169.6628 C302.1617,146.795 321.3097,149.7118 334.4983,171.5358 C344.4665,148.9979 364.6955,152.8522 376.6095,169.4416 C393.8478,149.004 410.0718,144.6894 427.2666,169.4903 C441.1516,146.5094 459.8086,147.1394 475.2375,167.7929 C493.4511,146.1404 511.5334,146.8941 527.5286,170.3637 C540.4391,150.4904 556.9106,156.0763 567.3234,173.0604 C582.1175,148.0902 597.812,142.7933 619.5994,165.3718 C636.3681,145.8556 655.8301,146.5334 668.5469,169.9872 C682.8397,151.2596 705.5927,149.8406 717.2968,173 C721.2991,175.0813 721.7146,177.9306 717.7518,180.4954 C743.2439,191.9639 745.2465,209.0733 725.691,228.0608 C747.8684,238.5511 750.2031,262.7042 729.9058,276.8628 C751.3091,288.6223 754.6246,312.0668 730.8968,324.7601 C755.397,342.04 752.7467,360.3622 730.603,377.3817 C752.748,392.8775 748.8557,406.3876 730.2961,421.601 C751.6598,436.8231 758.3128,452.9109 732.85,470.5749 C759.2962,487.5865 755.661,511.6522 729.1802,525.1016 C753.5202,543.1231 749.9348,558.7873 726.1774,573.8459 C743.84,588.6984 744.8453,605.0378 723.6725,617.6706 C745.1722,642.0084 743.4318,660.3653 710.2968,671 C713.0837,667.6417 715.5581,667.7509 717.641,671.7069 C704.5628,694.5487 680.8014,701.0156 665.5499,673.9766 C653.4466,693.6791 638.6727,698.7557 621.6993,679.4516 C605.8518,704.5522 584.996,701.8658 571.1259,677.4328 C556.6568,698.1567 539.3889,699.5438 526.4025,675.937 C510.6529,697.6319 491.8479,698.3222 474.3584,678.097 C461.6652,700.7852 442.6789,697.8184 429.8816,678.2065 C410.1687,703.1412 393.7,699.6433 376.3134,675.659 C365.7652,695.1699 345.9667,694.6279 334.583,676.5875 C322.8684,700.0469 297.8076,701.4504 283.7956,679.1366 C268.5241,700.6199 250.1151,696.6707 239.2851,674.5978 C224.9329,695.4425 206.3495,701.7534 189.5542,677.2788 C175.1926,701.6931 156.0944,702.5175 140.9728,678.034 C125.9242,699.0228 104.2123,698.7805 91.2168,675.7153 C69.3584,698.3092 44.987,691.677 33.2968,664 C34.4674,662.7105 35.7385,663.0304 36.153,664.7239 C16.1214,647.5224 14.4462,632.1353 39.7965,618.5119 C12.9102,605.8633 15.4592,586.8637 35.0291,569.6797 C7.8663,556.104 10.9877,537.282 31.1377,520.0003 C6.7639,502.7424 11.3292,488.7307 33.4154,473.7615 C12.326,457.1327 7.5381,432.3851 37.127,419.2041 C16.7402,409.4742 7.9301,390.4938 30.2314,374.2203 C6,354.8859 14.6351,337.2108 37.1627,324.3791 C10.6788,310.6294 10.8151,289.3877 35.1342,273.6082 C13.9248,259.6809 14.1986,243.5284 33.953,228.5277 C9.8365,210.1056 6.8648,178.5834 40.2968,166 C44.08,167.5132 45.196,169.6849 42.1664,173.014 " fill="transparent" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="39.9139" x="355.3399" y="185.9659">Cloud</text></g><!--cluster VPS OVH\nkiao-lp.app (Ubuntu 24.10)--><g id="cluster_VPS OVH\nkiao-lp.app (Ubuntu 24.10)"><polygon fill="transparent" points="49.2968,214,59.2968,204,563.2968,204,563.2968,645,553.2968,655,49.2968,655,49.2968,214" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="553.2968" x2="563.2968" y1="214" y2="204"></line><line style="stroke:#181818;stroke-width:1;" x1="49.2968" x2="553.2968" y1="214" y2="214"></line><line style="stroke:#181818;stroke-width:1;" x1="553.2968" x2="553.2968" y1="214" y2="655"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="60.1998" x="272.1969" y="231.9659">VPS OVH</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="183.7913" x="210.4012" y="251.0339">kiao-lp.app (Ubuntu 24.10)</text></g><!--cluster Nginx (gateway)--><g id="cluster_Nginx (gateway)"><polygon fill="transparent" points="146.2968,284,156.2968,274,337.2968,274,337.2968,362,327.2968,372,146.2968,372,146.2968,284" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="327.2968" x2="337.2968" y1="284" y2="274"></line><line style="stroke:#181818;stroke-width:1;" x1="146.2968" x2="327.2968" y1="284" y2="284"></line><line style="stroke:#181818;stroke-width:1;" x1="327.2968" x2="327.2968" y1="284" y2="372"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="115.0096" x="180.292" y="301.9659">Nginx (gateway)</text></g><!--cluster Docker Compose--><g id="cluster_Docker Compose"><polygon fill="transparent" points="73.2968,415,83.2968,405,539.2968,405,539.2968,621,529.2968,631,73.2968,631,73.2968,415" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="529.2968" x2="539.2968" y1="415" y2="405"></line><line style="stroke:#181818;stroke-width:1;" x1="73.2968" x2="529.2968" y1="415" y2="415"></line><line style="stroke:#181818;stroke-width:1;" x1="529.2968" x2="529.2968" y1="415" y2="631"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="117.2635" x="243.665" y="432.9659">Docker Compose</text></g><!--cluster Sauvegarde externe--><g id="cluster_Sauvegarde externe"><path d="M153.7968,730 L295.3983,730 A3.75,3.75 0 0 1 297.8983,732.5 L304.8983,755.0679 L328.7968,755.0679 A2.5,2.5 0 0 1 331.2968,757.5679 L331.2968,829.5 A2.5,2.5 0 0 1 328.7968,832 L153.7968,832 A2.5,2.5 0 0 1 151.2968,829.5 L151.2968,732.5 A2.5,2.5 0 0 1 153.7968,730 " fill="transparent" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="151.2968" x2="304.8983" y1="755.0679" y2="755.0679"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="140.6015" x="155.2968" y="746.9659">Sauvegarde externe</text></g><!--entity Frontend React/TS--><g id="elem_Frontend React/TS"><rect fill="#F1F1F1" height="42.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.9315" x="115.7968" y="49"></rect><polygon fill="#F1F1F1" points="249.7283,54,249.7283,68,261.7283,68,261.7283,60,255.7283,54,249.7283,54" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="255.7283" x2="255.7283" y1="54" y2="60"></line><line style="stroke:#181818;stroke-width:0.5;" x1="261.7283" x2="255.7283" y1="60" y2="60"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.9315" x="125.7968" y="76.9659">Frontend React/TS</text></g><!--entity Appli Android--><g id="elem_Appli Android"><rect fill="#F1F1F1" height="42.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.7117" x="323.2968" y="49"></rect><polygon fill="#F1F1F1" points="426.0085,54,426.0085,68,438.0085,68,438.0085,60,432.0085,54,426.0085,54" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="432.0085" x2="432.0085" y1="54" y2="60"></line><line style="stroke:#181818;stroke-width:0.5;" x1="438.0085" x2="432.0085" y1="60" y2="60"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.7117" x="333.2968" y="76.9659">Appli Android</text></g><!--entity Google TTS API--><g id="elem_Google TTS API"><rect fill="#F1F1F1" height="42.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129.9456" x="579.2968" y="570"></rect><polygon fill="#F1F1F1" points="692.2424,575,692.2424,589,704.2424,589,704.2424,581,698.2424,575,692.2424,575" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="698.2424" x2="698.2424" y1="575" y2="581"></line><line style="stroke:#181818;stroke-width:0.5;" x1="704.2424" x2="698.2424" y1="581" y2="581"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.9456" x="589.2968" y="597.9659">Google TTS API</text></g><!--entity reverse proxy--><g id="elem_reverse proxy"><rect fill="#F1F1F1" height="39.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110.1177" x="186.2968" y="317"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.1177" x="196.2968" y="341.9659">reverse proxy</text></g><!--entity accounts--><g id="elem_accounts"><rect fill="#F1F1F1" height="58.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78.8278" x="88.7968" y="448"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="55.4398" x="100.4908" y="472.9659">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.8278" x="98.7968" y="492.0339">accounts</text></g><!--entity notes--><g id="elem_notes"><rect fill="#F1F1F1" height="58.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.4398" x="202.7968" y="448"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="55.4398" x="213.7968" y="472.9659">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.7779" x="223.1278" y="492.0339">notes</text></g><!--entity units--><g id="elem_units"><rect fill="#F1F1F1" height="58.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.4398" x="314.7968" y="448"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="55.4398" x="325.7968" y="472.9659">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.6759" x="337.1788" y="492.0339">units</text></g><!--entity unit-builder--><g id="elem_unit-builder"><rect fill="#F1F1F1" height="58.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.2517" x="426.7968" y="448"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="55.4398" x="447.7028" y="472.9659">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.2517" x="436.7968" y="492.0339">unit-builder</text></g><!--entity PostgreSQL--><g id="elem_PostgreSQL"><path d="M192.7968,577 C192.7968,567 241.2687,567 241.2687,567 C241.2687,567 289.7405,567 289.7405,577 L289.7405,605.0679 C289.7405,615.0679 241.2687,615.0679 241.2687,615.0679 C241.2687,615.0679 192.7968,615.0679 192.7968,605.0679 L192.7968,577 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"></path><path d="M192.7968,577 C192.7968,587 241.2687,587 241.2687,587 C241.2687,587 289.7405,587 289.7405,577 " fill="transparent" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.9437" x="202.7968" y="605.9659">PostgreSQL</text></g><!--entity Kafka--><g id="elem_Kafka"><path d="M329.7968,576.5 L376.4627,576.5 C381.4627,576.5 381.4627,591.034 381.4627,591.034 C381.4627,591.034 381.4627,605.5679 376.4627,605.5679 L329.7968,605.5679 C324.7968,605.5679 324.7968,591.034 324.7968,591.034 C324.7968,591.034 324.7968,576.5 329.7968,576.5 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"></path><path d="M376.4627,576.5 C371.4627,576.5 371.4627,591.034 371.4627,591.034 C371.4627,605.5679 376.4627,605.5679 376.4627,605.5679 " fill="transparent" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.6659" x="329.7968" y="596.4659">Kafka</text></g><!--entity Backup PostgreSQL--><g id="elem_Backup PostgreSQL"><path d="M166.7968,778 C166.7968,768 241.2946,768 241.2946,768 C241.2946,768 315.7923,768 315.7923,778 L315.7923,806.0679 C315.7923,816.0679 241.2946,816.0679 241.2946,816.0679 C241.2946,816.0679 166.7968,816.0679 166.7968,806.0679 L166.7968,778 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"></path><path d="M166.7968,778 C166.7968,788 241.2946,788 241.2946,788 C241.2946,788 315.7923,788 315.7923,778 " fill="transparent" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.9955" x="176.7968" y="806.9659">Backup PostgreSQL</text></g><!--link Frontend React/TS to reverse proxy--><g id="link_Frontend React/TS_reverse proxy"><path d="M195.1368,91.32 C204.5568,141.15 227.5928,263.0043 236.6628,311.0043 " fill="transparent" id="Frontend React/TS-to-reverse proxy" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="237.7768,316.9,240.0362,307.3138,236.8485,311.9869,232.1753,308.7992,237.7768,316.9" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39.091" x="205.2968" y="137.897">HTTPS</text></g><!--link Appli Android to reverse proxy--><g id="link_Appli Android_reverse proxy"><path d="M372.3868,91.32 C345.6368,141.15 279.8949,263.6137 254.1249,311.6137 " fill="transparent" id="Appli Android-to-reverse proxy" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="251.2868,316.9,259.0682,310.8626,253.6519,312.4947,252.0197,307.0785,251.2868,316.9" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39.091" x="353.2968" y="137.897">HTTPS</text></g><!--link reverse proxy to accounts--><g id="link_reverse proxy_accounts"><path d="M222.4868,356.22 C211.2968,367.66 197.0368,382.78 185.2968,397 C171.8368,413.3 161.3625,427.5941 150.6525,442.9941 " fill="transparent" id="reverse proxy-to-accounts" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="147.2268,447.92,155.6493,442.815,150.0816,443.8151,149.0815,438.2473,147.2268,447.92" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link reverse proxy to notes--><g id="link_reverse proxy_notes"><path d="M241.2968,356.18 C241.2968,379.73 241.2968,414.45 241.2968,441.8 " fill="transparent" id="reverse proxy-to-notes" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="241.2968,447.8,245.2968,438.8,241.2968,442.8,237.2968,438.8,241.2968,447.8" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link reverse proxy to units--><g id="link_reverse proxy_units"><path d="M260.1568,356.18 C271.3568,367.61 285.6168,382.73 297.2968,397 C310.6068,413.26 320.8883,427.5216 331.3883,442.9316 " fill="transparent" id="reverse proxy-to-units" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="334.7668,447.89,333.0046,438.2001,331.9514,443.758,326.3934,442.7048,334.7668,447.89" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link notes to Kafka--><g id="link_notes_Kafka"><path d="M269.5568,506.26 C291.9768,528.68 322.3368,559.04 339.6668,576.37 " fill="transparent" id="notes-Kafka" style="stroke:#181818;stroke-width:1;"></path></g><!--link accounts to Kafka--><g id="link_accounts_Kafka"><path d="M168.1268,497.77 C204.4068,515.79 259.4668,543.15 307.2968,567 C313.3668,570.03 319.8868,573.29 326.0568,576.37 " fill="transparent" id="accounts-Kafka" style="stroke:#181818;stroke-width:1;"></path></g><!--link units to Kafka--><g id="link_units_Kafka"><path d="M353.2968,506.26 C353.2968,528.68 353.2968,559.04 353.2968,576.37 " fill="transparent" id="units-Kafka" style="stroke:#181818;stroke-width:1;"></path></g><!--link unit-builder to Kafka--><g id="link_unit-builder_Kafka"><path d="M444.5068,506.26 C420.0868,528.68 387.0168,559.04 368.1468,576.37 " fill="transparent" id="unit-builder-Kafka" style="stroke:#181818;stroke-width:1;"></path></g><!--link unit-builder to Google TTS API--><g id="link_unit-builder_Google TTS API"><path d="M517.9468,506.26 C547.8668,526.09 582.1553,548.8156 608.9253,566.5556 " fill="transparent" id="unit-builder-to-Google TTS API" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="613.9268,569.87,608.6342,561.5641,609.7589,567.108,604.215,568.2327,613.9268,569.87" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link accounts to PostgreSQL--><g id="link_accounts_PostgreSQL"><path d="M156.8068,506.26 C175.6368,524.93 195.755,544.8666 213.485,562.4366 " fill="transparent" id="accounts-to-PostgreSQL" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="217.7468,566.66,214.1697,557.4837,214.1953,563.1405,208.5385,563.1662,217.7468,566.66" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link notes to PostgreSQL--><g id="link_notes_PostgreSQL"><path d="M241.2968,506.26 C241.2968,524.93 241.2968,543.09 241.2968,560.66 " fill="transparent" id="notes-to-PostgreSQL" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="241.2968,566.66,245.2968,557.66,241.2968,561.66,237.2968,557.66,241.2968,566.66" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link units to PostgreSQL--><g id="link_units_PostgreSQL"><path d="M325.0368,506.26 C306.3668,524.93 286.4495,544.8474 268.8795,562.4174 " fill="transparent" id="units-to-PostgreSQL" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="264.6368,566.66,273.8292,563.1245,268.1723,563.1245,268.1723,557.4676,264.6368,566.66" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link PostgreSQL to Backup PostgreSQL--><g id="link_PostgreSQL_Backup PostgreSQL"><path d="M241.2968,615.22 C241.2968,653.56 241.2968,723.68 241.2968,761.93 " fill="transparent" id="PostgreSQL-to-Backup PostgreSQL" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="241.2968,767.93,245.2968,758.93,241.2968,762.93,237.2968,758.93,241.2968,767.93" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.1931" x="242.2968" y="709.897">réplication/sauvegarde</text></g><!--SRC=[ZPBTRjD048Nl_HIZlI5Sf0N45QeYfKLG18A0JP4gRYRhYRMAisls9oH2VQ0-Hr-iixPZkqu4tFXdpzdTC_EDMojTeSKDIBEfZ2RjKxyl2In9ZxeeAN6T9QSLXj9djFFpKXLwmswG_22R9Dha1EAgL77n1orXed6h2lGKx7C1Vn80j5wjK7eGxwpXNJg7RyJ_vragahlH4NETMwFoySvvLPMg4-CkMPgGnstyYcwsFuFfT0efsIrVph6XiYOFqYkZeyAEvggRHGfVRgv_whL2CoshCwmgc7nV1kq3l7fzzl95cnoWVZIxFXTAxs0II_kD-yu1VSz0MDgITVN5kxsezRjaSCPR8zTauIestL5_H4S114ffE8WJS77Xk1GbQJOxjcdZwL-Ue9N_7yzq6LIPaprbpT7Z4haaiJ3E5vRIhvz4g_qA55ZuYAir7efj2-x9lJScjYRBKfWlFjJe6awtd212SXYsLA3bpmXfPM8K46c_p8D7LhVjwWDTebo72eQvkiEvmnikJMA4xy0-t3l2K5-Gd1X35cPZUl06hhDiaIQZuVkhDnaBjRbZUbfkM9xM6eQ7ikfMjrMq4y2h1mA3sHckjcCmNkgf3vHZQNQCi0rpoHHS99WRhH_k-Ri9DamnUpetVUYnq8KS2Kd_quZ7rBdvp9SHDRJF-u5A7W40]--></g></svg></p><h3 id="42-paquets-des-microservices-opérationnels">4.2 Paquets des microservices opérationnels </h3>
<p>Sans aller jusqu'à l'extrême (on autorise les adaptateurs à connaître le coeur), on s'est inspiré de l'architecture hexagonale pour les microservices opérationnels, dont le but principal est de stocker les données : on sépare adaptation (lien vers l'extérieur du système) et coeur (métier et définition des ports). Voici l'organisation qu'on appliquera aux différents cas particuliers :</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="601px" preserveAspectRatio="none" style="width:797px;height:601px;background:#FFFFFF;" version="1.1" viewBox="0 0 797 601" width="797px" zoomAndPan="magnify"><defs><filter height="300%" id="fjvlpem0lm7wz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--cluster microservice--><g id="cluster_microservice"><polygon fill="transparent" filter="url(#fjvlpem0lm7wz)" points="16,6.602,105.3977,6.602,112.3977,31.6699,780,31.6699,780,592.602,16,592.602,16,6.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="112.3977" y1="31.6699" y2="31.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.3977" x="20" y="23.5679">microservice</text></g><!--cluster core--><g id="cluster_core"><polygon fill="transparent" filter="url(#fjvlpem0lm7wz)" points="372,232.602,406.8679,232.602,413.8679,257.6699,704,257.6699,704,568.602,372,568.602,372,232.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="372" x2="413.8679" y1="257.6699" y2="257.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.8679" x="376" y="249.5679">core</text></g><!--cluster business--><g id="cluster_business"><polygon fill="transparent" filter="url(#fjvlpem0lm7wz)" points="396,278.602,459.5398,278.602,466.5398,303.6699,680,303.6699,680,434.602,396,434.602,396,278.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="396" x2="466.5398" y1="303.6699" y2="303.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.5398" x="400" y="295.5679">business</text></g><!--cluster entities--><g id="cluster_entities"><polygon fill="transparent" filter="url(#fjvlpem0lm7wz)" points="554,324.602,608.4818,324.602,615.4818,349.6699,656,349.6699,656,410.602,554,410.602,554,324.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="554" x2="615.4818" y1="349.6699" y2="349.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.4818" x="558" y="341.5679">entities</text></g><!--cluster services--><g id="cluster_services"><polygon fill="transparent" filter="url(#fjvlpem0lm7wz)" points="420,324.602,478.4298,324.602,485.4298,349.6699,530,349.6699,530,410.602,420,410.602,420,324.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="420" x2="485.4298" y1="349.6699" y2="349.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.4298" x="424" y="341.5679">services</text></g><!--cluster ports--><g id="cluster_ports"><polygon fill="transparent" filter="url(#fjvlpem0lm7wz)" points="396,458.602,436.6219,458.602,443.6219,483.6699,648,483.6699,648,544.602,396,544.602,396,458.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="396" x2="443.6219" y1="483.6699" y2="483.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34.6219" x="400" y="475.5679">ports</text></g><!--cluster adapters--><g id="cluster_adapters"><polygon fill="transparent" filter="url(#fjvlpem0lm7wz)" points="40,52.602,104.3658,52.602,111.3658,77.6699,756,77.6699,756,208.602,40,208.602,40,52.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="40" x2="111.3658" y1="77.6699" y2="77.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.3658" x="44" y="69.5679">adapters</text></g><!--cluster data--><g id="cluster_data"><polygon fill="transparent" filter="url(#fjvlpem0lm7wz)" points="64,98.602,99.3719,98.602,106.3719,123.6699,220,123.6699,220,184.602,64,184.602,64,98.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="64" x2="106.3719" y1="123.6699" y2="123.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.3719" x="68" y="115.5679">data</text></g><!--cluster kafka--><g id="cluster_kafka"><polygon fill="transparent" filter="url(#fjvlpem0lm7wz)" points="244,98.602,285.4759,98.602,292.4759,123.6699,578,123.6699,578,184.602,244,184.602,244,98.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="244" x2="292.4759" y1="123.6699" y2="123.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.4759" x="248" y="115.5679">kafka</text></g><!--cluster rest--><g id="cluster_rest"><polygon fill="transparent" filter="url(#fjvlpem0lm7wz)" points="602,98.602,633.4379,98.602,640.4379,123.6699,732,123.6699,732,184.602,602,184.602,602,98.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="602" x2="640.4379" y1="123.6699" y2="123.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.4379" x="606" y="115.5679">rest</text></g><!--class Entity--><g id="elem_Entity"><rect codeline="11" fill="#FEFECE" filter="url(#fjvlpem0lm7wz)" height="32" id="Entity" style="stroke:#A80036;stroke-width:1;" width="69.2959" x="570.5" y="362.602"></rect><ellipse cx="585.5" cy="378.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M588.4688,384.2426 Q587.8906,384.5395 587.25,384.6801 Q586.6094,384.8364 585.9063,384.8364 Q583.4063,384.8364 582.0781,383.1957 Q580.7656,381.5395 580.7656,378.4145 Q580.7656,375.2895 582.0781,373.6332 Q583.4063,371.977 585.9063,371.977 Q586.6094,371.977 587.25,372.1332 Q587.9063,372.2895 588.4688,372.5864 L588.4688,375.3051 Q587.8438,374.727 587.25,374.4614 Q586.6563,374.1801 586.0313,374.1801 Q584.6875,374.1801 584,375.2582 Q583.3125,376.3207 583.3125,378.4145 Q583.3125,380.5082 584,381.5864 Q584.6875,382.6489 586.0313,382.6489 Q586.6563,382.6489 587.25,382.3832 Q587.8438,382.102 588.4688,381.5239 L588.4688,384.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.2959" x="599.5" y="384.034">Entity</text></g><!--class Service--><g id="elem_Service"><rect codeline="15" fill="#FEFECE" filter="url(#fjvlpem0lm7wz)" height="32" id="Service" style="stroke:#A80036;stroke-width:1;" width="78.7038" x="435.5" y="362.602"></rect><ellipse cx="450.5" cy="378.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M453.4688,384.2426 Q452.8906,384.5395 452.25,384.6801 Q451.6094,384.8364 450.9063,384.8364 Q448.4063,384.8364 447.0781,383.1957 Q445.7656,381.5395 445.7656,378.4145 Q445.7656,375.2895 447.0781,373.6332 Q448.4063,371.977 450.9063,371.977 Q451.6094,371.977 452.25,372.1332 Q452.9063,372.2895 453.4688,372.5864 L453.4688,375.3051 Q452.8438,374.727 452.25,374.4614 Q451.6563,374.1801 451.0313,374.1801 Q449.6875,374.1801 449,375.2582 Q448.3125,376.3207 448.3125,378.4145 Q448.3125,380.5082 449,381.5864 Q449.6875,382.6489 451.0313,382.6489 Q451.6563,382.6489 452.25,382.3832 Q452.8438,382.102 453.4688,381.5239 L453.4688,384.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.7038" x="464.5" y="384.034">Service</text></g><!--class Repository--><g id="elem_Repository"><rect codeline="20" fill="#FEFECE" filter="url(#fjvlpem0lm7wz)" height="32" id="Repository" style="stroke:#A80036;stroke-width:1;" width="97.2958" x="411.5" y="496.602"></rect><ellipse cx="426.5" cy="512.602" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M422.4219,508.3676 L422.4219,506.2114 L429.8125,506.2114 L429.8125,508.3676 L427.3438,508.3676 L427.3438,516.4457 L429.8125,516.4457 L429.8125,518.602 L422.4219,518.602 L422.4219,516.4457 L424.8906,516.4457 L424.8906,508.3676 L422.4219,508.3676 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="65.2958" x="440.5" y="518.034">Repository</text></g><!--class Producer--><g id="elem_Producer"><rect codeline="22" fill="#FEFECE" filter="url(#fjvlpem0lm7wz)" height="32" id="Producer" style="stroke:#A80036;stroke-width:1;" width="88.5038" x="543.5" y="496.602"></rect><ellipse cx="558.5" cy="512.602" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M554.4219,508.3676 L554.4219,506.2114 L561.8125,506.2114 L561.8125,508.3676 L559.3438,508.3676 L559.3438,516.4457 L561.8125,516.4457 L561.8125,518.602 L554.4219,518.602 L554.4219,516.4457 L556.8906,516.4457 L556.8906,508.3676 L554.4219,508.3676 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56.5038" x="572.5" y="518.034">Producer</text></g><!--class JpaRepository--><g id="elem_JpaRepository"><rect codeline="29" fill="#FEFECE" filter="url(#fjvlpem0lm7wz)" height="32" id="JpaRepository" style="stroke:#A80036;stroke-width:1;" width="122.7337" x="80.5" y="136.602"></rect><ellipse cx="95.5" cy="152.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M98.4688,158.2426 Q97.8906,158.5395 97.25,158.6801 Q96.6094,158.8364 95.9063,158.8364 Q93.4063,158.8364 92.0781,157.1957 Q90.7656,155.5395 90.7656,152.4145 Q90.7656,149.2895 92.0781,147.6332 Q93.4063,145.977 95.9063,145.977 Q96.6094,145.977 97.25,146.1332 Q97.9063,146.2895 98.4688,146.5864 L98.4688,149.3051 Q97.8438,148.727 97.25,148.4614 Q96.6563,148.1801 96.0313,148.1801 Q94.6875,148.1801 94,149.2582 Q93.3125,150.3207 93.3125,152.4145 Q93.3125,154.5082 94,155.5864 Q94.6875,156.6489 96.0313,156.6489 Q96.6563,156.6489 97.25,156.3832 Q97.8438,156.102 98.4688,155.5239 L98.4688,158.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.7337" x="109.5" y="158.034">JpaRepository</text></g><!--class KafkaProducer--><g id="elem_KafkaProducer"><rect codeline="34" fill="#FEFECE" filter="url(#fjvlpem0lm7wz)" height="32" id="KafkaProducer" style="stroke:#A80036;stroke-width:1;" width="129.0476" x="260.5" y="136.602"></rect><ellipse cx="275.5" cy="152.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M278.4688,158.2426 Q277.8906,158.5395 277.25,158.6801 Q276.6094,158.8364 275.9063,158.8364 Q273.4063,158.8364 272.0781,157.1957 Q270.7656,155.5395 270.7656,152.4145 Q270.7656,149.2895 272.0781,147.6332 Q273.4063,145.977 275.9063,145.977 Q276.6094,145.977 277.25,146.1332 Q277.9063,146.2895 278.4688,146.5864 L278.4688,149.3051 Q277.8438,148.727 277.25,148.4614 Q276.6563,148.1801 276.0313,148.1801 Q274.6875,148.1801 274,149.2582 Q273.3125,150.3207 273.3125,152.4145 Q273.3125,154.5082 274,155.5864 Q274.6875,156.6489 276.0313,156.6489 Q276.6563,156.6489 277.25,156.3832 Q277.8438,156.102 278.4688,155.5239 L278.4688,158.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.0476" x="289.5" y="158.034">KafkaProducer</text></g><!--class KafkaConsumer--><g id="elem_KafkaConsumer"><rect codeline="35" fill="#FEFECE" filter="url(#fjvlpem0lm7wz)" height="32" id="KafkaConsumer" style="stroke:#A80036;stroke-width:1;" width="136.7616" x="424.5" y="136.602"></rect><ellipse cx="439.5" cy="152.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M442.4688,158.2426 Q441.8906,158.5395 441.25,158.6801 Q440.6094,158.8364 439.9063,158.8364 Q437.4063,158.8364 436.0781,157.1957 Q434.7656,155.5395 434.7656,152.4145 Q434.7656,149.2895 436.0781,147.6332 Q437.4063,145.977 439.9063,145.977 Q440.6094,145.977 441.25,146.1332 Q441.9063,146.2895 442.4688,146.5864 L442.4688,149.3051 Q441.8438,148.727 441.25,148.4614 Q440.6563,148.1801 440.0313,148.1801 Q438.6875,148.1801 438,149.2582 Q437.3125,150.3207 437.3125,152.4145 Q437.3125,154.5082 438,155.5864 Q438.6875,156.6489 440.0313,156.6489 Q440.6563,156.6489 441.25,156.3832 Q441.8438,156.102 442.4688,155.5239 L442.4688,158.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.7616" x="453.5" y="158.034">KafkaConsumer</text></g><!--class Controller--><g id="elem_Controller"><rect codeline="39" fill="#FEFECE" filter="url(#fjvlpem0lm7wz)" height="32" id="Controller" style="stroke:#A80036;stroke-width:1;" width="98.1777" x="618" y="136.602"></rect><ellipse cx="633" cy="152.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M635.9688,158.2426 Q635.3906,158.5395 634.75,158.6801 Q634.1094,158.8364 633.4063,158.8364 Q630.9063,158.8364 629.5781,157.1957 Q628.2656,155.5395 628.2656,152.4145 Q628.2656,149.2895 629.5781,147.6332 Q630.9063,145.977 633.4063,145.977 Q634.1094,145.977 634.75,146.1332 Q635.4063,146.2895 635.9688,146.5864 L635.9688,149.3051 Q635.3438,148.727 634.75,148.4614 Q634.1563,148.1801 633.5313,148.1801 Q632.1875,148.1801 631.5,149.2582 Q630.8125,150.3207 630.8125,152.4145 Q630.8125,154.5082 631.5,155.5864 Q632.1875,156.6489 633.5313,156.6489 Q634.1563,156.6489 634.75,156.3832 Q635.3438,156.102 635.9688,155.5239 L635.9688,158.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.1777" x="647" y="158.034">Controller</text></g><!--link JpaRepository to Repository--><g id="link_JpaRepository_Repository"><path codeline="43" d="M147.71,168.842 C165.9,215.552 226.74,358.662 319,442.602 C346.21,467.362 367.1309,478.7536 396.7109,490.0836 " fill="transparent" id="JpaRepository-to-Repository" style="stroke:#A80036;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="transparent" points="413.52,496.522,398.857,484.4805,394.5647,495.6866,413.52,496.522" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link KafkaProducer to Producer--><g id="link_KafkaProducer_Producer"><path codeline="44" d="M324.65,168.762 C324.41,217.792 331.01,372.922 420,442.602 C438.6,457.162 504.49,440.832 526,450.602 C548,460.592 555.9216,467.5208 566.8616,482.1108 " fill="transparent" id="KafkaProducer-to-Producer" style="stroke:#A80036;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="transparent" points="577.66,496.512,571.662,478.5113,562.0612,485.7103,577.66,496.512" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link Controller to Service--><g id="link_Controller_Service"><path codeline="45" d="M648.93,168.822 C631.63,182.782 604.34,203.262 578,216.602 C567.97,221.682 562.54,217.292 554,224.602 C509.71,262.512 488.6224,325.649 480.3424,356.349 " fill="transparent" id="Controller-to-Service" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="478.78,362.142,484.9856,354.4941,480.082,357.3145,477.2616,352.4109,478.78,362.142" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link KafkaConsumer to Service--><g id="link_KafkaConsumer_Service"><path codeline="46" d="M491.79,168.652 C488.52,209.352 480.0002,315.3712 476.7102,356.3512 " fill="transparent" id="KafkaConsumer-to-Service" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="476.23,362.332,480.9374,353.6809,476.6301,357.348,472.9631,353.0407,476.23,362.332" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link Service to Repository--><g id="link_Service_Repository"><path codeline="47" d="M473.28,394.742 C470.4,420.072 465.3162,464.7902 462.4262,490.2702 " fill="transparent" id="Service-to-Repository" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="461.75,496.232,466.7388,487.7401,462.3135,491.2638,458.7898,486.8385,461.75,496.232" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link Service to Producer--><g id="link_Service_Producer"><path codeline="48" d="M487.96,394.742 C509.64,420.072 549.1283,466.1938 570.9383,491.6738 " fill="transparent" id="Service-to-Producer" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="574.84,496.232,572.0263,486.7936,571.5886,492.4335,565.9487,491.9958,574.84,496.232" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--SRC=[RL5BReCm4Dtx57E1S8HigcwQJTMUm36Jr09ZQyPKYbBkNfjW_4aGOl4-ynupFEW9o3AA7zqZe77-1WRD6Oc5S58DyefWj8eQ-jKAuIu4G6AKfOW0X3UZvvdrXCmhit6PnSbhhp6nyL6Z3EhtIDpWlcpu8XhdLk7P-PswPMin8DcT9P-zUl985nbSN-WiQszfpNwYFydsiq9Aq-DtAPSWU-c2c1-hoNWllTpZ7aK_d7oHrlGSv6LeZQU8jKqgyirEF9koPZMKa7qpCpWysN5yyMjrpwxxEwwdxjOLTfaAqhfPAqr441PnXyCntInDsElNNBfiHAlOajX3bdy0]--></g></svg></p><p>Cependant dans la suite de cette conception, nous ne distinguerons pas les ports des adaptateurs pour éviter une surcharge des diagrammes : nous supposerons implicitement que l'accès du coeur aux adaptateurs se fait par le biais des ports.</p>
<h3 id="43-nommage-des-classes-format">4.3 Nommage des classes format </h3>
<p>Pour faciliter leur distinction et ne pas les confondre avec les entités, on ajoutera "Event", "Command", "Payload" à la fin des noms de classes définissant le format des messages.</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="269px" preserveAspectRatio="none" style="width:765px;height:269px;background:#FFFFFF;" version="1.1" viewBox="0 0 765 269" width="765px" zoomAndPan="magnify"><defs><filter height="300%" id="f28tnrufcvpgh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--class Type--><g id="elem_Type"><rect codeline="6" fill="#FEFECE" filter="url(#f28tnrufcvpgh)" height="32" id="Type" style="stroke:#A80036;stroke-width:1;" width="63.4299" x="645.5" y="32.5"></rect><ellipse cx="660.5" cy="48.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M663.4688,54.1406 Q662.8906,54.4375 662.25,54.5781 Q661.6094,54.7344 660.9063,54.7344 Q658.4063,54.7344 657.0781,53.0938 Q655.7656,51.4375 655.7656,48.3125 Q655.7656,45.1875 657.0781,43.5313 Q658.4063,41.875 660.9063,41.875 Q661.6094,41.875 662.25,42.0313 Q662.9063,42.1875 663.4688,42.4844 L663.4688,45.2031 Q662.8438,44.625 662.25,44.3594 Q661.6563,44.0781 661.0313,44.0781 Q659.6875,44.0781 659,45.1563 Q658.3125,46.2188 658.3125,48.3125 Q658.3125,50.4063 659,51.4844 Q659.6875,52.5469 661.0313,52.5469 Q661.6563,52.5469 662.25,52.2813 Q662.8438,52 663.4688,51.4219 L663.4688,54.1406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.4299" x="674.5" y="53.932">Type</text></g><!--class Entity--><g id="elem_Entity"><rect codeline="10" fill="#FEFECE" filter="url(#f28tnrufcvpgh)" height="59.0679" id="Entity" style="stroke:#A80036;stroke-width:1;" width="100.7737" x="376" y="7"></rect><ellipse cx="405.165" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M408.1338,28.6406 Q407.5556,28.9375 406.915,29.0781 Q406.2744,29.2344 405.5713,29.2344 Q403.0713,29.2344 401.7431,27.5938 Q400.4306,25.9375 400.4306,22.8125 Q400.4306,19.6875 401.7431,18.0313 Q403.0713,16.375 405.5713,16.375 Q406.2744,16.375 406.915,16.5313 Q407.5713,16.6875 408.1338,16.9844 L408.1338,19.7031 Q407.5088,19.125 406.915,18.8594 Q406.3213,18.5781 405.6963,18.5781 Q404.3525,18.5781 403.665,19.6563 Q402.9775,20.7188 402.9775,22.8125 Q402.9775,24.9063 403.665,25.9844 Q404.3525,27.0469 405.6963,27.0469 Q406.3213,27.0469 406.915,26.7813 Q407.5088,26.5 408.1338,25.9219 L408.1338,28.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.2959" x="422.3128" y="28.432">Entity</text><line style="stroke:#A80036;stroke-width:1;" x1="377" x2="475.7737" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.7737" x="382" y="57.9659">Entité métier.</text></g><!--class MyMessage--><g id="elem_MyMessage"><rect codeline="14" fill="#FEFECE" filter="url(#f28tnrufcvpgh)" height="78.1358" id="MyMessage" style="stroke:#A80036;stroke-width:1;" width="231.1972" x="311" y="101.5"></rect><ellipse cx="383.2467" cy="117.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M386.2155,123.1406 Q385.6374,123.4375 384.9967,123.5781 Q384.3561,123.7344 383.653,123.7344 Q381.153,123.7344 379.8249,122.0938 Q378.5124,120.4375 378.5124,117.3125 Q378.5124,114.1875 379.8249,112.5313 Q381.153,110.875 383.653,110.875 Q384.3561,110.875 384.9967,111.0313 Q385.653,111.1875 386.2155,111.4844 L386.2155,114.2031 Q385.5905,113.625 384.9967,113.3594 Q384.403,113.0781 383.778,113.0781 Q382.4342,113.0781 381.7467,114.1563 Q381.0592,115.2188 381.0592,117.3125 Q381.0592,119.4063 381.7467,120.4844 Q382.4342,121.5469 383.778,121.5469 Q384.403,121.5469 384.9967,121.2813 Q385.5905,121 386.2155,120.4219 L386.2155,123.1406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.2037" x="403.7467" y="122.932">MyMessage</text><line style="stroke:#A80036;stroke-width:1;" x1="312" x2="541.1972" y1="133.5" y2="133.5"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219.1972" x="317" y="152.4659">Format de contenu transitant par</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196.7972" x="317" y="171.5339">Middleware Orienté Message.</text></g><!--class MyPayload--><g id="elem_MyPayload"><rect codeline="19" fill="#FEFECE" filter="url(#f28tnrufcvpgh)" height="59.0679" id="MyPayload" style="stroke:#A80036;stroke-width:1;" width="149.5215" x="602" y="111"></rect><ellipse cx="637.5532" cy="127" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M640.5219,132.6406 Q639.9438,132.9375 639.3032,133.0781 Q638.6626,133.2344 637.9594,133.2344 Q635.4594,133.2344 634.1313,131.5938 Q632.8188,129.9375 632.8188,126.8125 Q632.8188,123.6875 634.1313,122.0313 Q635.4594,120.375 637.9594,120.375 Q638.6626,120.375 639.3032,120.5313 Q639.9594,120.6875 640.5219,120.9844 L640.5219,123.7031 Q639.8969,123.125 639.3032,122.8594 Q638.7094,122.5781 638.0844,122.5781 Q636.7407,122.5781 636.0532,123.6563 Q635.3657,124.7188 635.3657,126.8125 Q635.3657,128.9063 636.0532,129.9844 Q636.7407,131.0469 638.0844,131.0469 Q638.7094,131.0469 639.3032,130.7813 Q639.8969,130.5 640.5219,129.9219 L640.5219,132.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.8477" x="656.1206" y="132.432">MyPayload</text><line style="stroke:#A80036;stroke-width:1;" x1="603" x2="750.5215" y1="143" y2="143"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.5215" x="608" y="161.9659">Partie d'un message.</text></g><!--class MyEvent--><g id="elem_MyEvent"><rect codeline="23" fill="#FEFECE" filter="url(#f28tnrufcvpgh)" height="97.2038" id="MyEvent" style="stroke:#A80036;stroke-width:1;" width="235.6631" x="11" y="26"></rect><ellipse cx="96.4137" cy="42" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M99.3824,47.6406 Q98.8043,47.9375 98.1637,48.0781 Q97.523,48.2344 96.8199,48.2344 Q94.3199,48.2344 92.9918,46.5938 Q91.6793,44.9375 91.6793,41.8125 Q91.6793,38.6875 92.9918,37.0313 Q94.3199,35.375 96.8199,35.375 Q97.523,35.375 98.1637,35.5313 Q98.8199,35.6875 99.3824,35.9844 L99.3824,38.7031 Q98.7574,38.125 98.1637,37.8594 Q97.5699,37.5781 96.9449,37.5781 Q95.6012,37.5781 94.9137,38.6563 Q94.2262,39.7188 94.2262,41.8125 Q94.2262,43.9063 94.9137,44.9844 Q95.6012,46.0469 96.9449,46.0469 Q97.5699,46.0469 98.1637,45.7813 Q98.7574,45.5 99.3824,44.9219 L99.3824,47.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.3358" x="116.9137" y="47.432">MyEvent</text><line style="stroke:#A80036;stroke-width:1;" x1="12" x2="245.6631" y1="58" y2="58"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219.5332" x="17" y="76.9659">Format de message représentant</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223.6631" x="17" y="96.0339">un événement. Consommable par</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.4595" x="17" y="115.1018">plusieurs abonnés.</text></g><!--class MyCommand--><g id="elem_MyCommand"><rect codeline="29" fill="#FEFECE" filter="url(#f28tnrufcvpgh)" height="97.2038" id="MyCommand" style="stroke:#A80036;stroke-width:1;" width="243.7971" x="7" y="158"></rect><ellipse cx="80.4227" cy="174" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M83.3915,179.6406 Q82.8133,179.9375 82.1727,180.0781 Q81.5321,180.2344 80.829,180.2344 Q78.329,180.2344 77.0008,178.5938 Q75.6883,176.9375 75.6883,173.8125 Q75.6883,170.6875 77.0008,169.0313 Q78.329,167.375 80.829,167.375 Q81.5321,167.375 82.1727,167.5313 Q82.829,167.6875 83.3915,167.9844 L83.3915,170.7031 Q82.7665,170.125 82.1727,169.8594 Q81.579,169.5781 80.954,169.5781 Q79.6102,169.5781 78.9227,170.6563 Q78.2352,171.7188 78.2352,173.8125 Q78.2352,175.9063 78.9227,176.9844 Q79.6102,178.0469 80.954,178.0469 Q81.579,178.0469 82.1727,177.7813 Q82.7665,177.5 83.3915,176.9219 L83.3915,179.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4517" x="100.9227" y="179.432">MyCommand</text><line style="stroke:#A80036;stroke-width:1;" x1="8" x2="249.7971" y1="190" y2="190"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219.5332" x="13" y="208.9659">Format de message représentant</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231.7971" x="13" y="228.0339">une commande. Consommable par</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.6374" x="13" y="247.1018">un seul consommateur.</text></g><!--link MyEvent to MyMessage--><g id="link_MyEvent_MyMessage"><path codeline="35" d="M247.21,100.68 C268.16,105.36 272.4026,106.3074 293.2726,110.9674 " fill="transparent" id="MyEvent-to-MyMessage" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="310.84,114.89,294.5801,105.1116,291.9651,116.8232,310.84,114.89" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link MyCommand to MyMessage--><g id="link_MyCommand_MyMessage"><path codeline="36" d="M251.04,179.46 C270.81,175.05 273.6629,174.4137 293.2729,170.0337 " fill="transparent" id="MyCommand-to-MyMessage" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="310.84,166.11,291.965,164.178,294.5808,175.8894,310.84,166.11" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link MyMessage to Type--><g id="link_MyMessage_Type"><path codeline="37" d="M532.89,101.48 C573.63,86.4 600.2589,76.5374 628.4689,66.0974 " fill="transparent" id="MyMessage-to-Type" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="645.35,59.85,626.3865,60.4703,630.5514,71.7244,645.35,59.85" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link Entity to Type--><g id="link_Entity_Type"><path codeline="38" d="M477.19,38.9 C527.33,41.32 585.201,44.1116 627.231,46.1416 " fill="transparent" id="Entity-to-Type" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="645.21,47.01,627.5204,40.1486,626.9415,52.1346,645.21,47.01" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link MyMessage to MyPayload--><g id="link_MyMessage_MyPayload"><path codeline="39" d="M554.29,140.5 C574.51,140.5 583.07,140.5 601.8,140.5 " fill="transparent" id="MyMessage-backto-MyPayload" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="542.29,140.5,548.29,144.5,554.29,140.5,548.29,136.5,542.29,140.5" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--SRC=[bL4nRiCm3Dpr2cwTd2Tq2T8jQ8P-GBROHAX46QISm4Zx8B_37okjsacBUEb8ydXtvCc79-0aQ4p0zmmv0VlZAOFpZ4tsYOmvUOU0iSqzH8mriXY09bWHUEjRXAlH-ilScZlANh5NRS1FCGuGno5xvCrVwBxVeuWzuen-IHojYYCqYJ9I1vajYS-MChIM2sZldGjuiOpmoXvfefzf7kWFjW_9kfd-O5bDW7lgI4zPtzYTbV71pem6nfR7GHIYZWf6gSRXF0w4KRiRs2QI5AEj0zuSjw4JZnqBs3eHAS63x7RQ8VSluUbBPGlNPTMQO1UcNvPPLWituUNIglfylkTG1ekNbT4ILnbDwHjOylxTkWDJLTrZCDy0]--></g></svg></p><h2 id="5-cas-dutilisation">5. Cas d'utilisation </h2>
<p>Trois cas d'utilisation ont été choisis pour explorer l'architecture applicative :</p>
<ul>
<li>Créer un compte : vital et couvre bien la zone "compte".</li>
<li>Publier une note : risqué et particulièrement atypique.</li>
<li>Rechercher des unités : bonne couverture de la zone "unité".</li>
</ul>
<h3 id="51-créer-un-compte">5.1. Créer un compte </h3>
<p>Ce cas d'utilisation implique cinq processus asynchrones et affecte trois zones.</p>
<h4 id="511-diagrammes-de-séquence">5.1.1. Diagrammes de séquence </h4>
<h5 id="processus-1--initialisation">Processus 1 : initialisation </h5>
<p>Interaction entre l'utilisateur et la zone Compte (account).</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="SEQUENCE" height="805px" preserveAspectRatio="none" style="width:1360px;height:805px;background:#FFFFFF;" version="1.1" viewBox="0 0 1360 805" width="1360px" zoomAndPan="magnify"><title>Processus 1 : initialisation</title><defs><filter height="300%" id="f19e9jdpo965ht" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="180.9773" x="586.9858" y="29.9659">Processus 1 : initialisation</text><rect fill="transparent" filter="url(#f19e9jdpo965ht)" height="83.118" style="stroke:#000000;stroke-width:2;" width="583.864" x="124.9331" y="319.6659"></rect><g><title>Utilisateur</title><rect fill="transparent" height="587.0023" width="8" x="38.0339" y="131.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="42" x2="42" y1="131.1358" y2="718.1381"></line></g><g><title>SignUpForm</title><rect fill="transparent" height="587.0023" width="8" x="174.939" y="131.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="178.9331" x2="178.9331" y1="131.1358" y2="718.1381"></line></g><g><title>AccountController</title><rect fill="transparent" height="587.0023" width="8" x="341.6401" y="131.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="344.9443" x2="344.9443" y1="131.1358" y2="718.1381"></line></g><g><title>AccountService</title><rect fill="transparent" height="587.0023" width="8" x="641.8383" y="131.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="644.8795" x2="644.8795" y1="131.1358" y2="718.1381"></line></g><g><title>Account</title><rect fill="transparent" height="587.0023" width="8" x="734.404" y="131.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="737.7971" x2="737.7971" y1="131.1358" y2="718.1381"></line></g><g><title>&lt;&lt;event&gt;&gt;</title><rect fill="transparent" height="587.0023" width="8" x="847.8366" y="131.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="851.0109" x2="851.0109" y1="131.1358" y2="718.1381"></line></g><g><title>&lt;&lt;repository&gt;&gt;</title><rect fill="transparent" height="587.0023" width="8" x="996.4931" y="131.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="999.6624" x2="999.6624" y1="131.1358" y2="718.1381"></line></g><g><title>&lt;&lt;publisher&gt;&gt;</title><rect fill="transparent" height="587.0023" width="8" x="1157.8966" y="131.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="1161.3239" x2="1161.3239" y1="131.1358" y2="718.1381"></line></g><g><title>&lt;&lt;interface&gt;&gt;</title><rect fill="transparent" height="587.0023" width="8" x="1300.7091" y="131.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="1304.4692" x2="1304.4692" y1="131.1358" y2="718.1381"></line></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0677" x="5" y="127.0339">Utilisateur</text><ellipse cx="42.0339" cy="55.0679" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2;"></ellipse><path d="M42.0339,63.0679 L42.0339,90.0679 M29.0339,71.0679 L55.0339,71.0679 M42.0339,90.0679 L29.0339,105.0679 M42.0339,90.0679 L55.0339,105.0679 " fill="transparent" filter="url(#f19e9jdpo965ht)" style="stroke:#A80036;stroke-width:2;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0677" x="5" y="732.104">Utilisateur</text><ellipse cx="42.0339" cy="746.206" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2;"></ellipse><path d="M42.0339,754.206 L42.0339,781.206 M29.0339,762.206 L55.0339,762.206 M42.0339,781.206 L29.0339,796.206 M42.0339,781.206 L55.0339,796.206 " fill="transparent" filter="url(#f19e9jdpo965ht)" style="stroke:#A80036;stroke-width:2;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.0117" x="134.9331" y="127.0339">SignUpForm</text><path d="M158.439,84.0679 L158.439,108.0679 M158.439,96.0679 L175.439,96.0679 " fill="transparent" filter="url(#f19e9jdpo965ht)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="187.439" cy="96.0679" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.0117" x="134.9331" y="732.104">SignUpForm</text><path d="M158.439,740.206 L158.439,764.206 M158.439,752.206 L175.439,752.206 " fill="transparent" filter="url(#f19e9jdpo965ht)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="187.439" cy="752.206" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.3915" x="282.9443" y="127.0339">AccountController</text><path d="M325.1401,84.0679 L325.1401,108.0679 M325.1401,96.0679 L342.1401,96.0679 " fill="transparent" filter="url(#f19e9jdpo965ht)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="354.1401" cy="96.0679" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.3915" x="282.9443" y="732.104">AccountController</text><path d="M325.1401,740.206 L325.1401,764.206 M325.1401,752.206 L342.1401,752.206 " fill="transparent" filter="url(#f19e9jdpo965ht)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="354.1401" cy="752.206" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.9176" x="592.8795" y="127.0339">AccountService</text><ellipse cx="645.8383" cy="96.0679" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="641.8383,84.0679,647.8383,79.0679,645.8383,84.0679,647.8383,89.0679,641.8383,84.0679" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.9176" x="592.8795" y="732.104">AccountService</text><ellipse cx="645.8383" cy="752.206" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="641.8383,740.206,647.8383,735.206,645.8383,740.206,647.8383,745.206,641.8383,740.206" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2138" x="708.7971" y="127.0339">Account</text><ellipse cx="738.404" cy="96.0679" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="726.404" x2="750.404" y1="110.0679" y2="110.0679"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2138" x="708.7971" y="732.104">Account</text><ellipse cx="738.404" cy="752.206" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="726.404" x2="750.404" y1="766.206" y2="766.206"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="46.6198" x="825.5267" y="107.9659">«event»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.6514" x="778.0109" y="127.0339">AccountCreatedEvent</text><ellipse cx="851.8366" cy="77" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="839.8366" x2="863.8366" y1="91" y2="91"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="46.6198" x="825.5267" y="732.104">«event»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.6514" x="778.0109" y="751.172">AccountCreatedEvent</text><ellipse cx="851.8366" cy="771.2739" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="839.8366" x2="863.8366" y1="785.2739" y2="785.2739"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76.2017" x="959.3923" y="107.9659">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.6615" x="935.6624" y="127.0339">AccountRepository</text><path d="M979.9931,65 L979.9931,89 M979.9931,77 L996.9931,77 " fill="transparent" filter="url(#f19e9jdpo965ht)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="1008.9931" cy="77" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76.2017" x="959.3923" y="732.104">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.6615" x="935.6624" y="751.172">AccountRepository</text><path d="M979.9931,759.2739 L979.9931,783.2739 M979.9931,771.2739 L996.9931,771.2739 " fill="transparent" filter="url(#f19e9jdpo965ht)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="1008.9931" cy="771.2739" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71.6097" x="1123.0917" y="107.9659">«publisher»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.1454" x="1075.3239" y="127.0339">AccountCreatedPublisher</text><path d="M1141.3966,65 L1141.3966,89 M1141.3966,77 L1158.3966,77 " fill="transparent" filter="url(#f19e9jdpo965ht)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="1170.3966" cy="77" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71.6097" x="1123.0917" y="732.104">«publisher»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.1454" x="1075.3239" y="751.172">AccountCreatedPublisher</text><path d="M1141.3966,759.2739 L1141.3966,783.2739 M1141.3966,771.2739 L1158.3966,771.2739 " fill="transparent" filter="url(#f19e9jdpo965ht)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="1170.3966" cy="771.2739" fill="#FEFECE" filter="url(#f19e9jdpo965ht)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><rect fill="#FEFECE" filter="url(#f19e9jdpo965ht)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="88.4797" x="1258.4692" y="74"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68.0117" x="1268.7032" y="95.9659">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.4797" x="1265.4692" y="115.0339">MailService</text><rect fill="#FEFECE" filter="url(#f19e9jdpo965ht)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="88.4797" x="1258.4692" y="717.1381"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68.0117" x="1268.7032" y="739.104">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.4797" x="1265.4692" y="758.172">MailService</text><polygon fill="#A80036" points="166.939,160.8419,176.939,164.8419,166.939,168.8419,170.939,164.8419" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="42.0339" x2="172.939" y1="164.8419" y2="164.8419"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.9051" x="49.0339" y="159.0328">remplir formulaire</text><line style="stroke:#A80036;stroke-width:1;" x1="178.939" x2="220.939" y1="196.5479" y2="196.5479"></line><line style="stroke:#A80036;stroke-width:1;" x1="220.939" x2="220.939" y1="196.5479" y2="209.5479"></line><line style="stroke:#A80036;stroke-width:1;" x1="179.939" x2="220.939" y1="209.5479" y2="209.5479"></line><polygon fill="#A80036" points="189.939,205.5479,179.939,209.5479,189.939,213.5479,185.939,209.5479" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.7821" x="185.939" y="190.7389">vérification locale</text><polygon fill="#A80036" points="333.6401,237.2539,343.6401,241.2539,333.6401,245.2539,337.6401,241.2539" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="178.939" x2="339.6401" y1="241.2539" y2="241.2539"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.7001" x="185.939" y="235.4449">soumettre</text><polygon fill="#A80036" points="633.8383,268.9599,643.8383,272.9599,633.8383,276.9599,637.8383,272.9599" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="345.6401" x2="639.8383" y1="272.9599" y2="272.9599"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.1521" x="352.6401" y="267.1509">signUp(signUpForm)</text><polygon fill="#A80036" points="988.4931,300.6659,998.4931,304.6659,988.4931,308.6659,992.4931,304.6659" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="645.8383" x2="994.4931" y1="304.6659" y2="304.6659"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245.0502" x="652.8383" y="298.8569">findByEmailOrDisplayName(email, nom)</text><path d="M124.9331,319.6659 L187.3921,319.6659 L187.3921,329.3719 L177.3921,339.3719 L124.9331,339.3719 L124.9331,319.6659 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1;"></path><rect fill="transparent" height="83.118" style="stroke:#000000;stroke-width:2;" width="583.864" x="124.9331" y="319.6659"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.459" x="139.9331" y="334.5629">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="92.0583" x="202.3921" y="333.4248">[doublon trouvé]</text><polygon fill="#A80036" points="356.6401,359.0779,346.6401,363.0779,356.6401,367.0779,352.6401,363.0779" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="350.6401" x2="644.8383" y1="363.0779" y2="363.0779"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276.1982" x="362.6401" y="357.2689">AccountException "Email ou nom déjà utilisé"</text><polygon fill="#A80036" points="189.939,390.784,179.939,394.784,189.939,398.784,185.939,394.784" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="183.939" x2="344.6401" y1="394.784" y2="394.784"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.0301" x="195.939" y="388.975">afficher l'erreur</text><line style="stroke:#A80036;stroke-width:1;" x1="645.8383" x2="687.8383" y1="433.49" y2="433.49"></line><line style="stroke:#A80036;stroke-width:1;" x1="687.8383" x2="687.8383" y1="433.49" y2="446.49"></line><line style="stroke:#A80036;stroke-width:1;" x1="646.8383" x2="687.8383" y1="446.49" y2="446.49"></line><polygon fill="#A80036" points="656.8383,442.49,646.8383,446.49,656.8383,450.49,652.8383,446.49" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.718" x="652.8383" y="427.681">validate()</text><polygon fill="#A80036" points="726.404,474.196,736.404,478.196,726.404,482.196,730.404,478.196" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="645.8383" x2="732.404" y1="478.196" y2="478.196"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25.584" x="652.8383" y="472.387">new</text><polygon fill="#A80036" points="988.4931,505.902,998.4931,509.902,988.4931,513.902,992.4931,509.902" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="645.8383" x2="994.4931" y1="509.902" y2="509.902"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.6551" x="652.8383" y="504.093">save(account)</text><polygon fill="#A80036" points="656.8383,537.608,646.8383,541.608,656.8383,545.608,652.8383,541.608" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="650.8383" x2="999.4931" y1="541.608" y2="541.608"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.9971" x="662.8383" y="535.799">newAccount</text><polygon fill="#A80036" points="839.8366,569.314,849.8366,573.314,839.8366,577.314,843.8366,573.314" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="645.8383" x2="845.8366" y1="573.314" y2="573.314"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.3811" x="652.8383" y="567.505">new(newAccount)</text><polygon fill="#A80036" points="1149.8966,601.0201,1159.8966,605.0201,1149.8966,609.0201,1153.8966,605.0201" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="645.8383" x2="1155.8966" y1="605.0201" y2="605.0201"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.4221" x="652.8383" y="599.2111">publish(accountCreated)</text><polygon fill="#A80036" points="1292.7091,632.7261,1302.7091,636.7261,1292.7091,640.7261,1296.7091,636.7261" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="645.8383" x2="1298.7091" y1="636.7261" y2="636.7261"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.8382" x="652.8383" y="630.9171">sendActivationEmail(accountCreated)</text><polygon fill="#A80036" points="356.6401,664.4321,346.6401,668.4321,356.6401,672.4321,352.6401,668.4321" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="350.6401" x2="644.8383" y1="668.4321" y2="668.4321"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.3271" x="362.6401" y="662.6231">success()</text><polygon fill="#A80036" points="189.939,696.1381,179.939,700.1381,189.939,704.1381,185.939,700.1381" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="183.939" x2="344.6401" y1="700.1381" y2="700.1381"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.7011" x="195.939" y="694.3291">afficher la confirmation</text><!--SRC=[ZLJ1Rjim3BthAuXUvW3BOTUW2D1rwQrRqQ8VeChqnasM34focx_fDT-H7nkjsh7d96jFbiZ7H_9HTFX33jW7L2fIj0Xtx0s6a09yWHMGeqZQKj2Hl5DAc-WP7YDb4oPMJpwvKlCM7kYdUsnkFDUZxSeOESPhxo9xQv6LUJiEdWVabWmgT9BzW9zThnabLxbfnGoNbzXzr-kZBFVO-41ItrP0VBYSGFQ4T-b9slY5BFXcE0kyqHp9KACbtQqcsnSfA78HkT861QKcAi1oFUbVT6Ei6qiCbLoJrSIe9luvkjtlc2eoMMImtcWxnnyfAM71fnfZ5EvZxnWoL2_up5Y40_52gHbe39kekOAANFbrkwb5Z1_yZK9ZzVQxhh70plGPd1SkRIEKNdIK7gIC95qfc5UnFDDBRzky66oo2XSv6_ZKaKEvt_tUlqBAakzt5oFnjEUvhheIKRlvsa_8tBrMTEL_UXwbQkNDbpBQOd4UBJ27pnzKCEWM2_tcE71E4CjJLGZzi15di_op73ca6CCMxyQDEx22VWU6Cdl4AOxfLaXlekgLYTJczvldzYx7kIUTJFVt6MN_s7Wro7-b8gvp1Ny1]--></g></svg></p><h5 id="processus-2--création-de-la-note-racine">Processus 2 : création de la note racine </h5>
<p>Le micro-service "note" réagit à la création d'un compte en créant la note racine.</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="SEQUENCE" height="404px" preserveAspectRatio="none" style="width:1038px;height:404px;background:#FFFFFF;" version="1.1" viewBox="0 0 1038 404" width="1038px" zoomAndPan="magnify"><title>Processus 2 : création de la note racine</title><defs><filter height="300%" id="f1epjkmpqo68is" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="271.151" x="385.2182" y="29.9659">Processus 2 : création de la note racine</text><g><title>&lt;&lt;subscriber&gt;&gt;</title><rect fill="transparent" height="210.2361" width="8" x="91.6047" y="115.2038"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="95" x2="95" y1="115.2038" y2="325.4398"></line></g><g><title>NoteService</title><rect fill="transparent" height="210.2361" width="8" x="333.5759" y="115.2038"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="337.194" x2="337.194" y1="115.2038" y2="325.4398"></line></g><g><title>Note</title><rect fill="transparent" height="210.2361" width="8" x="536.157" y="115.2038"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="540.1271" x2="540.1271" y1="115.2038" y2="325.4398"></line></g><g><title>&lt;&lt;event&gt;&gt;</title><rect fill="transparent" height="210.2361" width="8" x="643.7867" y="115.2038"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="647.187" x2="647.187" y1="115.2038" y2="325.4398"></line></g><g><title>&lt;&lt;repository&gt;&gt;</title><rect fill="transparent" height="210.2361" width="8" x="786.6402" y="115.2038"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="790.3864" x2="790.3864" y1="115.2038" y2="325.4398"></line></g><g><title>&lt;&lt;publisher&gt;&gt;</title><rect fill="transparent" height="210.2361" width="8" x="942.2407" y="115.2038"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="945.894" x2="945.894" y1="115.2038" y2="325.4398"></line></g><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77.8537" x="53.6778" y="92.0339">«subscriber»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.2093" x="5" y="111.1018">AccountCreatedSubscriber</text><path d="M75.1047,49.0679 L75.1047,73.0679 M75.1047,61.0679 L92.1047,61.0679 " fill="transparent" filter="url(#f1epjkmpqo68is)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="104.1047" cy="61.0679" fill="#FEFECE" filter="url(#f1epjkmpqo68is)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77.8537" x="53.6778" y="339.4058">«subscriber»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.2093" x="5" y="358.4737">AccountCreatedSubscriber</text><path d="M75.1047,366.5757 L75.1047,390.5757 M75.1047,378.5757 L92.1047,378.5757 " fill="transparent" filter="url(#f1epjkmpqo68is)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="104.1047" cy="378.5757" fill="#FEFECE" filter="url(#f1epjkmpqo68is)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.7637" x="295.194" y="111.1018">NoteService</text><ellipse cx="337.5759" cy="80.1358" fill="#FEFECE" filter="url(#f1epjkmpqo68is)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="333.5759,68.1358,339.5759,63.1358,337.5759,68.1358,339.5759,73.1358,333.5759,68.1358" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.7637" x="295.194" y="339.4058">NoteService</text><ellipse cx="337.5759" cy="359.5078" fill="#FEFECE" filter="url(#f1epjkmpqo68is)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="333.5759,347.5078,339.5759,342.5078,337.5759,347.5078,339.5759,352.5078,333.5759,347.5078" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.0599" x="521.1271" y="111.1018">Note</text><ellipse cx="540.157" cy="80.1358" fill="#FEFECE" filter="url(#f1epjkmpqo68is)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="528.157" x2="552.157" y1="94.1358" y2="94.1358"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.0599" x="521.1271" y="339.4058">Note</text><ellipse cx="540.157" cy="359.5078" fill="#FEFECE" filter="url(#f1epjkmpqo68is)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="528.157" x2="552.157" y1="373.5078" y2="373.5078"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="46.6198" x="621.4767" y="92.0339">«event»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.1994" x="569.187" y="111.1018">RootNoteCreatedEvent</text><ellipse cx="647.7867" cy="61.0679" fill="#FEFECE" filter="url(#f1epjkmpqo68is)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="635.7867" x2="659.7867" y1="75.0679" y2="75.0679"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="46.6198" x="621.4767" y="339.4058">«event»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.1994" x="569.187" y="358.4737">RootNoteCreatedEvent</text><ellipse cx="647.7867" cy="378.5757" fill="#FEFECE" filter="url(#f1epjkmpqo68is)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="635.7867" x2="659.7867" y1="392.5757" y2="392.5757"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76.2017" x="749.5393" y="92.0339">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.5076" x="736.3864" y="111.1018">NoteRepository</text><path d="M770.1402,49.0679 L770.1402,73.0679 M770.1402,61.0679 L787.1402,61.0679 " fill="transparent" filter="url(#f1epjkmpqo68is)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="799.1402" cy="61.0679" fill="#FEFECE" filter="url(#f1epjkmpqo68is)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76.2017" x="749.5393" y="339.4058">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.5076" x="736.3864" y="358.4737">NoteRepository</text><path d="M770.1402,366.5757 L770.1402,390.5757 M770.1402,378.5757 L787.1402,378.5757 " fill="transparent" filter="url(#f1epjkmpqo68is)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="799.1402" cy="378.5757" fill="#FEFECE" filter="url(#f1epjkmpqo68is)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71.6097" x="907.4358" y="92.0339">«publisher»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.6933" x="854.894" y="111.1018">RootNoteCreatedPublisher</text><path d="M925.7407,49.0679 L925.7407,73.0679 M925.7407,61.0679 L942.7407,61.0679 " fill="transparent" filter="url(#f1epjkmpqo68is)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="954.7407" cy="61.0679" fill="#FEFECE" filter="url(#f1epjkmpqo68is)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71.6097" x="907.4358" y="339.4058">«publisher»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.6933" x="854.894" y="358.4737">RootNoteCreatedPublisher</text><path d="M925.7407,366.5757 L925.7407,390.5757 M925.7407,378.5757 L942.7407,378.5757 " fill="transparent" filter="url(#f1epjkmpqo68is)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="954.7407" cy="378.5757" fill="#FEFECE" filter="url(#f1epjkmpqo68is)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="325.5759,144.9098,335.5759,148.9098,325.5759,152.9098,329.5759,148.9098" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="95.6047" x2="331.5759" y1="148.9098" y2="148.9098"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.9712" x="102.6047" y="143.1008">onAccountCreated(accountCreated)</text><polygon fill="#A80036" points="528.157,176.6158,538.157,180.6158,528.157,184.6158,532.157,180.6158" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="337.5759" x2="534.157" y1="180.6158" y2="180.6158"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.5812" x="344.5759" y="174.8068">new("Bienvenue chez vous !")</text><polygon fill="#A80036" points="778.6402,208.3218,788.6402,212.3218,778.6402,216.3218,782.6402,212.3218" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="337.5759" x2="784.6402" y1="212.3218" y2="212.3218"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.1801" x="344.5759" y="206.5128">save(note)</text><polygon fill="#A80036" points="348.5759,240.0278,338.5759,244.0278,348.5759,248.0278,344.5759,244.0278" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="342.5759" x2="789.6402" y1="244.0278" y2="244.0278"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.354" x="354.5759" y="238.2188">newNote</text><polygon fill="#A80036" points="635.7867,271.7338,645.7867,275.7338,635.7867,279.7338,639.7867,275.7338" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="337.5759" x2="641.7867" y1="275.7338" y2="275.7338"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.7381" x="344.5759" y="269.9248">new(newNote)</text><polygon fill="#A80036" points="934.2407,303.4398,944.2407,307.4398,934.2407,311.4398,938.2407,307.4398" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="337.5759" x2="940.2407" y1="307.4398" y2="307.4398"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.5851" x="344.5759" y="301.6308">publish(rootNoteCreated)</text><!--SRC=[XL0nRiCm3Dpr2ZQJFMJfQ1W6sg9h42Gla6K24Mg80IcxI7wKT_HZfHt7bTCKdSIZxexaoOSFm2HeeeyjmfR9eKWdy0m5EFwwsEWfG8FGMWWK4TWw7z2OchhGM3x1YtDQnZT66x7PTxKuzZKobANCeAgCen2PMjYeonwvzmuD1frx6bktUaSK1ppvlVVQLoiSNdMPnmwS7Hv9V2I5PSapI6btTjkkRhqSnksEjrhvviyhrbMwiQP2OSdDx0Bc9gLFQfK5_CnMhnw37j8Xk0EUeITD-cdrK9BSLe3O7hCX_Yir-Ll_say7ZNdUUJxCzRhMfCZ_aVnaLy2KNSPBIcw-0G00]--></g></svg></p><h5 id="processus-3--mise-à-jour-de-la-note-dans-le-compte">Processus 3 : mise à jour de la note dans le compte </h5>
<p>Le micro-service compte réagit à la création de la note racine en mettant le compte à jour.</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="SEQUENCE" height="341px" preserveAspectRatio="none" style="width:621px;height:341px;background:#FFFFFF;" version="1.1" viewBox="0 0 621 341" width="621px" zoomAndPan="magnify"><title>Processus 3 : mise à jour de la note dans le compte</title><defs><filter height="300%" id="f117qiqxca9en5" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="352.5046" x="135.8542" y="29.9659">Processus 3 : mise à jour de la note dans le compte</text><g><title>&lt;&lt;subscriber&gt;&gt;</title><rect fill="transparent" height="146.8241" width="8" x="96.3787" y="115.2038"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="100" x2="100" y1="115.2038" y2="262.0278"></line></g><g><title>AccountService</title><rect fill="transparent" height="146.8241" width="8" x="354.3788" y="115.2038"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="357.42" x2="357.42" y1="115.2038" y2="262.0278"></line></g><g><title>&lt;&lt;repository&gt;&gt;</title><rect fill="transparent" height="146.8241" width="8" x="482.1684" y="115.2038"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="485.3376" x2="485.3376" y1="115.2038" y2="262.0278"></line></g><g><title>Account</title><rect fill="transparent" height="146.8241" width="8" x="586.6061" y="115.2038"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="589.9992" x2="589.9992" y1="115.2038" y2="262.0278"></line></g><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77.8537" x="58.4518" y="92.0339">«subscriber»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184.7573" x="5" y="111.1018">RootNoteCreatedSubscriber</text><path d="M79.8787,49.0679 L79.8787,73.0679 M79.8787,61.0679 L96.8787,61.0679 " fill="transparent" filter="url(#f117qiqxca9en5)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="108.8787" cy="61.0679" fill="#FEFECE" filter="url(#f117qiqxca9en5)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77.8537" x="58.4518" y="275.9938">«subscriber»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184.7573" x="5" y="295.0617">RootNoteCreatedSubscriber</text><path d="M79.8787,303.1637 L79.8787,327.1637 M79.8787,315.1637 L96.8787,315.1637 " fill="transparent" filter="url(#f117qiqxca9en5)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="108.8787" cy="315.1637" fill="#FEFECE" filter="url(#f117qiqxca9en5)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.9176" x="305.42" y="111.1018">AccountService</text><ellipse cx="358.3788" cy="80.1358" fill="#FEFECE" filter="url(#f117qiqxca9en5)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="354.3788,68.1358,360.3788,63.1358,358.3788,68.1358,360.3788,73.1358,354.3788,68.1358" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.9176" x="305.42" y="275.9938">AccountService</text><ellipse cx="358.3788" cy="296.0957" fill="#FEFECE" filter="url(#f117qiqxca9en5)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="354.3788,284.0957,360.3788,279.0957,358.3788,284.0957,360.3788,289.0957,354.3788,284.0957" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76.2017" x="445.0675" y="92.0339">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.6615" x="421.3376" y="111.1018">AccountRepository</text><path d="M465.6684,49.0679 L465.6684,73.0679 M465.6684,61.0679 L482.6684,61.0679 " fill="transparent" filter="url(#f117qiqxca9en5)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="494.6684" cy="61.0679" fill="#FEFECE" filter="url(#f117qiqxca9en5)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76.2017" x="445.0675" y="275.9938">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.6615" x="421.3376" y="295.0617">AccountRepository</text><path d="M465.6684,303.1637 L465.6684,327.1637 M465.6684,315.1637 L482.6684,315.1637 " fill="transparent" filter="url(#f117qiqxca9en5)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="494.6684" cy="315.1637" fill="#FEFECE" filter="url(#f117qiqxca9en5)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2138" x="560.9992" y="111.1018">Account</text><ellipse cx="590.6061" cy="80.1358" fill="#FEFECE" filter="url(#f117qiqxca9en5)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="578.6061" x2="602.6061" y1="94.1358" y2="94.1358"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2138" x="560.9992" y="275.9938">Account</text><ellipse cx="590.6061" cy="296.0957" fill="#FEFECE" filter="url(#f117qiqxca9en5)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="578.6061" x2="602.6061" y1="310.0957" y2="310.0957"></line><polygon fill="#A80036" points="346.3788,144.9098,356.3788,148.9098,346.3788,152.9098,350.3788,148.9098" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="100.3787" x2="352.3788" y1="148.9098" y2="148.9098"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234.0002" x="107.3787" y="143.1008">onRootNoteCreated(rootNoteCreated)</text><polygon fill="#A80036" points="474.1684,176.6158,484.1684,180.6158,474.1684,184.6158,478.1684,180.6158" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="358.3788" x2="480.1684" y1="180.6158" y2="180.6158"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.4861" x="365.3788" y="174.8068">findById(id)</text><polygon fill="#A80036" points="578.6061,208.3218,588.6061,212.3218,578.6061,216.3218,582.6061,212.3218" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="358.3788" x2="584.6061" y1="212.3218" y2="212.3218"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.6971" x="365.3788" y="206.5128">setRootNoteId(rootNoteId)</text><polygon fill="#A80036" points="474.1684,240.0278,484.1684,244.0278,474.1684,248.0278,478.1684,244.0278" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="358.3788" x2="480.1684" y1="244.0278" y2="244.0278"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.6691" x="365.3788" y="238.2188">save(Account)</text><!--SRC=[ZOyn3i8m34NtdC9Z6PZOK5K9cBeWr9uWJOmKA36otKgz3NVXOcI05Yg16B_z_l-sd4C49a6ZGLk40vD3aKvW1Mku146ut-147OD7Q2r4KWHleq2Y7LskYiOqr4LlUO2AIFU9s35QHLztZJWE3JBakOoYA8oZg4mjR9nBNgsH- -1m2dhEAxoI1AKqoNCUHGh0c0uUEME-Do-BMKjwZEACp_XJBypCCwMytRI6OuX-EvG-2xyi2HJKLsKvjPL_5udjCNik5Wy0]--></g></svg></p><h5 id="processus-4--mise-à-jour-du-domaine-unité">Processus 4 : mise à jour du domaine "unité" </h5>
<p>Le micro-service unité réagit également à la création du compte, en mettant à jour sa liste d'auteurs.</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="SEQUENCE" height="309px" preserveAspectRatio="none" style="width:651px;height:309px;background:#FFFFFF;" version="1.1" viewBox="0 0 651 309" width="651px" zoomAndPan="magnify"><title>Processus 4 : mise à jour du domaine "unité"</title><defs><filter height="300%" id="fqclbjwxyghxx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="310.4349" x="172.0138" y="29.9659">Processus 4 : mise à jour du domaine "unité"</text><g><title>&lt;&lt;subscriber&gt;&gt;</title><rect fill="transparent" height="115.118" width="8" x="91.6047" y="115.2038"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="95" x2="95" y1="115.2038" y2="230.3218"></line></g><g><title>AuthorService</title><rect fill="transparent" height="115.118" width="8" x="333.5759" y="115.2038"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="337.446" x2="337.446" y1="115.2038" y2="230.3218"></line></g><g><title>Author</title><rect fill="transparent" height="115.118" width="8" x="488.681" y="115.2038"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="491.9031" x2="491.9031" y1="115.2038" y2="230.3218"></line></g><g><title>&lt;&lt;repository&gt;&gt;</title><rect fill="transparent" height="115.118" width="8" x="585.4607" y="115.2038"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="589.4589" x2="589.4589" y1="115.2038" y2="230.3218"></line></g><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77.8537" x="53.6778" y="92.0339">«subscriber»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.2093" x="5" y="111.1018">AccountCreatedSubscriber</text><path d="M75.1047,49.0679 L75.1047,73.0679 M75.1047,61.0679 L92.1047,61.0679 " fill="transparent" filter="url(#fqclbjwxyghxx)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="104.1047" cy="61.0679" fill="#FEFECE" filter="url(#fqclbjwxyghxx)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77.8537" x="53.6778" y="244.2877">«subscriber»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.2093" x="5" y="263.3557">AccountCreatedSubscriber</text><path d="M75.1047,271.4576 L75.1047,295.4576 M75.1047,283.4576 L92.1047,283.4576 " fill="transparent" filter="url(#fqclbjwxyghxx)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="104.1047" cy="283.4576" fill="#FEFECE" filter="url(#fqclbjwxyghxx)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.2596" x="288.446" y="111.1018">AuthorService</text><ellipse cx="337.5759" cy="80.1358" fill="#FEFECE" filter="url(#fqclbjwxyghxx)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="333.5759,68.1358,339.5759,63.1358,337.5759,68.1358,339.5759,73.1358,333.5759,68.1358" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.2596" x="288.446" y="244.2877">AuthorService</text><ellipse cx="337.5759" cy="264.3897" fill="#FEFECE" filter="url(#fqclbjwxyghxx)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="333.5759,252.3897,339.5759,247.3897,337.5759,252.3897,339.5759,257.3897,333.5759,252.3897" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.5558" x="466.9031" y="111.1018">Author</text><ellipse cx="492.681" cy="80.1358" fill="#FEFECE" filter="url(#fqclbjwxyghxx)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="480.681" x2="504.681" y1="94.1358" y2="94.1358"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.5558" x="466.9031" y="244.2877">Author</text><ellipse cx="492.681" cy="264.3897" fill="#FEFECE" filter="url(#fqclbjwxyghxx)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="480.681" x2="504.681" y1="278.3897" y2="278.3897"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76.2017" x="548.3598" y="92.0339">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.0036" x="528.4589" y="111.1018">AuthorRepository</text><path d="M568.9607,49.0679 L568.9607,73.0679 M568.9607,61.0679 L585.9607,61.0679 " fill="transparent" filter="url(#fqclbjwxyghxx)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="597.9607" cy="61.0679" fill="#FEFECE" filter="url(#fqclbjwxyghxx)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76.2017" x="548.3598" y="244.2877">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.0036" x="528.4589" y="263.3557">AuthorRepository</text><path d="M568.9607,271.4576 L568.9607,295.4576 M568.9607,283.4576 L585.9607,283.4576 " fill="transparent" filter="url(#fqclbjwxyghxx)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="597.9607" cy="283.4576" fill="#FEFECE" filter="url(#fqclbjwxyghxx)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="325.5759,144.9098,335.5759,148.9098,325.5759,152.9098,329.5759,148.9098" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="95.6047" x2="331.5759" y1="148.9098" y2="148.9098"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.9712" x="102.6047" y="143.1008">onAccountCreated(accountCreated)</text><polygon fill="#A80036" points="480.681,176.6158,490.681,180.6158,480.681,184.6158,484.681,180.6158" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="337.5759" x2="486.681" y1="180.6158" y2="180.6158"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.1051" x="344.5759" y="174.8068">new(id, displayName)</text><polygon fill="#A80036" points="577.4607,208.3218,587.4607,212.3218,577.4607,216.3218,581.4607,212.3218" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="337.5759" x2="583.4607" y1="212.3218" y2="212.3218"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.5441" x="344.5759" y="206.5128">save(author)</text><!--SRC=[TOz12i9034NtEKLmLK5thgGKnBs8dc0w4p3QJYIPKNeRjvx3Ypc85Bjmb_Vv-J-n2qTKCG98d3h2lOedisoumZNsR8Il1vubAuQCGNh7aN2M8wVNSmRGIex1wO0RxykOjaekKJZcrhnoIufrRICq3NY9IQN3JKudqIFfZJq1nL8_VCMVq0yVw2h6IOfGrpf22OE_hSjcsb2UaJXrLsw2SvWkZ0bbDTAzuh30m7RjtB1pFVsr_roxHdCtgjn7dyCR]--></g></svg></p><h5 id="processus-5--activation-du-compte">Processus 5 : activation du compte </h5>
<p>L'utilisateur active le compte (interaction avec la zone "account").</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="SEQUENCE" height="523px" preserveAspectRatio="none" style="width:820px;height:523px;background:#FFFFFF;" version="1.1" viewBox="0 0 820 523" width="820px" zoomAndPan="magnify"><title>Processus 5 : activation du compte</title><defs><filter height="300%" id="f15h95g5qfdtby" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="241.0651" x="291.0428" y="29.9659">Processus 5 : activation du compte</text><g><title>Utilisateur</title><rect fill="transparent" height="305.3541" width="8" x="38.0339" y="131.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="42" x2="42" y1="131.1358" y2="436.49"></line></g><g><title>&lt;&lt;ui&gt;&gt;</title><rect fill="transparent" height="305.3541" width="8" x="134.3586" y="131.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="138.0677" x2="138.0677" y1="131.1358" y2="436.49"></line></g><g><title>AccountController</title><rect fill="transparent" height="305.3541" width="8" x="311.3557" y="131.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="314.6599" x2="314.6599" y1="131.1358" y2="436.49"></line></g><g><title>AccountService</title><rect fill="transparent" height="305.3541" width="8" x="537.1679" y="131.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="540.2091" x2="540.2091" y1="131.1358" y2="436.49"></line></g><g><title>&lt;&lt;repository&gt;&gt;</title><rect fill="transparent" height="305.3541" width="8" x="681.106" y="131.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="684.2753" x2="684.2753" y1="131.1358" y2="436.49"></line></g><g><title>Account</title><rect fill="transparent" height="305.3541" width="8" x="785.5437" y="131.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="788.9368" x2="788.9368" y1="131.1358" y2="436.49"></line></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0677" x="5" y="127.0339">Utilisateur</text><ellipse cx="42.0339" cy="55.0679" fill="#FEFECE" filter="url(#f15h95g5qfdtby)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2;"></ellipse><path d="M42.0339,63.0679 L42.0339,90.0679 M29.0339,71.0679 L55.0339,71.0679 M42.0339,90.0679 L29.0339,105.0679 M42.0339,90.0679 L55.0339,105.0679 " fill="transparent" filter="url(#f15h95g5qfdtby)" style="stroke:#A80036;stroke-width:2;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0677" x="5" y="450.4559">Utilisateur</text><ellipse cx="42.0339" cy="464.5579" fill="#FEFECE" filter="url(#f15h95g5qfdtby)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2;"></ellipse><path d="M42.0339,472.5579 L42.0339,499.5579 M29.0339,480.5579 L55.0339,480.5579 M42.0339,499.5579 L29.0339,514.5579 M42.0339,499.5579 L55.0339,514.5579 " fill="transparent" filter="url(#f15h95g5qfdtby)" style="stroke:#A80036;stroke-width:2;"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="25.0739" x="122.8216" y="107.9659">«ui»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.5816" x="89.0677" y="127.0339">LienActivation</text><path d="M117.8586,65 L117.8586,89 M117.8586,77 L134.8586,77 " fill="transparent" filter="url(#f15h95g5qfdtby)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="146.8586" cy="77" fill="#FEFECE" filter="url(#f15h95g5qfdtby)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="25.0739" x="122.8216" y="450.4559">«ui»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.5816" x="89.0677" y="469.5238">LienActivation</text><path d="M117.8586,477.6258 L117.8586,501.6258 M117.8586,489.6258 L134.8586,489.6258 " fill="transparent" filter="url(#f15h95g5qfdtby)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="146.8586" cy="489.6258" fill="#FEFECE" filter="url(#f15h95g5qfdtby)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.3915" x="252.6599" y="127.0339">AccountController</text><path d="M294.8557,84.0679 L294.8557,108.0679 M294.8557,96.0679 L311.8557,96.0679 " fill="transparent" filter="url(#f15h95g5qfdtby)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="323.8557" cy="96.0679" fill="#FEFECE" filter="url(#f15h95g5qfdtby)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.3915" x="252.6599" y="450.4559">AccountController</text><path d="M294.8557,458.5579 L294.8557,482.5579 M294.8557,470.5579 L311.8557,470.5579 " fill="transparent" filter="url(#f15h95g5qfdtby)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="323.8557" cy="470.5579" fill="#FEFECE" filter="url(#f15h95g5qfdtby)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.9176" x="488.2091" y="127.0339">AccountService</text><ellipse cx="541.1679" cy="96.0679" fill="#FEFECE" filter="url(#f15h95g5qfdtby)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="537.1679,84.0679,543.1679,79.0679,541.1679,84.0679,543.1679,89.0679,537.1679,84.0679" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.9176" x="488.2091" y="450.4559">AccountService</text><ellipse cx="541.1679" cy="470.5579" fill="#FEFECE" filter="url(#f15h95g5qfdtby)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="537.1679,458.5579,543.1679,453.5579,541.1679,458.5579,543.1679,463.5579,537.1679,458.5579" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76.2017" x="644.0052" y="107.9659">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.6615" x="620.2753" y="127.0339">AccountRepository</text><path d="M664.606,65 L664.606,89 M664.606,77 L681.606,77 " fill="transparent" filter="url(#f15h95g5qfdtby)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="693.606" cy="77" fill="#FEFECE" filter="url(#f15h95g5qfdtby)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76.2017" x="644.0052" y="450.4559">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.6615" x="620.2753" y="469.5238">AccountRepository</text><path d="M664.606,477.6258 L664.606,501.6258 M664.606,489.6258 L681.606,489.6258 " fill="transparent" filter="url(#f15h95g5qfdtby)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="693.606" cy="489.6258" fill="#FEFECE" filter="url(#f15h95g5qfdtby)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2138" x="759.9368" y="127.0339">Account</text><ellipse cx="789.5437" cy="96.0679" fill="#FEFECE" filter="url(#f15h95g5qfdtby)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="777.5437" x2="801.5437" y1="110.0679" y2="110.0679"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2138" x="759.9368" y="450.4559">Account</text><ellipse cx="789.5437" cy="470.5579" fill="#FEFECE" filter="url(#f15h95g5qfdtby)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="777.5437" x2="801.5437" y1="484.5579" y2="484.5579"></line><polygon fill="#A80036" points="126.3586,160.8419,136.3586,164.8419,126.3586,168.8419,130.3586,164.8419" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="42.0339" x2="132.3586" y1="164.8419" y2="164.8419"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.309" x="49.0339" y="159.0328">clique</text><polygon fill="#A80036" points="303.3557,192.5479,313.3557,196.5479,303.3557,200.5479,307.3557,196.5479" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="138.3586" x2="309.3557" y1="196.5479" y2="196.5479"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.9971" x="145.3586" y="190.7389">redirige(accountId, code)</text><polygon fill="#A80036" points="529.1679,224.2539,539.1679,228.2539,529.1679,232.2539,533.1679,228.2539" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="315.3557" x2="535.1679" y1="228.2539" y2="228.2539"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.8122" x="322.3557" y="222.4449">activateAccount(accountId, code)</text><polygon fill="#A80036" points="673.106,255.9599,683.106,259.9599,673.106,263.9599,677.106,259.9599" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="541.1679" x2="679.106" y1="259.9599" y2="259.9599"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.9381" x="548.1679" y="254.1509">findById(accountId)</text><polygon fill="#A80036" points="777.5437,287.6659,787.5437,291.6659,777.5437,295.6659,781.5437,291.6659" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="541.1679" x2="783.5437" y1="291.6659" y2="291.6659"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.4281" x="548.1679" y="285.8569">checkCode(code)</text><polygon fill="#A80036" points="777.5437,319.3719,787.5437,323.3719,777.5437,327.3719,781.5437,323.3719" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="541.1679" x2="783.5437" y1="323.3719" y2="323.3719"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.0152" x="548.1679" y="317.5629">setActivatedAt(currentInstant)</text><polygon fill="#A80036" points="673.106,351.0779,683.106,355.0779,673.106,359.0779,677.106,355.0779" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="541.1679" x2="679.106" y1="355.0779" y2="355.0779"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.6551" x="548.1679" y="349.2689">save(account)</text><polygon fill="#A80036" points="326.3557,382.784,316.3557,386.784,326.3557,390.784,322.3557,386.784" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="320.3557" x2="540.1679" y1="386.784" y2="386.784"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14.807" x="332.3557" y="380.975">ok</text><polygon fill="#A80036" points="53.0339,414.49,43.0339,418.49,53.0339,422.49,49.0339,418.49" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="47.0339" x2="314.3557" y1="418.49" y2="418.49"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14.807" x="59.0339" y="412.681">ok</text><!--SRC=[ZL71JiCm3BtdAtmi4XovL5EbibCb3XE83mY90Qib6OvJgN-FfsrDjJBWvjZlFJ-_f9u2S4neX6H0s75qc59ES0yrM2SqMg4Om6TmyNClQ8ns8yEBq4392cOshp47Rtc2HyBG5j9cawbfohXrJalPnY0SXm7Pk6DvdZmZZ-HmnNZ2VKoaQoVLvFcXsXZK-8mpPc4BxffBGpMuWRuocek-8bVU5CpeYUaTAtiSTlvMK_1uOzRe8d4wekI7fy5LcJEZQ2mEhk6DWd-OEb_ulp0FDtwWwxUweFfZYs8JoYa7zArKBZDhf5r8OeFyrs2ouvpHcdCbtDZ_bAA2brzuW7q3]--></g></svg></p><h4 id="512-diagrammes-de-classes">5.1.2. Diagrammes de classes </h4>
<p>Le cas d'utilisation défriche une grande partie de la plupart des zones opérationnelles.</p>
<h5 id="5121-zone-account">5.1.2.1. Zone "account" </h5>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="1299px" preserveAspectRatio="none" style="width:1123px;height:1299px;background:#FFFFFF;" version="1.1" viewBox="0 0 1123 1299" width="1123px" zoomAndPan="magnify"><defs><filter height="300%" id="f1a9foityfz0hw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--cluster account--><g id="cluster_account"><polygon fill="transparent" filter="url(#f1a9foityfz0hw)" points="16,6.602,74.1218,6.602,81.1218,31.6699,1106,31.6699,1106,1290.602,16,1290.602,16,6.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="81.1218" y1="31.6699" y2="31.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.1218" x="20" y="23.5679">account</text></g><!--cluster core--><g id="cluster_core"><polygon fill="transparent" filter="url(#f1a9foityfz0hw)" points="40,898.602,74.8679,898.602,81.8679,923.6699,783,923.6699,783,1266.602,40,1266.602,40,898.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="40" x2="81.8679" y1="923.6699" y2="923.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.8679" x="44" y="915.5679">core</text></g><!--cluster business--><g id="cluster_business"><polygon fill="transparent" filter="url(#f1a9foityfz0hw)" points="64,944.602,127.5398,944.602,134.5398,969.6699,759,969.6699,759,1242.602,64,1242.602,64,944.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="64" x2="134.5398" y1="969.6699" y2="969.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.5398" x="68" y="961.5679">business</text></g><!--cluster entities--><g id="cluster_entities"><polygon fill="transparent" filter="url(#f1a9foityfz0hw)" points="567,990.602,621.4818,990.602,628.4818,1015.6699,735,1015.6699,735,1218.602,567,1218.602,567,990.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="567" x2="628.4818" y1="1015.6699" y2="1015.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.4818" x="571" y="1007.5679">entities</text></g><!--cluster services--><g id="cluster_services"><polygon fill="transparent" filter="url(#f1a9foityfz0hw)" points="88,990.602,146.4298,990.602,153.4298,1015.6699,309,1015.6699,309,1140.602,88,1140.602,88,990.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="88" x2="153.4298" y1="1015.6699" y2="1015.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.4298" x="92" y="1007.5679">services</text></g><!--cluster adapters--><g id="cluster_adapters"><polygon fill="transparent" filter="url(#f1a9foityfz0hw)" points="397,52.602,461.3658,52.602,468.3658,77.6699,1082,77.6699,1082,874.602,397,874.602,397,52.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="397" x2="468.3658" y1="77.6699" y2="77.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.3658" x="401" y="69.5679">adapters</text></g><!--cluster kafka--><g id="cluster_kafka"><polygon fill="transparent" filter="url(#f1a9foityfz0hw)" points="530.5,504.602,571.9759,504.602,578.9759,529.6699,771.5,529.6699,771.5,712.602,530.5,712.602,530.5,504.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="530.5" x2="578.9759" y1="529.6699" y2="529.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.4759" x="534.5" y="521.5679">kafka</text></g><!--cluster mail--><g id="cluster_mail"><polygon fill="transparent" filter="url(#f1a9foityfz0hw)" points="532.5,736.602,566.6679,736.602,573.6679,761.6699,769.5,761.6699,769.5,850.602,532.5,850.602,532.5,736.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="532.5" x2="573.6679" y1="761.6699" y2="761.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.1679" x="536.5" y="753.5679">mail</text></g><!--cluster rest--><g id="cluster_rest"><polygon fill="transparent" filter="url(#f1a9foityfz0hw)" points="547,98.602,578.4379,98.602,585.4379,123.6699,1058,123.6699,1058,306.602,547,306.602,547,98.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="547" x2="585.4379" y1="123.6699" y2="123.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.4379" x="551" y="115.5679">rest</text></g><!--cluster data--><g id="cluster_data"><polygon fill="transparent" filter="url(#f1a9foityfz0hw)" points="421,330.602,456.3719,330.602,463.3719,355.6699,881,355.6699,881,480.602,421,480.602,421,330.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="421" x2="463.3719" y1="355.6699" y2="355.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.3719" x="425" y="347.5679">data</text></g><!--class Account--><g id="elem_Account"><rect codeline="8" fill="#FEFECE" filter="url(#f1a9foityfz0hw)" height="173.4754" id="Account" style="stroke:#A80036;stroke-width:1;" width="136.3615" x="583" y="1029.102"></rect><ellipse cx="621.0165" cy="1045.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M623.9852,1050.7426 Q623.4071,1051.0395 622.7665,1051.1801 Q622.1259,1051.3364 621.4227,1051.3364 Q618.9227,1051.3364 617.5946,1049.6957 Q616.2821,1048.0395 616.2821,1044.9145 Q616.2821,1041.7895 617.5946,1040.1332 Q618.9227,1038.477 621.4227,1038.477 Q622.1259,1038.477 622.7665,1038.6332 Q623.4227,1038.7895 623.9852,1039.0864 L623.9852,1041.8051 Q623.3602,1041.227 622.7665,1040.9614 Q622.1727,1040.6801 621.5477,1040.6801 Q620.204,1040.6801 619.5165,1041.7582 Q618.829,1042.8207 618.829,1044.9145 Q618.829,1047.0082 619.5165,1048.0864 Q620.204,1049.1489 621.5477,1049.1489 Q622.1727,1049.1489 622.7665,1048.8832 Q623.3602,1048.602 623.9852,1048.0239 L623.9852,1050.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2138" x="640.1313" y="1050.534">Account</text><line style="stroke:#A80036;stroke-width:1;" x1="584" x2="718.3615" y1="1061.102" y2="1061.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12.222" x="589" y="1080.0679">id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.6237" x="589" y="1099.1358">displayName</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.0639" x="589" y="1118.2038">email</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.9716" x="589" y="1137.2717">hashedPassword</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.3615" x="589" y="1156.3396">activated : boolean</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1917" x="589" y="1175.4075">rootNoteId</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.8176" x="589" y="1194.4754">activationCode</text></g><!--class AccountService--><g id="elem_AccountService"><rect codeline="20" fill="#FEFECE" filter="url(#f1a9foityfz0hw)" height="97.2038" id="AccountService" style="stroke:#A80036;stroke-width:1;" width="188.8333" x="104" y="1028.102"></rect><ellipse cx="144.6121" cy="1044.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M147.5808,1049.7426 Q147.0027,1050.0395 146.3621,1050.1801 Q145.7214,1050.3364 145.0183,1050.3364 Q142.5183,1050.3364 141.1902,1048.6957 Q139.8777,1047.0395 139.8777,1043.9145 Q139.8777,1040.7895 141.1902,1039.1332 Q142.5183,1037.477 145.0183,1037.477 Q145.7214,1037.477 146.3621,1037.6332 Q147.0183,1037.7895 147.5808,1038.0864 L147.5808,1040.8051 Q146.9558,1040.227 146.3621,1039.9614 Q145.7683,1039.6801 145.1433,1039.6801 Q143.7996,1039.6801 143.1121,1040.7582 Q142.4246,1041.8207 142.4246,1043.9145 Q142.4246,1046.0082 143.1121,1047.0864 Q143.7996,1048.1489 145.1433,1048.1489 Q145.7683,1048.1489 146.3621,1047.8832 Q146.9558,1047.602 147.5808,1047.0239 L147.5808,1049.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.9176" x="164.3036" y="1049.534">AccountService</text><line style="stroke:#A80036;stroke-width:1;" x1="105" x2="291.8333" y1="1060.102" y2="1060.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.9817" x="110" y="1079.0679">signUp(form)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.0794" x="110" y="1098.1358">activateAccount(id, code)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.8333" x="110" y="1117.2038">onRootNoteCreated(event)</text></g><!--class AccountCreatedPublisher--><g id="elem_AccountCreatedPublisher"><rect codeline="28" fill="#FEFECE" filter="url(#f1a9foityfz0hw)" height="59.0679" id="AccountCreatedPublisher" style="stroke:#A80036;stroke-width:1;" width="199.1454" x="551.5" y="543.102"></rect><ellipse cx="566.5" cy="559.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M569.4688,564.7426 Q568.8906,565.0395 568.25,565.1801 Q567.6094,565.3364 566.9063,565.3364 Q564.4063,565.3364 563.0781,563.6957 Q561.7656,562.0395 561.7656,558.9145 Q561.7656,555.7895 563.0781,554.1332 Q564.4063,552.477 566.9063,552.477 Q567.6094,552.477 568.25,552.6332 Q568.9063,552.7895 569.4688,553.0864 L569.4688,555.8051 Q568.8438,555.227 568.25,554.9614 Q567.6563,554.6801 567.0313,554.6801 Q565.6875,554.6801 565,555.7582 Q564.3125,556.8207 564.3125,558.9145 Q564.3125,561.0082 565,562.0864 Q565.6875,563.1489 567.0313,563.1489 Q567.6563,563.1489 568.25,562.8832 Q568.8438,562.602 569.4688,562.0239 L569.4688,564.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.1454" x="580.5" y="564.534">AccountCreatedPublisher</text><line style="stroke:#A80036;stroke-width:1;" x1="552.5" x2="749.6454" y1="575.102" y2="575.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160.9154" x="557.5" y="594.0679">publish(accountCreated)</text></g><!--class RootNoteCreatedPublisher--><g id="elem_RootNoteCreatedPublisher"><rect codeline="32" fill="#FEFECE" filter="url(#f1a9foityfz0hw)" height="59.0679" id="RootNoteCreatedPublisher" style="stroke:#A80036;stroke-width:1;" width="208.6933" x="546.5" y="637.102"></rect><ellipse cx="561.5" cy="653.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M564.4688,658.7426 Q563.8906,659.0395 563.25,659.1801 Q562.6094,659.3364 561.9063,659.3364 Q559.4063,659.3364 558.0781,657.6957 Q556.7656,656.0395 556.7656,652.9145 Q556.7656,649.7895 558.0781,648.1332 Q559.4063,646.477 561.9063,646.477 Q562.6094,646.477 563.25,646.6332 Q563.9063,646.7895 564.4688,647.0864 L564.4688,649.8051 Q563.8438,649.227 563.25,648.9614 Q562.6563,648.6801 562.0313,648.6801 Q560.6875,648.6801 560,649.7582 Q559.3125,650.8207 559.3125,652.9145 Q559.3125,655.0082 560,656.0864 Q560.6875,657.1489 562.0313,657.1489 Q562.6563,657.1489 563.25,656.8832 Q563.8438,656.602 564.4688,656.0239 L564.4688,658.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.6933" x="575.5" y="658.534">RootNoteCreatedPublisher</text><line style="stroke:#A80036;stroke-width:1;" x1="547.5" x2="754.1933" y1="669.102" y2="669.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.8333" x="552.5" y="688.0679">onRootNoteCreated(event)</text></g><!--class MailService--><g id="elem_MailService"><rect codeline="38" fill="#FEFECE" filter="url(#f1a9foityfz0hw)" height="59.0679" id="MailService" style="stroke:#A80036;stroke-width:1;" width="205.4232" x="548.5" y="775.102"></rect><ellipse cx="609.7218" cy="791.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M612.6905,796.7426 Q612.1124,797.0395 611.4718,797.1801 Q610.8311,797.3364 610.128,797.3364 Q607.628,797.3364 606.2999,795.6957 Q604.9874,794.0395 604.9874,790.9145 Q604.9874,787.7895 606.2999,786.1332 Q607.628,784.477 610.128,784.477 Q610.8311,784.477 611.4718,784.6332 Q612.128,784.7895 612.6905,785.0864 L612.6905,787.8051 Q612.0655,787.227 611.4718,786.9614 Q610.878,786.6801 610.253,786.6801 Q608.9093,786.6801 608.2218,787.7582 Q607.5343,788.8207 607.5343,790.9145 Q607.5343,793.0082 608.2218,794.0864 Q608.9093,795.1489 610.253,795.1489 Q610.878,795.1489 611.4718,794.8832 Q612.0655,794.602 612.6905,794.0239 L612.6905,796.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.4797" x="630.2218" y="796.534">MailService</text><line style="stroke:#A80036;stroke-width:1;" x1="549.5" x2="752.9232" y1="807.102" y2="807.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.4232" x="554.5" y="826.0679">sendActivationEmail(account)</text></g><!--class AccountController--><g id="elem_AccountController"><rect codeline="44" fill="#FEFECE" filter="url(#f1a9foityfz0hw)" height="78.1358" id="AccountController" style="stroke:#A80036;stroke-width:1;" width="176.1214" x="563" y="193.602"></rect><ellipse cx="589.1284" cy="209.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M592.0972,215.2426 Q591.519,215.5395 590.8784,215.6801 Q590.2378,215.8364 589.5347,215.8364 Q587.0347,215.8364 585.7065,214.1957 Q584.394,212.5395 584.394,209.4145 Q584.394,206.2895 585.7065,204.6332 Q587.0347,202.977 589.5347,202.977 Q590.2378,202.977 590.8784,203.1332 Q591.5347,203.2895 592.0972,203.5864 L592.0972,206.3051 Q591.4722,205.727 590.8784,205.4614 Q590.2847,205.1801 589.6597,205.1801 Q588.3159,205.1801 587.6284,206.2582 Q586.9409,207.3207 586.9409,209.4145 Q586.9409,211.5082 587.6284,212.5864 Q588.3159,213.6489 589.6597,213.6489 Q590.2847,213.6489 590.8784,213.3832 Q591.4722,213.102 592.0972,212.5239 L592.0972,215.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.3915" x="605.6014" y="215.034">AccountController</text><line style="stroke:#A80036;stroke-width:1;" x1="564" x2="738.1214" y1="225.602" y2="225.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.8896" x="569" y="244.5679">submitForm(form)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.1214" x="569" y="263.6358">activate(accountId, code)</text></g><!--class SignUpForm--><g id="elem_SignUpForm"><rect codeline="49" fill="#FEFECE" filter="url(#f1a9foityfz0hw)" height="154.4075" id="SignUpForm" style="stroke:#A80036;stroke-width:1;" width="114.0117" x="928" y="136.602"></rect><ellipse cx="943" cy="152.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M945.9688,158.2426 Q945.3906,158.5395 944.75,158.6801 Q944.1094,158.8364 943.4063,158.8364 Q940.9063,158.8364 939.5781,157.1957 Q938.2656,155.5395 938.2656,152.4145 Q938.2656,149.2895 939.5781,147.6332 Q940.9063,145.977 943.4063,145.977 Q944.1094,145.977 944.75,146.1332 Q945.4063,146.2895 945.9688,146.5864 L945.9688,149.3051 Q945.3438,148.727 944.75,148.4614 Q944.1563,148.1801 943.5313,148.1801 Q942.1875,148.1801 941.5,149.2582 Q940.8125,150.3207 940.8125,152.4145 Q940.8125,154.5082 941.5,155.5864 Q942.1875,156.6489 943.5313,156.6489 Q944.1563,156.6489 944.75,156.3832 Q945.3438,156.102 945.9688,155.5239 L945.9688,158.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.0117" x="957" y="158.034">SignUpForm</text><line style="stroke:#A80036;stroke-width:1;" x1="929" x2="1041.0117" y1="168.602" y2="168.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.6237" x="934" y="187.5679">displayName</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.0639" x="934" y="206.6358">email</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.7418" x="934" y="225.7038">password</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.7837" x="934" y="244.7717">confirmation</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2937" x="934" y="263.8396">countryCode</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.7398" x="934" y="282.9075">language</text></g><!--class AccountRepository--><g id="elem_AccountRepository"><rect codeline="60" fill="#FEFECE" filter="url(#f1a9foityfz0hw)" height="97.2038" id="AccountRepository" style="stroke:#A80036;stroke-width:1;" width="428.2884" x="437" y="368.102"></rect><ellipse cx="589.5994" cy="384.102" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M585.5213,379.8676 L585.5213,377.7114 L592.9119,377.7114 L592.9119,379.8676 L590.4431,379.8676 L590.4431,387.9457 L592.9119,387.9457 L592.9119,390.102 L585.5213,390.102 L585.5213,387.9457 L587.99,387.9457 L587.99,379.8676 L585.5213,379.8676 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="114.5896" x="610.0994" y="389.534">AccountRepository</text><line style="stroke:#A80036;stroke-width:1;" x1="438" x2="864.2884" y1="400.102" y2="400.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.0896" x="443" y="419.0679">save(account)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.9077" x="443" y="438.1358">findById(id)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="416.2884" x="443" y="457.2038">findByEmailOrDisplayName(email, displayName) : Account[0..1]</text></g><!--link AccountController to AccountService--><g id="link_AccountController_AccountService"><path codeline="67" d="M562.78,254.822 C506.84,273.002 436.12,303.812 389,352.602 C293.43,451.552 227.1389,876.2095 206.7889,1022.1095 " fill="transparent" id="AccountController-to-AccountService" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="205.96,1028.052,211.1649,1019.6908,206.6507,1023.0999,203.2416,1018.5857,205.96,1028.052" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AccountService to Account--><g id="link_AccountService_Account"><path codeline="68" d="M293.12,1084.702 C379.61,1092.192 500.0124,1102.6139 576.8624,1109.2739 " fill="transparent" id="AccountService-to-Account" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="582.84,1109.792,574.219,1105.0299,577.8587,1109.3603,573.5283,1113,582.84,1109.792" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AccountService to AccountRepository--><g id="link_AccountService_AccountRepository"><path codeline="69" d="M205.09,1027.852 C216.85,938.802 249.53,745.742 325,601.602 C358.73,537.182 419.6684,496.1616 483.7284,467.6516 " fill="transparent" id="AccountService-to-AccountRepository" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="489.21,465.212,479.3611,465.217,484.642,467.245,482.614,472.5258,489.21,465.212" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.3531" x="326" y="528.499">(via port)</text></g><!--link AccountService to AccountCreatedPublisher--><g id="link_AccountService_AccountCreatedPublisher"><path codeline="70" d="M204.58,1027.922 C217.2,933.202 259.05,724.242 389,619.602 C434.18,583.222 492.128,571.5724 545.408,568.8124 " fill="transparent" id="AccountService-to-AccountCreatedPublisher" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="551.4,568.502,542.2051,564.9729,546.4067,568.7606,542.619,572.9622,551.4,568.502" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.3531" x="326" y="624.499">(via port)</text></g><!--link AccountService to MailService--><g id="link_AccountService_MailService"><path codeline="71" d="M280.04,1027.972 C373.3,971.662 518.8238,883.8035 595.9438,837.2335 " fill="transparent" id="AccountService-to-MailService" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="601.08,834.132,591.308,835.3602,596.7998,836.7166,595.4434,842.2084,601.08,834.132" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.3531" x="326" y="969.499">(via port)</text></g><!--link RootNoteCreatedPublisher to AccountService--><g id="link_RootNoteCreatedPublisher_AccountService"><path codeline="72" d="M546.33,685.642 C494.75,699.202 433.98,721.772 389,758.602 C299.75,831.692 244.6143,953.0106 218.3643,1022.3506 " fill="transparent" id="RootNoteCreatedPublisher-to-AccountService" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="216.24,1027.962,223.1673,1020.9611,218.0102,1023.2858,215.6855,1018.1287,216.24,1027.962" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AccountController to SignUpForm--><g id="link_AccountController_SignUpForm"><path codeline="73" d="M739.23,227.612 C798.79,224.202 869.9598,220.1243 921.5798,217.1743 " fill="transparent" id="AccountController-to-SignUpForm" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="927.57,216.832,918.3564,213.352,922.5781,217.1173,918.8129,221.339,927.57,216.832" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--SRC=[dLDDQzj04BthLmmvoP28z9f38KrRy25fIEYfz33MZkp1qexONQc8al_UbRoI9LcseGB1CZiVxyrxQ_UimOYbQCUAW8hIDL1GiI5Zevmo1qx0y7RdGB6XrB7eA2entUEMu0RJL2hjRk1l507quLGC9PlAiYPh4zAE7PFrEU2_D4ThuV5G6680hC91iIrpR5wme12X0ZaFvntQ7QbNt-6FcBu4FQeQ7IbuW8r8JgZ3ZH5nB-9eFKlr99v47GPyHEr_5hqbKtEwZFxzS3UGiBpLFyiu4rEiPjX2HSpgrWzGrD-BVWiOdmor76Ag_S9Moz1GOUcyCiaUipqkGGfTNgjDpdvLPi1M7Y8nJlBwEQD6CpoddVuJSglY1F6p3vniaBHw73JwrjRqYA_rDsJTuaP4EoDvFc9Wgqt1xhkNQL6hVk9wejLaIU-Tqcs7eUbbuvPJowQYCpP5nt88-P6c6Nm9aAFULfxZ5U8ANMy5rZwIeLze8Fz6fLXsOfeZUQnfkbE0ZBNwqgoLj-Sqr2dmmtmzSeixLhTZkYl_xiAyN_T9ykdt5F2f3dTtdsTFw9ZMEsAKS_5onF01ufeHIZ4TiVCr9zQ-NZaswopxx8EvH7EsZQEVeez_]--></g></svg></p><h5 id="5122-zone-note">5.1.2.2. Zone "note" </h5>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="553px" preserveAspectRatio="none" style="width:952px;height:553px;background:#FFFFFF;" version="1.1" viewBox="0 0 952 553" width="952px" zoomAndPan="magnify"><defs><filter height="300%" id="f19hrspl8h8rkt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--cluster note--><g id="cluster_note"><polygon fill="transparent" filter="url(#f19hrspl8h8rkt)" points="16,6.602,52.0719,6.602,59.0719,31.6699,935,31.6699,935,544.602,16,544.602,16,6.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="59.0719" y1="31.6699" y2="31.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.0719" x="20" y="23.5679">note</text></g><!--cluster core--><g id="cluster_core"><polygon fill="transparent" filter="url(#f19hrspl8h8rkt)" points="40,52.602,74.8679,52.602,81.8679,77.6699,496,77.6699,496,520.602,40,520.602,40,52.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="40" x2="81.8679" y1="77.6699" y2="77.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.8679" x="44" y="69.5679">core</text></g><!--cluster business--><g id="cluster_business"><polygon fill="transparent" filter="url(#f19hrspl8h8rkt)" points="64,98.602,127.5398,98.602,134.5398,123.6699,472,123.6699,472,496.602,64,496.602,64,98.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="64" x2="134.5398" y1="123.6699" y2="123.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.5398" x="68" y="115.5679">business</text></g><!--cluster entities--><g id="cluster_entities"><polygon fill="transparent" filter="url(#f19hrspl8h8rkt)" points="168,144.602,222.4818,144.602,229.4818,169.6699,368,169.6699,368,334.602,168,334.602,168,144.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="168" x2="229.4818" y1="169.6699" y2="169.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.4818" x="172" y="161.5679">entities</text></g><!--cluster services--><g id="cluster_services"><polygon fill="transparent" filter="url(#f19hrspl8h8rkt)" points="88,358.602,146.4298,358.602,153.4298,383.6699,448,383.6699,448,472.602,88,472.602,88,358.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="88" x2="153.4298" y1="383.6699" y2="383.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.4298" x="92" y="375.5679">services</text></g><!--cluster adapters--><g id="cluster_adapters"><polygon fill="transparent" filter="url(#f19hrspl8h8rkt)" points="584,104.602,648.3658,104.602,655.3658,129.6699,911,129.6699,911,520.602,584,520.602,584,104.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="584" x2="655.3658" y1="129.6699" y2="129.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.3658" x="588" y="121.5679">adapters</text></g><!--cluster data--><g id="cluster_data"><polygon fill="transparent" filter="url(#f19hrspl8h8rkt)" points="664,382.602,699.3719,382.602,706.3719,407.6699,831,407.6699,831,496.602,664,496.602,664,382.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="664" x2="706.3719" y1="407.6699" y2="407.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.3719" x="668" y="399.5679">data</text></g><!--cluster kafka--><g id="cluster_kafka"><polygon fill="transparent" filter="url(#f19hrspl8h8rkt)" points="608,150.602,649.4759,150.602,656.4759,175.6699,887,175.6699,887,358.602,608,358.602,608,150.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="608" x2="656.4759" y1="175.6699" y2="175.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.4759" x="612" y="167.5679">kafka</text></g><!--class Note--><g id="elem_Note"><rect codeline="11" fill="#FEFECE" filter="url(#f19hrspl8h8rkt)" height="135.3396" id="Note" style="stroke:#A80036;stroke-width:1;" width="167.8614" x="184" y="183.102"></rect><ellipse cx="247.6508" cy="199.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M250.6195,204.7426 Q250.0414,205.0395 249.4008,205.1801 Q248.7601,205.3364 248.057,205.3364 Q245.557,205.3364 244.2289,203.6957 Q242.9164,202.0395 242.9164,198.9145 Q242.9164,195.7895 244.2289,194.1332 Q245.557,192.477 248.057,192.477 Q248.7601,192.477 249.4008,192.6332 Q250.057,192.7895 250.6195,193.0864 L250.6195,195.8051 Q249.9945,195.227 249.4008,194.9614 Q248.807,194.6801 248.182,194.6801 Q246.8383,194.6801 246.1508,195.7582 Q245.4633,196.8207 245.4633,198.9145 Q245.4633,201.0082 246.1508,202.0864 Q246.8383,203.1489 248.182,203.1489 Q248.807,203.1489 249.4008,202.8832 Q249.9945,202.602 250.6195,202.0239 L250.6195,204.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.0599" x="268.1508" y="204.534">Note</text><line style="stroke:#A80036;stroke-width:1;" x1="185" x2="350.8614" y1="215.102" y2="215.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.0478" x="190" y="234.0679">id: UUID</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.0157" x="190" y="253.1358">title: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.2856" x="190" y="272.2038">content: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.8614" x="190" y="291.2717">creationDate: DateTime</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.6456" x="190" y="310.3396">authorId: UUID</text></g><!--class NoteService--><g id="elem_NoteService"><rect codeline="21" fill="#FEFECE" filter="url(#f19hrspl8h8rkt)" height="59.0679" id="NoteService" style="stroke:#A80036;stroke-width:1;" width="328.3287" x="104" y="397.102"></rect><ellipse cx="224.5325" cy="413.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M227.5013,418.7426 Q226.9231,419.0395 226.2825,419.1801 Q225.6419,419.3364 224.9388,419.3364 Q222.4388,419.3364 221.1106,417.6957 Q219.7981,416.0395 219.7981,412.9145 Q219.7981,409.7895 221.1106,408.1332 Q222.4388,406.477 224.9388,406.477 Q225.6419,406.477 226.2825,406.6332 Q226.9388,406.7895 227.5013,407.0864 L227.5013,409.8051 Q226.8763,409.227 226.2825,408.9614 Q225.6888,408.6801 225.0638,408.6801 Q223.72,408.6801 223.0325,409.7582 Q222.345,410.8207 222.345,412.9145 Q222.345,415.0082 223.0325,416.0864 Q223.72,417.1489 225.0638,417.1489 Q225.6888,417.1489 226.2825,416.8832 Q226.8763,416.602 227.5013,416.0239 L227.5013,418.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.7637" x="245.0325" y="418.534">NoteService</text><line style="stroke:#A80036;stroke-width:1;" x1="105" x2="431.3287" y1="429.102" y2="429.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="316.3287" x="110" y="448.0679">onAccountCreated(event: AccountCreatedEvent)</text></g><!--class NoteRepository--><g id="elem_NoteRepository"><rect codeline="30" fill="#FEFECE" filter="url(#f19hrspl8h8rkt)" height="59.0679" id="NoteRepository" style="stroke:#A80036;stroke-width:1;" width="134.5076" x="680" y="421.102"></rect><ellipse cx="695" cy="437.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M697.9688,442.7426 Q697.3906,443.0395 696.75,443.1801 Q696.1094,443.3364 695.4063,443.3364 Q692.9063,443.3364 691.5781,441.6957 Q690.2656,440.0395 690.2656,436.9145 Q690.2656,433.7895 691.5781,432.1332 Q692.9063,430.477 695.4063,430.477 Q696.1094,430.477 696.75,430.6332 Q697.4063,430.7895 697.9688,431.0864 L697.9688,433.8051 Q697.3438,433.227 696.75,432.9614 Q696.1563,432.6801 695.5313,432.6801 Q694.1875,432.6801 693.5,433.7582 Q692.8125,434.8207 692.8125,436.9145 Q692.8125,439.0082 693.5,440.0864 Q694.1875,441.1489 695.5313,441.1489 Q696.1563,441.1489 696.75,440.8832 Q697.3438,440.602 697.9688,440.0239 L697.9688,442.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.5076" x="709" y="442.534">NoteRepository</text><line style="stroke:#A80036;stroke-width:1;" x1="681" x2="813.5076" y1="453.102" y2="453.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0397" x="686" y="472.0679">save(note)</text></g><!--class RootNoteCreatedPublisher--><g id="elem_RootNoteCreatedPublisher"><rect codeline="36" fill="#FEFECE" filter="url(#f19hrspl8h8rkt)" height="59.0679" id="RootNoteCreatedPublisher" style="stroke:#A80036;stroke-width:1;" width="208.6933" x="643" y="283.102"></rect><ellipse cx="658" cy="299.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M660.9688,304.7426 Q660.3906,305.0395 659.75,305.1801 Q659.1094,305.3364 658.4063,305.3364 Q655.9063,305.3364 654.5781,303.6957 Q653.2656,302.0395 653.2656,298.9145 Q653.2656,295.7895 654.5781,294.1332 Q655.9063,292.477 658.4063,292.477 Q659.1094,292.477 659.75,292.6332 Q660.4063,292.7895 660.9688,293.0864 L660.9688,295.8051 Q660.3438,295.227 659.75,294.9614 Q659.1563,294.6801 658.5313,294.6801 Q657.1875,294.6801 656.5,295.7582 Q655.8125,296.8207 655.8125,298.9145 Q655.8125,301.0082 656.5,302.0864 Q657.1875,303.1489 658.5313,303.1489 Q659.1563,303.1489 659.75,302.8832 Q660.3438,302.602 660.9688,302.0239 L660.9688,304.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.6933" x="672" y="304.534">RootNoteCreatedPublisher</text><line style="stroke:#A80036;stroke-width:1;" x1="644" x2="850.6933" y1="315.102" y2="315.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.6294" x="649" y="334.0679">publish(rootNoteCreated)</text></g><!--class AccountCreatedSubscriber--><g id="elem_AccountCreatedSubscriber"><rect codeline="40" fill="#FEFECE" filter="url(#f19hrspl8h8rkt)" height="59.0679" id="AccountCreatedSubscriber" style="stroke:#A80036;stroke-width:1;" width="246.7371" x="624" y="189.102"></rect><ellipse cx="656.7875" cy="205.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M659.7562,210.7426 Q659.1781,211.0395 658.5375,211.1801 Q657.8969,211.3364 657.1937,211.3364 Q654.6937,211.3364 653.3656,209.6957 Q652.0531,208.0395 652.0531,204.9145 Q652.0531,201.7895 653.3656,200.1332 Q654.6937,198.477 657.1937,198.477 Q657.8969,198.477 658.5375,198.6332 Q659.1937,198.7895 659.7562,199.0864 L659.7562,201.8051 Q659.1312,201.227 658.5375,200.9614 Q657.9437,200.6801 657.3187,200.6801 Q655.975,200.6801 655.2875,201.7582 Q654.6,202.8207 654.6,204.9145 Q654.6,207.0082 655.2875,208.0864 Q655.975,209.1489 657.3187,209.1489 Q657.9437,209.1489 658.5375,208.8832 Q659.1312,208.602 659.7562,208.0239 L659.7562,210.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.2093" x="674.7403" y="210.534">AccountCreatedSubscriber</text><line style="stroke:#A80036;stroke-width:1;" x1="625" x2="869.7371" y1="221.102" y2="221.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234.7371" x="630" y="240.0679">onAccountCreated(accountCreated)</text></g><!--link AccountCreatedSubscriber to NoteService--><g id="link_AccountCreatedSubscriber_NoteService"><path codeline="47" d="M623.83,244.442 C607.22,250.212 590.82,257.182 576,265.602 C537.46,287.492 541.35,310.732 504,334.602 C462.74,360.972 418.3925,379.8581 375.1225,395.0181 " fill="transparent" id="AccountCreatedSubscriber-to-NoteService" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="369.46,397.002,379.2764,397.8011,374.1788,395.3487,376.6312,390.2511,369.46,397.002" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link NoteService to NoteRepository--><g id="link_NoteService_NoteRepository"><path codeline="48" d="M432.33,434.812 C517.13,439.072 610.0876,443.7407 673.9376,446.9507 " fill="transparent" id="NoteService-to-NoteRepository" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="679.93,447.252,671.1422,442.8051,674.9363,447.0009,670.7405,450.795,679.93,447.252" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.3531" x="513" y="435.499">(via port)</text></g><!--link NoteService to RootNoteCreatedPublisher--><g id="link_NoteService_RootNoteCreatedPublisher"><path codeline="49" d="M392.59,397.092 C470.24,378.562 563.4241,356.3155 636.9641,338.7555 " fill="transparent" id="NoteService-to-RootNoteCreatedPublisher" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="642.8,337.362,633.1171,335.5616,637.9367,338.5232,634.9751,343.3429,642.8,337.362" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.3531" x="513" y="352.499">(via port)</text></g><!--SRC=[TL51Ri8m4Bpd5IjEuG0FoA5ILNhWKbLG7k0u2rabiIDx4mbL_Bqs8M2xa8CZp-xCZcTjGmgCjfYrU6HW3OPEDKD51YMJLbbD5G9sFP-Xmwv4OxEi5x8H9uI5qemB-CqoW1cJsg1301vGELXIQEtK65PGCJ6XlH7y9rlXEh-SS002K5N0uR3T192ZjbZ0dWsfKu1BhTW9FwiO5FvH6y6EwCyVwZ1e40FNscpJMPTi_YV-BPgHv0l_-waOFKEhTodreFZ3My4gn_5gDKO_FRXyCdu-Bs7YeX8zkxqagLU2nNtsmzKEUss9jJa7ngmOCVVBN2QZ8iL679jKSgSrUzcRy- -XRCdMQ0BnVi9o4xSkqr0dmJY9_L1QQQYC1F-5AA9h8dpFwwNoQlKMBiorXklprJdYjGzrdSHOG3wIW5wRwyvIxik48jxb3m00]--></g></svg></p><h5 id="5123-zone-unit">5.1.2.3. Zone "unit" </h5>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="495px" preserveAspectRatio="none" style="width:992px;height:495px;background:#FFFFFF;" version="1.1" viewBox="0 0 992 495" width="992px" zoomAndPan="magnify"><defs><filter height="300%" id="f8tgcwcz1w8i1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--cluster unit--><g id="cluster_unit"><polygon fill="transparent" filter="url(#f8tgcwcz1w8i1)" points="16,6.602,47.9699,6.602,54.9699,31.6699,975,31.6699,975,486.602,16,486.602,16,6.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="54.9699" y1="31.6699" y2="31.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.9699" x="20" y="23.5679">unit</text></g><!--cluster core--><g id="cluster_core"><polygon fill="transparent" filter="url(#f8tgcwcz1w8i1)" points="40,52.602,74.8679,52.602,81.8679,77.6699,500,77.6699,500,462.602,40,462.602,40,52.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="40" x2="81.8679" y1="77.6699" y2="77.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.8679" x="44" y="69.5679">core</text></g><!--cluster business--><g id="cluster_business"><polygon fill="transparent" filter="url(#f8tgcwcz1w8i1)" points="64,98.602,127.5398,98.602,134.5398,123.6699,476,123.6699,476,438.602,64,438.602,64,98.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="64" x2="134.5398" y1="123.6699" y2="123.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.5398" x="68" y="115.5679">business</text></g><!--cluster entities--><g id="cluster_entities"><polygon fill="transparent" filter="url(#f8tgcwcz1w8i1)" points="180,144.602,234.4818,144.602,241.4818,169.6699,360,169.6699,360,276.602,180,276.602,180,144.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="180" x2="241.4818" y1="169.6699" y2="169.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.4818" x="184" y="161.5679">entities</text></g><!--cluster services--><g id="cluster_services"><polygon fill="transparent" filter="url(#f8tgcwcz1w8i1)" points="88,300.602,146.4298,300.602,153.4298,325.6699,452,325.6699,452,414.602,88,414.602,88,300.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="88" x2="153.4298" y1="325.6699" y2="325.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.4298" x="92" y="317.5679">services</text></g><!--cluster adapters--><g id="cluster_adapters"><polygon fill="transparent" filter="url(#f8tgcwcz1w8i1)" points="588,128.602,652.3658,128.602,659.3658,153.6699,951,153.6699,951,450.602,588,450.602,588,128.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="588" x2="659.3658" y1="153.6699" y2="153.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.3658" x="592" y="145.5679">adapters</text></g><!--cluster data--><g id="cluster_data"><polygon fill="transparent" filter="url(#f8tgcwcz1w8i1)" points="679.5,312.602,714.8719,312.602,721.8719,337.6699,859.5,337.6699,859.5,426.602,679.5,426.602,679.5,312.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="679.5" x2="721.8719" y1="337.6699" y2="337.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.3719" x="683.5" y="329.5679">data</text></g><!--cluster kafka--><g id="cluster_kafka"><polygon fill="transparent" filter="url(#f8tgcwcz1w8i1)" points="612,174.602,653.4759,174.602,660.4759,199.6699,927,199.6699,927,288.602,612,288.602,612,174.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="612" x2="660.4759" y1="199.6699" y2="199.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.4759" x="616" y="191.5679">kafka</text></g><!--class Author--><g id="elem_Author"><rect codeline="11" fill="#FEFECE" filter="url(#f8tgcwcz1w8i1)" height="78.1358" id="Author" style="stroke:#A80036;stroke-width:1;" width="148.0515" x="196" y="182.602"></rect><ellipse cx="242.9978" cy="198.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M245.9666,204.2426 Q245.3885,204.5395 244.7478,204.6801 Q244.1072,204.8364 243.4041,204.8364 Q240.9041,204.8364 239.576,203.1957 Q238.2635,201.5395 238.2635,198.4145 Q238.2635,195.2895 239.576,193.6332 Q240.9041,191.977 243.4041,191.977 Q244.1072,191.977 244.7478,192.1332 Q245.4041,192.2895 245.9666,192.5864 L245.9666,195.3051 Q245.3416,194.727 244.7478,194.4614 Q244.1541,194.1801 243.5291,194.1801 Q242.1853,194.1801 241.4978,195.2582 Q240.8103,196.3207 240.8103,198.4145 Q240.8103,200.5082 241.4978,201.5864 Q242.1853,202.6489 243.5291,202.6489 Q244.1541,202.6489 244.7478,202.3832 Q245.3416,202.102 245.9666,201.5239 L245.9666,204.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.5558" x="263.4978" y="204.034">Author</text><line style="stroke:#A80036;stroke-width:1;" x1="197" x2="343.0515" y1="214.602" y2="214.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.6498" x="202" y="233.5679">id : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.0515" x="202" y="252.6358">displayName : String</text></g><!--class AuthorService--><g id="elem_AuthorService"><rect codeline="18" fill="#FEFECE" filter="url(#f8tgcwcz1w8i1)" height="59.0679" id="AuthorService" style="stroke:#A80036;stroke-width:1;" width="331.9688" x="104" y="339.102"></rect><ellipse cx="219.6046" cy="355.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M222.5733,360.7426 Q221.9952,361.0395 221.3546,361.1801 Q220.7139,361.3364 220.0108,361.3364 Q217.5108,361.3364 216.1827,359.6957 Q214.8702,358.0395 214.8702,354.9145 Q214.8702,351.7895 216.1827,350.1332 Q217.5108,348.477 220.0108,348.477 Q220.7139,348.477 221.3546,348.6332 Q222.0108,348.7895 222.5733,349.0864 L222.5733,351.8051 Q221.9483,351.227 221.3546,350.9614 Q220.7608,350.6801 220.1358,350.6801 Q218.7921,350.6801 218.1046,351.7582 Q217.4171,352.8207 217.4171,354.9145 Q217.4171,357.0082 218.1046,358.0864 Q218.7921,359.1489 220.1358,359.1489 Q220.7608,359.1489 221.3546,358.8832 Q221.9483,358.602 222.5733,358.0239 L222.5733,360.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.2596" x="240.1046" y="360.534">AuthorService</text><line style="stroke:#A80036;stroke-width:1;" x1="105" x2="434.9688" y1="371.102" y2="371.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="319.9688" x="110" y="390.0679">onAccountCreated(event : AccountCreatedEvent)</text></g><!--class AuthorRepository--><g id="elem_AuthorRepository"><rect codeline="27" fill="#FEFECE" filter="url(#f8tgcwcz1w8i1)" height="59.0679" id="AuthorRepository" style="stroke:#A80036;stroke-width:1;" width="148.0036" x="695.5" y="351.102"></rect><ellipse cx="710.5" cy="367.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M713.4688,372.7426 Q712.8906,373.0395 712.25,373.1801 Q711.6094,373.3364 710.9063,373.3364 Q708.4063,373.3364 707.0781,371.6957 Q705.7656,370.0395 705.7656,366.9145 Q705.7656,363.7895 707.0781,362.1332 Q708.4063,360.477 710.9063,360.477 Q711.6094,360.477 712.25,360.6332 Q712.9063,360.7895 713.4688,361.0864 L713.4688,363.8051 Q712.8438,363.227 712.25,362.9614 Q711.6563,362.6801 711.0313,362.6801 Q709.6875,362.6801 709,363.7582 Q708.3125,364.8207 708.3125,366.9145 Q708.3125,369.0082 709,370.0864 Q709.6875,371.1489 711.0313,371.1489 Q711.6563,371.1489 712.25,370.8832 Q712.8438,370.602 713.4688,370.0239 L713.4688,372.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.0036" x="724.5" y="372.534">AuthorRepository</text><line style="stroke:#A80036;stroke-width:1;" x1="696.5" x2="842.5036" y1="383.102" y2="383.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.4317" x="701.5" y="402.0679">save(author)</text></g><!--class AccountCreatedSubscriber--><g id="elem_AccountCreatedSubscriber"><rect codeline="33" fill="#FEFECE" filter="url(#f8tgcwcz1w8i1)" height="59.0679" id="AccountCreatedSubscriber" style="stroke:#A80036;stroke-width:1;" width="283.2349" x="628" y="213.102"></rect><ellipse cx="677.7628" cy="229.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M680.7315,234.7426 Q680.1534,235.0395 679.5128,235.1801 Q678.8722,235.3364 678.169,235.3364 Q675.669,235.3364 674.3409,233.6957 Q673.0284,232.0395 673.0284,228.9145 Q673.0284,225.7895 674.3409,224.1332 Q675.669,222.477 678.169,222.477 Q678.8722,222.477 679.5128,222.6332 Q680.169,222.7895 680.7315,223.0864 L680.7315,225.8051 Q680.1065,225.227 679.5128,224.9614 Q678.919,224.6801 678.294,224.6801 Q676.9503,224.6801 676.2628,225.7582 Q675.5753,226.8207 675.5753,228.9145 Q675.5753,231.0082 676.2628,232.0864 Q676.9503,233.1489 678.294,233.1489 Q678.919,233.1489 679.5128,232.8832 Q680.1065,232.602 680.7315,232.0239 L680.7315,234.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.2093" x="698.2628" y="234.534">AccountCreatedSubscriber</text><line style="stroke:#A80036;stroke-width:1;" x1="629" x2="910.2349" y1="245.102" y2="245.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="271.2349" x="634" y="264.0679">onAccountCreated(accountCreatedEvent)</text></g><!--link AccountCreatedSubscriber to AuthorService--><g id="link_AccountCreatedSubscriber_AuthorService"><path codeline="40" d="M651.73,272.172 C572.15,292.332 473.0164,317.4389 393.4564,337.5889 " fill="transparent" id="AccountCreatedSubscriber-to-AuthorService" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="387.64,339.062,397.3466,340.7299,392.487,337.8344,395.3825,332.9748,387.64,339.062" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AuthorService to AuthorRepository--><g id="link_AuthorService_AuthorRepository"><path codeline="41" d="M436.31,372.592 C524.11,374.712 621.5918,377.057 689.4418,378.697 " fill="transparent" id="AuthorService-to-AuthorRepository" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="695.44,378.842,686.5393,374.6257,690.4415,378.7212,686.346,382.6233,695.44,378.842" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.3531" x="517" y="370.499">(via port)</text></g><!--SRC=[TL51ReCm4Bpx5QkSo24Vo25ILFNQG_E2nTx02h2HlI2XYh_ND24nK3WOQMOzCpiE5LlmBf2gwIuW3ZmNfO1XJrhOMLMo8Q2cbG4QQdBoGQaMTOK5mQ6pB0VuKGfWnhJp5160DvHtWIs5y1XC6RB2mXIU5wPFrnWdhvsKpYSm01iumqqyso913OUsnk4B6zhIevh_Azz0lcUzwtjxq0jxPwzQkyxAXoSKCXdrCNtqNCAV4thy9y5yZcbPQB2LMEcgC8E2B_Cqs3UrBh0uFoJP0lQKuHz_NDajL2kyLnlPHVXRbmVjEJvo8hzP7FSNVZg-zjoLFvqkowwduKNtxubawJDaFIEqpaVByHS0]--></g></svg></p><h5 id="5124-messages">5.1.2.4. Messages </h5>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="150px" preserveAspectRatio="none" style="width:413px;height:150px;background:#FFFFFF;" version="1.1" viewBox="0 0 413 150" width="413px" zoomAndPan="magnify"><defs><filter height="300%" id="f1wfpdsdbmjwbd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--class AccountCreatedEvent--><g id="elem_AccountCreatedEvent"><rect codeline="5" fill="#FEFECE" filter="url(#f1wfpdsdbmjwbd)" height="129.6837" id="AccountCreatedEvent" style="stroke:#A80036;stroke-width:1;" width="173.6514" x="7" y="7"></rect><ellipse cx="22" cy="29.706" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M26.1094,35.706 L18.3906,35.706 L18.3906,23.3154 L26.1094,23.3154 L26.1094,25.4716 L20.8438,25.4716 L20.8438,28.1435 L25.6094,28.1435 L25.6094,30.2998 L20.8438,30.2998 L20.8438,33.5498 L26.1094,33.5498 L26.1094,35.706 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="39.9603" x="86.8456" y="24.8281">«event»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.6514" x="36" y="43.31">AccountCreatedEvent</text><line style="stroke:#A80036;stroke-width:1;" x1="8" x2="179.6514" y1="52.412" y2="52.412"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.9436" x="13" y="71.378">accountId : UUID</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.0515" x="13" y="90.4459">displayName : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.4917" x="13" y="109.5138">email : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.1676" x="13" y="128.5817">language : String</text></g><!--class RootNoteCreatedEvent--><g id="elem_RootNoteCreatedEvent"><rect codeline="12" fill="#FEFECE" filter="url(#f1wfpdsdbmjwbd)" height="91.5479" id="RootNoteCreatedEvent" style="stroke:#A80036;stroke-width:1;" width="183.1994" x="216.5" y="26"></rect><ellipse cx="231.5" cy="48.706" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M235.6094,54.706 L227.8906,54.706 L227.8906,42.3154 L235.6094,42.3154 L235.6094,44.4716 L230.3438,44.4716 L230.3438,47.1435 L235.1094,47.1435 L235.1094,49.2998 L230.3438,49.2998 L230.3438,52.5498 L235.6094,52.5498 L235.6094,54.706 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="39.9603" x="301.1196" y="43.8281">«event»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.1994" x="245.5" y="62.31">RootNoteCreatedEvent</text><line style="stroke:#A80036;stroke-width:1;" x1="217.5" x2="398.6994" y1="71.412" y2="71.412"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.8937" x="222.5" y="90.378">noteId : UUID</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.9436" x="222.5" y="109.4459">accountId : UUID</text></g><!--SRC=[VOv12i9034NtSugSGqf1r4KtNIWzGDe9DTX9oanQADAxEoB8WE3gavSFxwS72qHDv4ndC8LUpJI0vqY3iOgxioUWCDi6WK9FCJb7Ofplup3e8dQAX4R-icOCLKNlh6juEW3yD1eF1-YwvfoHvpHFkBKOACERHPOnOmh8Kmacb771iIZjN_5LrLer-cEM_2wrFqjszm80]--></g></svg></p><h3 id="52-publier-une-note">5.2. Publier une note </h3>
<p>Dans un autre style, mais qui méritait d'être conçu à cause de sa complexité (comprenez "risque"), "publier une note" est en cas d'utilisation plutôt localisé en terme de déploiement et d'impact. On se limitera ici à la construction de l'unité.</p>
<h4 id="521-diagramme-de-séquences">5.2.1. Diagramme de séquences </h4>
<p>Avant de lire le diagramme de séquence, quelques explications :</p>
<ul>
<li>on converti l'audio en .flac car ce format permet le stockage sans perte et pour un volume minimum.</li>
<li>l'opération appelée "trim" consiste à supprimer les silences en début et fin d'enregistrement car ils varient d'une synthèse à une autre.</li>
<li>l'interaction avec le système d'exploitation se fait par commandes (principalement "sox").</li>
<li>après ce processus, le token est porteur de l'information de durée (au tempo normal). Cela évite les accès aux fichiers durant l'exécution de l'application Android, afin de minimiser la latence (perte de temps pour l'utilisateur).</li>
</ul>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="SEQUENCE" height="1309px" preserveAspectRatio="none" style="width:1304px;height:1309px;background:#FFFFFF;" version="1.1" viewBox="0 0 1304 1309" width="1304px" zoomAndPan="magnify"><defs><filter height="300%" id="f1crghel2d3yt2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><rect fill="transparent" filter="url(#f1crghel2d3yt2)" height="628.3962" style="stroke:#000000;stroke-width:2;" width="1039.255" x="145.7381" y="309.3719"></rect><rect fill="transparent" filter="url(#f1crghel2d3yt2)" height="562.9842" style="stroke:#000000;stroke-width:2;" width="1019.255" x="155.7381" y="367.784"></rect><rect fill="transparent" filter="url(#f1crghel2d3yt2)" height="484.5721" style="stroke:#000000;stroke-width:2;" width="999.255" x="165.7381" y="439.196"></rect><rect fill="transparent" filter="url(#f1crghel2d3yt2)" height="51.412" style="stroke:#000000;stroke-width:2;" width="794.7395" x="175.7381" y="561.0201"></rect><rect fill="transparent" filter="url(#f1crghel2d3yt2)" height="51.412" style="stroke:#000000;stroke-width:2;" width="794.7395" x="175.7381" y="801.9441"></rect><g><title>&lt;&lt;subscriber&gt;&gt;</title><rect fill="transparent" height="1155.5744" width="8" x="71.9977" y="75.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="75" x2="75" y1="75.1358" y2="1230.7103"></line></g><g><title>UnitBuilderService</title><rect fill="transparent" height="1155.5744" width="8" x="245.4979" y="75.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="248.7381" x2="248.7381" y1="75.1358" y2="1230.7103"></line></g><g><title>NotePayload</title><rect fill="transparent" height="1155.5744" width="8" x="482.0581" y="75.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="486.0233" x2="486.0233" y1="75.1358" y2="1230.7103"></line></g><g><title>Text</title><rect fill="transparent" height="1155.5744" width="8" x="554.1629" y="75.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="558.0929" x2="558.0929" y1="75.1358" y2="1230.7103"></line></g><g><title>MLToken</title><rect fill="transparent" height="1155.5744" width="8" x="614.3887" y="75.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="618.2328" x2="618.2328" y1="75.1358" y2="1230.7103"></line></g><g><title>Token</title><rect fill="transparent" height="1155.5744" width="8" x="680.6835" y="75.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="684.5446" x2="684.5446" y1="75.1358" y2="1230.7103"></line></g><g><title>UnitBuiltEvent</title><rect fill="transparent" height="1155.5744" width="8" x="763.8622" y="75.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="767.8224" x2="767.8224" y1="75.1358" y2="1230.7103"></line></g><g><title>&lt;&lt;interface&gt;&gt;</title><rect fill="transparent" height="1155.5744" width="8" x="890.1898" y="75.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="893.902" x2="893.902" y1="75.1358" y2="1230.7103"></line></g><g><title>&lt;&lt;interface&gt;&gt;</title><rect fill="transparent" height="1155.5744" width="8" x="1009.4835" y="75.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="1013.4776" x2="1013.4776" y1="75.1358" y2="1230.7103"></line></g><g><title>&lt;&lt;interface&gt;&gt;</title><rect fill="transparent" height="1155.5744" width="8" x="1106.7412" y="75.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="1110.4894" x2="1110.4894" y1="75.1358" y2="1230.7103"></line></g><g><title>&lt;&lt;publisher&gt;&gt;</title><rect fill="transparent" height="1155.5744" width="8" x="1223.7799" y="75.1358"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="1226.9931" x2="1226.9931" y1="75.1358" y2="1230.7103"></line></g><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77.8537" x="34.0709" y="51.9659">«subscriber»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.9955" x="5" y="71.0339">PublishNoteReceiver</text><path d="M55.4977,9 L55.4977,33 M55.4977,21 L72.4977,21 " fill="transparent" filter="url(#f1crghel2d3yt2)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="84.4977" cy="21" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77.8537" x="34.0709" y="1244.6762">«subscriber»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.9955" x="5" y="1263.7441">PublishNoteReceiver</text><path d="M55.4977,1271.8461 L55.4977,1295.8461 M55.4977,1283.8461 L72.4977,1283.8461 " fill="transparent" filter="url(#f1crghel2d3yt2)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="84.4977" cy="1283.8461" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.5195" x="185.7381" y="71.0339">UnitBuilderService</text><ellipse cx="249.4979" cy="40.0679" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="245.4979,28.0679,251.4979,23.0679,249.4979,28.0679,251.4979,33.0679,245.4979,28.0679" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.5195" x="185.7381" y="1244.6762">UnitBuilderService</text><ellipse cx="249.4979" cy="1264.7782" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="245.4979,1252.7782,251.4979,1247.7782,249.4979,1252.7782,251.4979,1257.7782,245.4979,1252.7782" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.0697" x="441.0233" y="71.0339">NotePayload</text><ellipse cx="486.0581" cy="40.0679" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="474.0581" x2="498.0581" y1="54.0679" y2="54.0679"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.0697" x="441.0233" y="1244.6762">NotePayload</text><ellipse cx="486.0581" cy="1264.7782" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="474.0581" x2="498.0581" y1="1278.7782" y2="1278.7782"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.1399" x="541.0929" y="71.0339">Text</text><ellipse cx="558.1629" cy="40.0679" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="546.1629" x2="570.1629" y1="54.0679" y2="54.0679"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.1399" x="541.0929" y="1244.6762">Text</text><ellipse cx="558.1629" cy="1264.7782" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="546.1629" x2="570.1629" y1="1278.7782" y2="1278.7782"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.3118" x="585.2328" y="71.0339">MLToken</text><ellipse cx="618.3887" cy="40.0679" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="606.3887" x2="630.3887" y1="54.0679" y2="54.0679"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.3118" x="585.2328" y="1244.6762">MLToken</text><ellipse cx="618.3887" cy="1264.7782" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="606.3887" x2="630.3887" y1="1278.7782" y2="1278.7782"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.2778" x="661.5446" y="71.0339">Token</text><ellipse cx="684.6835" cy="40.0679" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="672.6835" x2="696.6835" y1="54.0679" y2="54.0679"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.2778" x="661.5446" y="1244.6762">Token</text><ellipse cx="684.6835" cy="1264.7782" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="672.6835" x2="696.6835" y1="1278.7782" y2="1278.7782"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.0796" x="717.8224" y="71.0339">UnitBuiltEvent</text><ellipse cx="767.8622" cy="40.0679" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="755.8622" x2="779.8622" y1="54.0679" y2="54.0679"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.0796" x="717.8224" y="1244.6762">UnitBuiltEvent</text><ellipse cx="767.8622" cy="1264.7782" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="755.8622" x2="779.8622" y1="1278.7782" y2="1278.7782"></line><rect fill="#FEFECE" filter="url(#f1crghel2d3yt2)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="128.5756" x="827.902" y="18"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68.0117" x="858.184" y="39.9659">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.5756" x="834.902" y="59.0339">OperatingSystem</text><rect fill="#FEFECE" filter="url(#f1crghel2d3yt2)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="128.5756" x="827.902" y="1229.7103"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68.0117" x="858.184" y="1251.6762">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.5756" x="834.902" y="1270.7441">OperatingSystem</text><rect fill="#FEFECE" filter="url(#f1crghel2d3yt2)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="82.0117" x="970.4776" y="18"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68.0117" x="977.4776" y="39.9659">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.4899" x="990.2386" y="59.0339">Parser</text><rect fill="#FEFECE" filter="url(#f1crghel2d3yt2)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="82.0117" x="970.4776" y="1229.7103"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68.0117" x="977.4776" y="1251.6762">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.4899" x="990.2386" y="1270.7441">Parser</text><rect fill="#FEFECE" filter="url(#f1crghel2d3yt2)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="84.5037" x="1066.4894" y="18"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68.0117" x="1074.7354" y="39.9659">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.5037" x="1073.4894" y="59.0339">GoogleTTS</text><rect fill="#FEFECE" filter="url(#f1crghel2d3yt2)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="84.5037" x="1066.4894" y="1229.7103"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68.0117" x="1074.7354" y="1251.6762">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.5037" x="1073.4894" y="1270.7441">GoogleTTS</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71.6097" x="1188.975" y="51.9659">«publisher»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.5735" x="1164.9931" y="71.0339">UnitBuiltPublisher</text><path d="M1207.2799,9 L1207.2799,33 M1207.2799,21 L1224.2799,21 " fill="transparent" filter="url(#f1crghel2d3yt2)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="1236.2799" cy="21" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71.6097" x="1188.975" y="1244.6762">«publisher»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.5735" x="1164.9931" y="1263.7441">UnitBuiltPublisher</text><path d="M1207.2799,1271.8461 L1207.2799,1295.8461 M1207.2799,1283.8461 L1224.2799,1283.8461 " fill="transparent" filter="url(#f1crghel2d3yt2)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="1236.2799" cy="1283.8461" fill="#FEFECE" filter="url(#f1crghel2d3yt2)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="237.4979,104.8419,247.4979,108.8419,237.4979,112.8419,241.4979,108.8419" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="75.9977" x2="243.4979" y1="108.8419" y2="108.8419"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.5002" x="82.9977" y="103.0328">buildUnit(publNoteCom)</text><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="291.4979" y1="140.5479" y2="140.5479"></line><line style="stroke:#A80036;stroke-width:1;" x1="291.4979" x2="291.4979" y1="140.5479" y2="153.5479"></line><line style="stroke:#A80036;stroke-width:1;" x1="250.4979" x2="291.4979" y1="153.5479" y2="153.5479"></line><polygon fill="#A80036" points="260.4979,149.5479,250.4979,153.5479,260.4979,157.5479,256.4979,153.5479" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.7532" x="256.4979" y="134.7389">publNoteCom.getNotePayload()</text><rect fill="#EEEEEE" filter="url(#f1crghel2d3yt2)" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1295.5666" x="0" y="183.4009"></rect><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1295.5666" y1="183.4009" y2="183.4009"></line><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1295.5666" y1="186.4009" y2="186.4009"></line><rect fill="#EEEEEE" filter="url(#f1crghel2d3yt2)" height="25.706" style="stroke:#000000;stroke-width:2;" width="143.5191" x="576.0238" y="171.5479"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="126.1391" x="582.0238" y="189.4449">Traitements audios</text><polygon fill="#A80036" points="474.0581,226.9599,484.0581,230.9599,474.0581,234.9599,478.0581,230.9599" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="480.0581" y1="230.9599" y2="230.9599"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.5851" x="256.4979" y="225.1509">getTranspositions()</text><polygon fill="#A80036" points="1001.4835,258.6659,1011.4835,262.6659,1001.4835,266.6659,1005.4835,262.6659" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="1007.4835" y1="262.6659" y2="262.6659"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.2461" x="256.4979" y="256.8569">parse(transpositions)</text><polygon fill="#A80036" points="260.4979,290.3719,250.4979,294.3719,260.4979,298.3719,256.4979,294.3719" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="254.4979" x2="1012.4835" y1="294.3719" y2="294.3719"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.5891" x="266.4979" y="288.5629">text: Text</text><path d="M145.7381,309.3719 L219.0262,309.3719 L219.0262,319.0779 L209.0262,329.0779 L145.7381,329.0779 L145.7381,309.3719 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1;"></path><rect fill="transparent" height="628.3962" style="stroke:#000000;stroke-width:2;" width="1039.255" x="145.7381" y="309.3719"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28.288" x="160.7381" y="324.2689">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="212.3535" x="234.0262" y="323.1308">[sur chaque token mutlilingue du text]</text><polygon fill="#A80036" points="606.3887,348.784,616.3887,352.784,606.3887,356.784,610.3887,352.784" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="612.3887" y1="352.784" y2="352.784"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.4481" x="256.4979" y="346.975">getTokens()</text><path d="M155.7381,367.784 L229.0262,367.784 L229.0262,377.49 L219.0262,387.49 L155.7381,387.49 L155.7381,367.784 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1;"></path><rect fill="transparent" height="562.9842" style="stroke:#000000;stroke-width:2;" width="1019.255" x="155.7381" y="367.784"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28.288" x="170.7381" y="382.681">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="396.5801" x="244.0262" y="381.5429">[sur chaque token (donc pour une langue donnée) du token mutlilingue]</text><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="291.4979" y1="411.196" y2="411.196"></line><line style="stroke:#A80036;stroke-width:1;" x1="291.4979" x2="291.4979" y1="411.196" y2="424.196"></line><line style="stroke:#A80036;stroke-width:1;" x1="250.4979" x2="291.4979" y1="424.196" y2="424.196"></line><polygon fill="#A80036" points="260.4979,420.196,250.4979,424.196,260.4979,428.196,256.4979,424.196" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.1671" x="256.4979" y="405.387">computeHash(token)</text><path d="M165.7381,439.196 L228.1971,439.196 L228.1971,448.902 L218.1971,458.902 L165.7381,458.902 L165.7381,439.196 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1;"></path><rect fill="transparent" height="484.5721" style="stroke:#000000;stroke-width:2;" width="999.255" x="165.7381" y="439.196"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.459" x="180.7381" y="454.093">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="293.0159" x="243.1971" y="452.9549">[token.isVocabulary : fileName = /vocabulaire/{hash}]</text><polygon fill="#A80036" points="1098.7412,478.608,1108.7412,482.608,1098.7412,486.608,1102.7412,482.608" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="1104.7412" y1="482.608" y2="482.608"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.7452" x="256.4979" y="476.799">synthesizeSpeech(token, fileName)</text><polygon fill="#A80036" points="905.1898,510.314,895.1898,514.314,905.1898,518.314,901.1898,514.314" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="899.1898" x2="1109.7412" y1="514.314" y2="514.314"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.902" x="911.1898" y="508.505">wavFile</text><polygon fill="#A80036" points="882.1898,542.0201,892.1898,546.0201,882.1898,550.0201,886.1898,546.0201" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="888.1898" y1="546.0201" y2="546.0201"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.8361" x="256.4979" y="540.2111">convertToFlac(fileName)</text><path d="M175.7381,561.0201 L249.0262,561.0201 L249.0262,570.7261 L239.0262,580.7261 L175.7381,580.7261 L175.7381,561.0201 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1;"></path><rect fill="transparent" height="51.412" style="stroke:#000000;stroke-width:2;" width="794.7395" x="175.7381" y="561.0201"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28.288" x="190.7381" y="575.9171">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="85.5024" x="264.0262" y="574.779">[0.6x, 1.0x, 1.4x]</text><polygon fill="#A80036" points="882.1898,600.4321,892.1898,604.4321,882.1898,608.4321,886.1898,604.4321" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="888.1898" y1="604.4321" y2="604.4321"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288.4183" x="256.4979" y="598.6231">trimChangeTempoAndToMp3(fileName, speed)</text><polygon fill="#A80036" points="882.1898,639.1381,892.1898,643.1381,882.1898,647.1381,886.1898,643.1381" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="888.1898" y1="643.1381" y2="643.1381"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.9432" x="256.4979" y="637.3291">measureDuration(fileName, 1.0x)</text><polygon fill="#A80036" points="672.6835,670.8441,682.6835,674.8441,672.6835,678.8441,676.6835,674.8441" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="678.6835" y1="674.8441" y2="674.8441"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249.2493" x="256.4979" y="669.0351">setTTSInfos(folder, voice, hash, duration)</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="165.7381" x2="1164.9931" y1="683.8441" y2="683.8441"></line><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="189.0556" x="170.7381" y="695.603">[fileName = /units/{unitId}/{hash}]</text><polygon fill="#A80036" points="1098.7412,719.532,1108.7412,723.532,1098.7412,727.532,1102.7412,723.532" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="1104.7412" y1="723.532" y2="723.532"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.7452" x="256.4979" y="717.723">synthesizeSpeech(token, fileName)</text><polygon fill="#A80036" points="905.1898,751.2381,895.1898,755.2381,905.1898,759.2381,901.1898,755.2381" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="899.1898" x2="1109.7412" y1="755.2381" y2="755.2381"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.902" x="911.1898" y="749.429">wavFile</text><polygon fill="#A80036" points="882.1898,782.9441,892.1898,786.9441,882.1898,790.9441,886.1898,786.9441" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="888.1898" y1="786.9441" y2="786.9441"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.8361" x="256.4979" y="781.1351">convertToFlac(fileName)</text><path d="M175.7381,801.9441 L249.0262,801.9441 L249.0262,811.6501 L239.0262,821.6501 L175.7381,821.6501 L175.7381,801.9441 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1;"></path><rect fill="transparent" height="51.412" style="stroke:#000000;stroke-width:2;" width="794.7395" x="175.7381" y="801.9441"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28.288" x="190.7381" y="816.8411">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="57.4306" x="264.0262" y="815.703">[1.0x, 1.4x]</text><polygon fill="#A80036" points="882.1898,841.3561,892.1898,845.3561,882.1898,849.3561,886.1898,845.3561" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="888.1898" y1="845.3561" y2="845.3561"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288.4183" x="256.4979" y="839.5471">trimChangeTempoAndToMp3(fileName, speed)</text><polygon fill="#A80036" points="882.1898,880.0621,892.1898,884.0621,882.1898,888.0621,886.1898,884.0621" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="888.1898" y1="884.0621" y2="884.0621"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.9432" x="256.4979" y="878.2531">measureDuration(fileName, 1.0x)</text><polygon fill="#A80036" points="672.6835,911.7681,682.6835,915.7681,672.6835,919.7681,676.6835,915.7681" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="678.6835" y1="915.7681" y2="915.7681"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249.2493" x="256.4979" y="909.9591">setTTSInfos(folder, voice, hash, duration)</text><rect fill="#EEEEEE" filter="url(#f1crghel2d3yt2)" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1295.5666" x="0" y="966.6211"></rect><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1295.5666" y1="966.6211" y2="966.6211"></line><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1295.5666" y1="969.6211" y2="969.6211"></line><rect fill="#EEEEEE" filter="url(#f1crghel2d3yt2)" height="25.706" style="stroke:#000000;stroke-width:2;" width="213.4071" x="541.0797" y="954.7681"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="196.0271" x="547.0797" y="972.6651">Génération de l’unité portable</text><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="291.4979" y1="1014.1802" y2="1014.1802"></line><line style="stroke:#A80036;stroke-width:1;" x1="291.4979" x2="291.4979" y1="1014.1802" y2="1027.1802"></line><line style="stroke:#A80036;stroke-width:1;" x1="250.4979" x2="291.4979" y1="1027.1802" y2="1027.1802"></line><polygon fill="#A80036" points="260.4979,1023.1802,250.4979,1027.1802,260.4979,1031.1802,256.4979,1027.1802" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.5602" x="256.4979" y="1008.3712">buildPortableUnit(notePayload, text)</text><polygon fill="#A80036" points="882.1898,1054.8862,892.1898,1058.8862,882.1898,1062.8862,886.1898,1058.8862" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="888.1898" y1="1058.8862" y2="1058.8862"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.7952" x="256.4979" y="1053.0772">save(units/{unitId}.json)</text><rect fill="#EEEEEE" filter="url(#f1crghel2d3yt2)" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="1295.5666" x="0" y="1088.7392"></rect><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1295.5666" y1="1088.7392" y2="1088.7392"></line><line style="stroke:#000000;stroke-width:1;" x1="0" x2="1295.5666" y1="1091.7392" y2="1091.7392"></line><rect fill="#EEEEEE" filter="url(#f1crghel2d3yt2)" height="25.706" style="stroke:#000000;stroke-width:2;" width="248.2211" x="523.6727" y="1076.8862"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="230.8411" x="529.6727" y="1094.7832">Génération de l’unité et publication</text><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="291.4979" y1="1136.2982" y2="1136.2982"></line><line style="stroke:#A80036;stroke-width:1;" x1="291.4979" x2="291.4979" y1="1136.2982" y2="1149.2982"></line><line style="stroke:#A80036;stroke-width:1;" x1="250.4979" x2="291.4979" y1="1149.2982" y2="1149.2982"></line><polygon fill="#A80036" points="260.4979,1145.2982,250.4979,1149.2982,260.4979,1153.2982,256.4979,1149.2982" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.3351" x="256.4979" y="1130.4892">buildUnit(notePayload)</text><polygon fill="#A80036" points="755.8622,1177.0042,765.8622,1181.0042,755.8622,1185.0042,759.8622,1181.0042" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="761.8622" y1="1181.0042" y2="1181.0042"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.7941" x="256.4979" y="1175.1952">new(unitPayload)</text><polygon fill="#A80036" points="1215.7799,1208.7103,1225.7799,1212.7103,1215.7799,1216.7103,1219.7799,1212.7103" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="249.4979" x2="1221.7799" y1="1212.7103" y2="1212.7103"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.6842" x="256.4979" y="1206.9012">publish(unitBuiltEvent)</text><!--SRC=[xLRRRXCn47tVhvZ7NMcR5e5uY9fAK6YfH4j45jwTtKbZwhKNNxODLIL-Wq_8T_HF-1B6tisrIThoY8XoSSPppendJiOnLro2LWQZQAYSB9YUGDyD1JVZ2sNnC-R8QzHmU6ZSqEIQ3r4V7KMvabOh0LyajsyT5mNg0UgQvnYXjDnEmAFxR28KAsQc36_iR7t-CLDNAETRorzcfFPzJPQeOjhod5TCMlXKeMQMoyl1n5WiAIqkBUeHov6oMlRiCsr2tjiSJfMw59XbWpMVUHdcQRJr26pLR4sUqQP2xHrjA0fqOUWDVYVs51vohCeaYZOuRwDO0dOkqIvLE2QYNWyopJXLXOfcWBc2AmEzthOGIt3Y9Zv2IrCfmorNqX3bPbnRM4h7BsAxWagYTdjlso4iYQ3RI24IIbLWd8PypBux1EjL0AMpWWlgCLaA5m0HmEPaMXcr1_1BdpW0FJUJnuMIELIAx4uY2DQ4KLBUJp49yTQJ82x_U4QZSbLMpk87PiPne4i21nEsOUzmyrNbREY4rraNHbpW1IiHUh1VjnjSu_xjc1ZkTiPVgBWBPYBj60t_WOCACMzZftFwf6LQO7oNrdzINRXczGb1TiPzYAAHGFgd9fm8biVhCKCt3ZglRr9uqJa8xwzkshsdnx2QbyTZwXbcM5RgZImoTLwzd4TBmT39YrbGbCKp3r4Y8ydWE-VjIYuH-woJdMmp9HfIOZOuaoDbuf7oJYdKYfnIyFrCIMGDUqE7mk2A0Xonc_rR_t5MtFrp8lZV_jNsXoJzkt_vANvwFwLXrFX0GJFgzyzVNWptKvfRshAXm1rZVVlbqs_1uHAIY-cVXX6xRTm_B99XDSQh8kryC_uyZsIFDbnXF6ys_-OCwxadZp0qVo48BV4wvFnKtEBER-vTMWVyWZI9_W00]--></g></svg></p><h4 id="522-diagrammes-de-classes">5.2.2. Diagrammes de classes </h4>
<h4 id="5221-arbre-sémantique">5.2.2.1. Arbre sémantique </h4>
<p>Inspiré de NFP121 (composite) et NSY102 (lexer, parser). Décrit séparément car modulaire et défini dans une librairie pour réutilisation (en particulier dans l'application Android).</p>
<p>Note pour faciliter la compréhension :</p>
<p>ML signifie MultiLingual. Seule la classe "Token" est spécifique à une langue donnée. Cette structure permet d'alterner les langues d'exercice.</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="1240px" preserveAspectRatio="none" style="width:525px;height:1240px;background:#FFFFFF;" version="1.1" viewBox="0 0 525 1240" width="525px" zoomAndPan="magnify"><defs><filter height="300%" id="f9qrplkqwvw0n" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--class MLComponent--><g id="elem_MLComponent"><rect codeline="4" fill="#FEFECE" filter="url(#f9qrplkqwvw0n)" height="32" id="MLComponent" style="stroke:#A80036;stroke-width:1;" width="122.6497" x="320.5" y="7"></rect><ellipse cx="335.5" cy="23" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M331.4219,18.7656 L331.4219,16.6094 L338.8125,16.6094 L338.8125,18.7656 L336.3438,18.7656 L336.3438,26.8438 L338.8125,26.8438 L338.8125,29 L331.4219,29 L331.4219,26.8438 L333.8906,26.8438 L333.8906,18.7656 L331.4219,18.7656 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="90.6497" x="349.5" y="28.432">MLComponent</text></g><!--class MLNode--><g id="elem_MLNode"><rect codeline="6" fill="#FEFECE" filter="url(#f9qrplkqwvw0n)" height="59.0679" id="MLNode" style="stroke:#A80036;stroke-width:1;" width="97.2597" x="262.5" y="99"></rect><ellipse cx="283.7648" cy="115" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M283.8742,110.3438 L282.718,115.4219 L285.0461,115.4219 L283.8742,110.3438 Z M282.3898,108.1094 L285.3742,108.1094 L288.7336,120.5 L286.2805,120.5 L285.5148,117.4375 L282.2336,117.4375 L281.4836,120.5 L279.0461,120.5 L282.3898,108.1094 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="51.3378" x="299.157" y="120.432">MLNode</text><line style="stroke:#A80036;stroke-width:1;" x1="263.5" x2="358.7597" y1="131" y2="131"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.2597" x="268.5" y="149.9659">parts : T[0..*]</text></g><!--class SectionOrParagraph--><g id="elem_SectionOrParagraph"><rect codeline="10" fill="#FEFECE" filter="url(#f9qrplkqwvw0n)" height="32" id="SectionOrParagraph" style="stroke:#A80036;stroke-width:1;" width="159.5675" x="65" y="310"></rect><ellipse cx="80" cy="326" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M80.1094,321.3438 L78.9531,326.4219 L81.2813,326.4219 L80.1094,321.3438 Z M78.625,319.1094 L81.6094,319.1094 L84.9688,331.5 L82.5156,331.5 L81.75,328.4375 L78.4688,328.4375 L77.7188,331.5 L75.2813,331.5 L78.625,319.1094 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="127.5675" x="94" y="331.432">SectionOrParagraph</text></g><!--class Text--><g id="elem_Text"><rect codeline="12" fill="#FEFECE" filter="url(#f9qrplkqwvw0n)" height="32" id="Text" style="stroke:#A80036;stroke-width:1;" width="60.1399" x="198" y="218"></rect><ellipse cx="213" cy="234" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M215.9688,239.6406 Q215.3906,239.9375 214.75,240.0781 Q214.1094,240.2344 213.4063,240.2344 Q210.9063,240.2344 209.5781,238.5938 Q208.2656,236.9375 208.2656,233.8125 Q208.2656,230.6875 209.5781,229.0313 Q210.9063,227.375 213.4063,227.375 Q214.1094,227.375 214.75,227.5313 Q215.4063,227.6875 215.9688,227.9844 L215.9688,230.7031 Q215.3438,230.125 214.75,229.8594 Q214.1563,229.5781 213.5313,229.5781 Q212.1875,229.5781 211.5,230.6563 Q210.8125,231.7188 210.8125,233.8125 Q210.8125,235.9063 211.5,236.9844 Q212.1875,238.0469 213.5313,238.0469 Q214.1563,238.0469 214.75,237.7813 Q215.3438,237.5 215.9688,236.9219 L215.9688,239.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.1399" x="227" y="239.432">Text</text></g><!--class Section--><g id="elem_Section"><rect codeline="14" fill="#FEFECE" filter="url(#f9qrplkqwvw0n)" height="78.1358" id="Section" style="stroke:#A80036;stroke-width:1;" width="114.1996" x="7" y="402"></rect><ellipse cx="37.3494" cy="418" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M40.3182,423.6406 Q39.74,423.9375 39.0994,424.0781 Q38.4588,424.2344 37.7557,424.2344 Q35.2557,424.2344 33.9275,422.5938 Q32.615,420.9375 32.615,417.8125 Q32.615,414.6875 33.9275,413.0313 Q35.2557,411.375 37.7557,411.375 Q38.4588,411.375 39.0994,411.5313 Q39.7557,411.6875 40.3182,411.9844 L40.3182,414.7031 Q39.6932,414.125 39.0994,413.8594 Q38.5057,413.5781 37.8807,413.5781 Q36.5369,413.5781 35.8494,414.6563 Q35.1619,415.7188 35.1619,417.8125 Q35.1619,419.9063 35.8494,420.9844 Q36.5369,422.0469 37.8807,422.0469 Q38.5057,422.0469 39.0994,421.7813 Q39.6932,421.5 40.3182,420.9219 L40.3182,423.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.0898" x="54.7604" y="423.432">Section</text><line style="stroke:#A80036;stroke-width:1;" x1="8" x2="120.1996" y1="434" y2="434"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.1996" x="13" y="452.9659">title : Syntagma</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.4778" x="13" y="472.0339">level : int</text></g><!--class Paragraph--><g id="elem_Paragraph"><rect codeline="19" fill="#FEFECE" filter="url(#f9qrplkqwvw0n)" height="32" id="Paragraph" style="stroke:#A80036;stroke-width:1;" width="101.4678" x="156.5" y="425"></rect><ellipse cx="171.5" cy="441" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M174.4688,446.6406 Q173.8906,446.9375 173.25,447.0781 Q172.6094,447.2344 171.9063,447.2344 Q169.4063,447.2344 168.0781,445.5938 Q166.7656,443.9375 166.7656,440.8125 Q166.7656,437.6875 168.0781,436.0313 Q169.4063,434.375 171.9063,434.375 Q172.6094,434.375 173.25,434.5313 Q173.9063,434.6875 174.4688,434.9844 L174.4688,437.7031 Q173.8438,437.125 173.25,436.8594 Q172.6563,436.5781 172.0313,436.5781 Q170.6875,436.5781 170,437.6563 Q169.3125,438.7188 169.3125,440.8125 Q169.3125,442.9063 170,443.9844 Q170.6875,445.0469 172.0313,445.0469 Q172.6563,445.0469 173.25,444.7813 Q173.8438,444.5 174.4688,443.9219 L174.4688,446.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.4678" x="185.5" y="446.432">Paragraph</text></g><!--class Sentence--><g id="elem_Sentence"><rect codeline="21" fill="#FEFECE" filter="url(#f9qrplkqwvw0n)" height="32" id="Sentence" style="stroke:#A80036;stroke-width:1;" width="92.4518" x="237" y="540"></rect><ellipse cx="252" cy="556" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M254.9688,561.6406 Q254.3906,561.9375 253.75,562.0781 Q253.1094,562.2344 252.4063,562.2344 Q249.9063,562.2344 248.5781,560.5938 Q247.2656,558.9375 247.2656,555.8125 Q247.2656,552.6875 248.5781,551.0313 Q249.9063,549.375 252.4063,549.375 Q253.1094,549.375 253.75,549.5313 Q254.4063,549.6875 254.9688,549.9844 L254.9688,552.7031 Q254.3438,552.125 253.75,551.8594 Q253.1563,551.5781 252.5313,551.5781 Q251.1875,551.5781 250.5,552.6563 Q249.8125,553.7188 249.8125,555.8125 Q249.8125,557.9063 250.5,558.9844 Q251.1875,560.0469 252.5313,560.0469 Q253.1563,560.0469 253.75,559.7813 Q254.3438,559.5 254.9688,558.9219 L254.9688,561.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.4518" x="266" y="561.432">Sentence</text></g><!--class Syntagma--><g id="elem_Syntagma"><rect codeline="23" fill="#FEFECE" filter="url(#f9qrplkqwvw0n)" height="32" id="Syntagma" style="stroke:#A80036;stroke-width:1;" width="97.9398" x="302" y="632"></rect><ellipse cx="317" cy="648" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M319.9688,653.6406 Q319.3906,653.9375 318.75,654.0781 Q318.1094,654.2344 317.4063,654.2344 Q314.9063,654.2344 313.5781,652.5938 Q312.2656,650.9375 312.2656,647.8125 Q312.2656,644.6875 313.5781,643.0313 Q314.9063,641.375 317.4063,641.375 Q318.1094,641.375 318.75,641.5313 Q319.4063,641.6875 319.9688,641.9844 L319.9688,644.7031 Q319.3438,644.125 318.75,643.8594 Q318.1563,643.5781 317.5313,643.5781 Q316.1875,643.5781 315.5,644.6563 Q314.8125,645.7188 314.8125,647.8125 Q314.8125,649.9063 315.5,650.9844 Q316.1875,652.0469 317.5313,652.0469 Q318.1563,652.0469 318.75,651.7813 Q319.3438,651.5 319.9688,650.9219 L319.9688,653.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.9398" x="331" y="653.432">Syntagma</text></g><!--class MLToken--><g id="elem_MLToken"><rect codeline="25" fill="#FEFECE" filter="url(#f9qrplkqwvw0n)" height="59.0679" id="MLToken" style="stroke:#A80036;stroke-width:1;" width="92.3118" x="356" y="724"></rect><ellipse cx="371" cy="740" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M373.9688,745.6406 Q373.3906,745.9375 372.75,746.0781 Q372.1094,746.2344 371.4063,746.2344 Q368.9063,746.2344 367.5781,744.5938 Q366.2656,742.9375 366.2656,739.8125 Q366.2656,736.6875 367.5781,735.0313 Q368.9063,733.375 371.4063,733.375 Q372.1094,733.375 372.75,733.5313 Q373.4063,733.6875 373.9688,733.9844 L373.9688,736.7031 Q373.3438,736.125 372.75,735.8594 Q372.1563,735.5781 371.5313,735.5781 Q370.1875,735.5781 369.5,736.6563 Q368.8125,737.7188 368.8125,739.8125 Q368.8125,741.9063 369.5,742.9844 Q370.1875,744.0469 371.5313,744.0469 Q372.1563,744.0469 372.75,743.7813 Q373.3438,743.5 373.9688,742.9219 L373.9688,745.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.3118" x="385" y="745.432">MLToken</text><line style="stroke:#A80036;stroke-width:1;" x1="357" x2="447.3118" y1="756" y2="756"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.1997" x="362" y="774.9659">parts : Map</text></g><!--class Token--><g id="elem_Token"><rect codeline="29" fill="#FEFECE" filter="url(#f9qrplkqwvw0n)" height="383.2225" id="Token" style="stroke:#A80036;stroke-width:1;" width="218.6672" x="292.5" y="843"></rect><ellipse cx="377.4447" cy="859" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M380.4135,864.6406 Q379.8353,864.9375 379.1947,865.0781 Q378.5541,865.2344 377.851,865.2344 Q375.351,865.2344 374.0228,863.5938 Q372.7103,861.9375 372.7103,858.8125 Q372.7103,855.6875 374.0228,854.0313 Q375.351,852.375 377.851,852.375 Q378.5541,852.375 379.1947,852.5313 Q379.851,852.6875 380.4135,852.9844 L380.4135,855.7031 Q379.7885,855.125 379.1947,854.8594 Q378.601,854.5781 377.976,854.5781 Q376.6322,854.5781 375.9447,855.6563 Q375.2572,856.7188 375.2572,858.8125 Q375.2572,860.9063 375.9447,861.9844 Q376.6322,863.0469 377.976,863.0469 Q378.601,863.0469 379.1947,862.7813 Q379.7885,862.5 380.4135,861.9219 L380.4135,864.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.2778" x="397.9447" y="864.432">Token</text><line style="stroke:#A80036;stroke-width:1;" x1="293.5" x2="510.1672" y1="875" y2="875"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.1557" x="298.5" y="893.9659">lang : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.0074" x="298.5" y="913.0339">isVocabulary : boolean</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.8895" x="298.5" y="932.1018">isQuestion : boolean</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177.7853" x="298.5" y="951.1697">isWrittenExercise : boolean</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.6355" x="298.5" y="970.2376">percentCount : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172.0733" x="298.5" y="989.3055">isWrittenSection : boolean</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.5873" x="298.5" y="1008.3734">hasOptionalPrefix : boolean</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.0335" x="298.5" y="1027.4414">isDisabled : boolean</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.4296" x="298.5" y="1046.5093">titleLevel : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.2454" x="298.5" y="1065.5772">exclamationCount : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200.3392" x="298.5" y="1084.6451">isUnorderedListItem : boolean</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.0913" x="298.5" y="1103.713">orderedListNumber : Integer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.8657" x="298.5" y="1122.7809">rest : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206.6672" x="298.5" y="1141.8489">attributes : Map&lt;String, String&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.8776" x="298.5" y="1160.9168">ttsFolder : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9437" x="298.5" y="1179.9847">ttsKey : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.5676" x="298.5" y="1199.0526">duration : double</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2377" x="298.5" y="1218.1205">voice : String</text></g><!--reverse link MLComponent to MLNode--><g id="link_MLComponent_MLNode"><path d="M361.339,54.1141 C350.619,69.7441 343.88,79.57 330.65,98.85 " fill="transparent" id="MLComponent-backto-MLNode" style="stroke:#A80036;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="transparent" points="371.52,39.27,356.391,50.7204,366.287,57.5078,371.52,39.27" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link MLNode to SectionOrParagraph--><g id="link_MLNode_SectionOrParagraph"><path d="M246.5371,160.8261 C218.8871,175.9461 201.41,189.63 180,218 C158.81,246.08 150.12,287.57 146.82,309.73 " fill="transparent" id="MLNode-backto-SectionOrParagraph" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="262.33,152.19,243.6583,155.5618,249.4158,166.0905,262.33,152.19" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link MLNode to Text--><g id="link_MLNode_Text"><path d="M276.8352,172.0994 C261.2852,191.4794 252.62,202.3 240.07,217.95 " fill="transparent" id="MLNode-backto-Text" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="288.1,158.06,272.1554,168.3444,281.515,175.8543,288.1,158.06" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link SectionOrParagraph to Section--><g id="link_SectionOrParagraph_Section"><path d="M112.6647,355.3205 C98.3147,370.5005 92.5,381.34 79.3,401.72 " fill="transparent" id="SectionOrParagraph-backto-Section" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="125.03,342.24,108.3045,351.1987,117.0249,359.4423,125.03,342.24" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link Section to SectionOrParagraph--><g id="link_Section_SectionOrParagraph"><path codeline="54" d="M111.7359,392.3015 C127.8259,371.9215 136.45,357.42 143.65,342.24 " fill="transparent" id="Section-backto-SectionOrParagraph" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="104.3,401.72,111.1574,399.4894,111.7359,392.3015,104.8784,394.5321,104.3,401.72" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link SectionOrParagraph to Paragraph--><g id="link_SectionOrParagraph_Paragraph"><path d="M162.0157,358.0222 C173.8457,379.5922 186.7,403.01 198.57,424.64 " fill="transparent" id="SectionOrParagraph-backto-Paragraph" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="153.36,342.24,156.755,360.9075,167.2765,355.137,153.36,342.24" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link MLNode to Sentence--><g id="link_MLNode_Sentence"><path d="M307.9384,176.0412 C302.5084,258.5812 288.1,477.47 284,539.81 " fill="transparent" id="MLNode-backto-Sentence" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="309.12,158.08,301.9513,175.6473,313.9255,176.435,309.12,158.08" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link MLNode to Syntagma--><g id="link_MLNode_Syntagma"><path d="M337.43,173.7871 C358.46,210.8671 382,262.53 382,325 C382,325 382,325 382,442 C382,513.81 363.17,598.19 354.86,631.94 " fill="transparent" id="MLNode-backto-Syntagma" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="328.55,158.13,332.2109,176.7471,342.649,170.8271,328.55,158.13" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link MLComponent to MLToken--><g id="link_MLComponent_MLToken"><path d="M399.8849,54.7787 C418.9949,88.3987 453,156.74 453,233 C453,233 453,233 453,557 C453,618.03 429.44,686.42 414.35,723.96 " fill="transparent" id="MLComponent-backto-MLToken" style="stroke:#A80036;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="transparent" points="390.99,39.13,394.6687,57.7436,405.1011,51.8137,390.99,39.13" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link MLToken to Token--><g id="link_MLToken_Token"><path codeline="50" d="M402,795.05 C402,810.74 402,819.71 402,842.85 " fill="transparent" id="MLToken-backto-Token" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="402,783.05,398,789.05,402,795.05,406,789.05,402,783.05" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link Syntagma to MLToken--><g id="link_Syntagma_MLToken"><path codeline="51" d="M363.8331,675.0346 C371.5331,690.6646 378.38,704.57 387.88,723.85 " fill="transparent" id="Syntagma-backto-MLToken" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="358.53,664.27,357.5933,671.42,363.8331,675.0346,364.7698,667.8846,358.53,664.27" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link Sentence to Syntagma--><g id="link_Sentence_Syntagma"><path codeline="52" d="M301.774,581.8444 C314.354,598.4944 327.12,615.4 339.64,631.96 " fill="transparent" id="Sentence-backto-Syntagma" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="294.54,572.27,294.9655,579.4685,301.774,581.8444,301.3485,574.6459,294.54,572.27" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link Paragraph to Sentence--><g id="link_Paragraph_Sentence"><path codeline="53" d="M223.9447,467.199 C238.4447,488.769 258.12,518.01 272.67,539.64 " fill="transparent" id="Paragraph-backto-Sentence" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="217.25,457.24,217.2777,464.451,223.9447,467.199,223.917,459.9879,217.25,457.24" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link Text to SectionOrParagraph--><g id="link_Text_SectionOrParagraph"><path codeline="55" d="M205.7861,259.0927 C190.4361,275.7427 174.14,293.4 158.87,309.96 " fill="transparent" id="Text-backto-SectionOrParagraph" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="213.92,250.27,206.9122,251.9701,205.7861,259.0927,212.794,257.3926,213.92,250.27" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--SRC=[ZLFBJiD03BplL-mPqOepGbnuI8YMXrhWW3WuYKbNx2FoEbKhnB_ZJT8qRQd4hPcnnxDZDtuPhob4L0jJe4PNyLexT1bILCfuHlg47FLqSXLS5JnwLWgoo0Gvwzn2ZC8z1EarhhBef20Eg_Mtqhe24lHSpz_FnkEJ3_Lpe373d4tmZ_G412L1jT2uOlJ5Hbwfjd0ky16gq-ZPFpIJ6JPiKSpCrfwXT22GnILQWUIzoLihT-ZaK70xMfBoajCHPzse8_HqCWzVwF-Ju1IghSEsAz4MV9cUn6HyATycleOSije2hGNFGh08lY6UQunDJBlm6naMRpShfDn4t64hmSJ8LQZ5JPlIe6KJ-x1Z0V6nIYZO9y9FizgRTcqYP1QB7RXPp6Im2YrvoKiT9ANzwIy-K864nSH4lcDqEre3xg5EropidUoeH1AM989XNC3oAwiPkuWlMkQqgxXCvZZU1biqGdsVWFUu7Y95JT2bKOHQdYZOCfWSjqMolit2JqQZTecglv04TRJghog1_RbkxxA1kngrMKCB7Xngyxyvmlq2]--></g></svg></p><h4 id="5222-format-des-fichiers-dunités">5.2.2.2. Format des fichiers d'unités </h4>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="237px" preserveAspectRatio="none" style="width:144px;height:237px;background:#FFFFFF;" version="1.1" viewBox="0 0 144 237" width="144px" zoomAndPan="magnify"><defs><filter height="300%" id="f1q8l7gvo12ox5" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--class PortableUnit--><g id="elem_PortableUnit"><rect codeline="4" fill="#FEFECE" filter="url(#f1q8l7gvo12ox5)" height="78.1358" id="PortableUnit" style="stroke:#A80036;stroke-width:1;" width="115.2997" x="11" y="7"></rect><ellipse cx="26" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M28.9688,28.6406 Q28.3906,28.9375 27.75,29.0781 Q27.1094,29.2344 26.4063,29.2344 Q23.9063,29.2344 22.5781,27.5938 Q21.2656,25.9375 21.2656,22.8125 Q21.2656,19.6875 22.5781,18.0313 Q23.9063,16.375 26.4063,16.375 Q27.1094,16.375 27.75,16.5313 Q28.4063,16.6875 28.9688,16.9844 L28.9688,19.7031 Q28.3438,19.125 27.75,18.8594 Q27.1563,18.5781 26.5313,18.5781 Q25.1875,18.5781 24.5,19.6563 Q23.8125,20.7188 23.8125,22.8125 Q23.8125,24.9063 24.5,25.9844 Q25.1875,27.0469 26.5313,27.0469 Q27.1563,27.0469 27.75,26.7813 Q28.3438,26.5 28.9688,25.9219 L28.9688,28.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.2997" x="40" y="28.432">PortableUnit</text><line style="stroke:#A80036;stroke-width:1;" x1="12" x2="125.2997" y1="39" y2="39"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.1237" x="17" y="57.9659">code : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.5818" x="17" y="77.0339">text : Text</text></g><!--class PortableTrack--><g id="elem_PortableTrack"><rect codeline="9" fill="#FEFECE" filter="url(#f1q8l7gvo12ox5)" height="78.1358" id="PortableTrack" style="stroke:#A80036;stroke-width:1;" width="123.3637" x="7" y="145"></rect><ellipse cx="22" cy="161" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M24.9688,166.6406 Q24.3906,166.9375 23.75,167.0781 Q23.1094,167.2344 22.4063,167.2344 Q19.9063,167.2344 18.5781,165.5938 Q17.2656,163.9375 17.2656,160.8125 Q17.2656,157.6875 18.5781,156.0313 Q19.9063,154.375 22.4063,154.375 Q23.1094,154.375 23.75,154.5313 Q24.4063,154.6875 24.9688,154.9844 L24.9688,157.7031 Q24.3438,157.125 23.75,156.8594 Q23.1563,156.5781 22.5313,156.5781 Q21.1875,156.5781 20.5,157.6563 Q19.8125,158.7188 19.8125,160.8125 Q19.8125,162.9063 20.5,163.9844 Q21.1875,165.0469 22.5313,165.0469 Q23.1563,165.0469 23.75,164.7813 Q24.3438,164.5 24.9688,163.9219 L24.9688,166.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.3637" x="36" y="166.432">PortableTrack</text><line style="stroke:#A80036;stroke-width:1;" x1="8" x2="129.3637" y1="177" y2="177"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.1557" x="13" y="195.9659">lang : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.6557" x="13" y="215.0339">title : String</text></g><!--reverse link PortableUnit to PortableTrack--><g id="link_PortableUnit_PortableTrack"><path codeline="14" d="M68.5,97.25 C68.5,115.79 68.5,126 68.5,144.57 " fill="transparent" id="PortableUnit-backto-PortableTrack" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="68.5,85.25,64.5,91.25,68.5,97.25,72.5,91.25,68.5,85.25" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.567" x="45.7128" y="133.278">1..*</text></g><!--SRC=[NOqx2iD034HxdKAuDDZWDgS8n3d0UYqSuVq4IKLCoDqjKcLJ3G_cpUZE1QKgmODNGifFEp1JNaWK8AQWYjSg5fP4zyA6Rq2CrQiNl9bmsPoDNkOyUy3dtvebnFshfL2sHcDBFpjkDa_zC60tZMFVjLjm0W00]--></g></svg></p><h4 id="5223-format-des-messages">5.2.2.3. Format des messages </h4>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="462px" preserveAspectRatio="none" style="width:401px;height:462px;background:#FFFFFF;" version="1.1" viewBox="0 0 401 462" width="401px" zoomAndPan="magnify"><defs><filter height="300%" id="f10bo7ggb2hbga" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--class PublishNoteCommand--><g id="elem_PublishNoteCommand"><rect codeline="4" fill="#FEFECE" filter="url(#f10bo7ggb2hbga)" height="32" id="PublishNoteCommand" style="stroke:#A80036;stroke-width:1;" width="180.9874" x="7" y="7"></rect><ellipse cx="22" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M26.1094,29 L18.3906,29 L18.3906,16.6094 L26.1094,16.6094 L26.1094,18.7656 L20.8438,18.7656 L20.8438,21.4375 L25.6094,21.4375 L25.6094,23.5938 L20.8438,23.5938 L20.8438,26.8438 L26.1094,26.8438 L26.1094,29 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.9874" x="36" y="28.432">PublishNoteCommand</text></g><!--class NotePayload--><g id="elem_NotePayload"><rect codeline="7" fill="#FEFECE" filter="url(#f10bo7ggb2hbga)" height="116.2717" id="NotePayload" style="stroke:#A80036;stroke-width:1;" width="141.6255" x="26.5" y="108.5"></rect><ellipse cx="53.0001" cy="124.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M57.1095,130.5 L49.3907,130.5 L49.3907,118.1094 L57.1095,118.1094 L57.1095,120.2656 L51.8439,120.2656 L51.8439,122.9375 L56.6095,122.9375 L56.6095,125.0938 L51.8439,125.0938 L51.8439,128.3438 L57.1095,128.3438 L57.1095,130.5 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.0697" x="69.5557" y="129.932">NotePayload</text><line style="stroke:#A80036;stroke-width:1;" x1="27.5" x2="167.1255" y1="140.5" y2="140.5"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.6498" x="32.5" y="159.4659">id : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.6517" x="32.5" y="178.5339">tags : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.6255" x="32.5" y="197.6018">domain : DomainV3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.8916" x="32.5" y="216.6697">author : String</text></g><!--class TranspositionPayload--><g id="elem_TranspositionPayload"><rect codeline="14" fill="#FEFECE" filter="url(#f10bo7ggb2hbga)" height="154.4075" id="TranspositionPayload" style="stroke:#A80036;stroke-width:1;" width="173.9735" x="10.5" y="294"></rect><ellipse cx="25.5" cy="310" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M29.6094,316 L21.8906,316 L21.8906,303.6094 L29.6094,303.6094 L29.6094,305.7656 L24.3438,305.7656 L24.3438,308.4375 L29.1094,308.4375 L29.1094,310.5938 L24.3438,310.5938 L24.3438,313.8438 L29.6094,313.8438 L29.6094,316 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.9735" x="39.5" y="315.432">TranspositionPayload</text><line style="stroke:#A80036;stroke-width:1;" x1="11.5" x2="183.4735" y1="326" y2="326"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.6557" x="16.5" y="344.9659">title : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.1515" x="16.5" y="364.0339">description : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.1557" x="16.5" y="383.1018">lang : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2377" x="16.5" y="402.1697">voice : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.8377" x="16.5" y="421.2376">text : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.3195" x="16.5" y="440.3055">exported : boolean</text></g><!--class UnitBuiltEvent--><g id="elem_UnitBuiltEvent"><rect codeline="23" fill="#FEFECE" filter="url(#f10bo7ggb2hbga)" height="32" id="UnitBuiltEvent" style="stroke:#A80036;stroke-width:1;" width="126.0796" x="232.5" y="7"></rect><ellipse cx="247.5" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M251.6094,29 L243.8906,29 L243.8906,16.6094 L251.6094,16.6094 L251.6094,18.7656 L246.3438,18.7656 L246.3438,21.4375 L251.1094,21.4375 L251.1094,23.5938 L246.3438,23.5938 L246.3438,26.8438 L251.6094,26.8438 L251.6094,29 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.0796" x="261.5" y="28.432">UnitBuiltEvent</text></g><!--class UnitPayload--><g id="elem_UnitPayload"><rect codeline="26" fill="#FEFECE" filter="url(#f10bo7ggb2hbga)" height="135.3396" id="UnitPayload" style="stroke:#A80036;stroke-width:1;" width="183.3454" x="204" y="99"></rect><ellipse cx="251.6418" cy="115" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M255.7512,121 L248.0324,121 L248.0324,108.6094 L255.7512,108.6094 L255.7512,110.7656 L250.4856,110.7656 L250.4856,113.4375 L255.2512,113.4375 L255.2512,115.5938 L250.4856,115.5938 L250.4856,118.8438 L255.7512,118.8438 L255.7512,121 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.5617" x="272.1418" y="120.432">UnitPayload</text><line style="stroke:#A80036;stroke-width:1;" x1="205" x2="386.3454" y1="131" y2="131"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.6498" x="210" y="149.9659">id : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.6255" x="210" y="169.0339">domain : DomainV3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.3454" x="210" y="188.1018">modificationDate : Instant</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.6517" x="210" y="207.1697">tags : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.8916" x="210" y="226.2376">author : String</text></g><!--class TrackPayload--><g id="elem_TrackPayload"><rect codeline="34" fill="#FEFECE" filter="url(#f10bo7ggb2hbga)" height="135.3396" id="TrackPayload" style="stroke:#A80036;stroke-width:1;" width="136.1515" x="227.5" y="303.5"></rect><ellipse cx="249.9366" cy="319.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M254.046,325.5 L246.3273,325.5 L246.3273,313.1094 L254.046,313.1094 L254.046,315.2656 L248.7804,315.2656 L248.7804,317.9375 L253.546,317.9375 L253.546,320.0938 L248.7804,320.0938 L248.7804,323.3438 L254.046,323.3438 L254.046,325.5 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.6257" x="265.5892" y="324.932">TrackPayload</text><line style="stroke:#A80036;stroke-width:1;" x1="228.5" x2="362.6515" y1="335.5" y2="335.5"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.1557" x="233.5" y="354.4659">lang : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.6557" x="233.5" y="373.5339">title : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.1515" x="233.5" y="392.6018">description : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2377" x="233.5" y="411.6697">voice : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.8377" x="233.5" y="430.7376">text : String</text></g><!--reverse link PublishNoteCommand to NotePayload--><g id="link_PublishNoteCommand_NotePayload"><path codeline="42" d="M97.5,51.14 C97.5,67.68 97.5,83.18 97.5,108.3 " fill="transparent" id="PublishNoteCommand-backto-NotePayload" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="97.5,39.14,93.5,45.14,97.5,51.14,101.5,45.14,97.5,39.14" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="90.1035" y="96.6789">1</text></g><!--reverse link NotePayload to TranspositionPayload--><g id="link_NotePayload_TranspositionPayload"><path codeline="43" d="M97.5,236.72 C97.5,258.12 97.5,270.78 97.5,293.64 " fill="transparent" id="NotePayload-backto-TranspositionPayload" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="97.5,224.72,93.5,230.72,97.5,236.72,101.5,230.72,97.5,224.72" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link UnitBuiltEvent to UnitPayload--><g id="link_UnitBuiltEvent_UnitPayload"><path codeline="44" d="M295.5,51.14 C295.5,65.62 295.5,76.48 295.5,98.8 " fill="transparent" id="UnitBuiltEvent-backto-UnitPayload" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="295.5,39.14,291.5,45.14,295.5,51.14,299.5,45.14,295.5,39.14" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="288.1221" y="87.3827">1</text></g><!--reverse link UnitPayload to TrackPayload--><g id="link_UnitPayload_TrackPayload"><path codeline="45" d="M295.5,246.09 C295.5,268.33 295.5,281.12 295.5,303.37 " fill="transparent" id="UnitPayload-backto-TrackPayload" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="295.5,234.09,291.5,240.09,295.5,246.09,299.5,240.09,295.5,234.09" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--SRC=[ZP8zJmCn38Rt_8ge8r87nDOHoi22AXNOVHTpPpMnJuclQeNuxoG8sbnrV6nvNoV-UEAq8xPH4fgU75eCWnvjmD1WJCOWAsMz6HjFgNyKnJi90TZPD_D-2XT_0qSlK7nhoTcLtMeaxh9Iw5AjdGJ8DLTs_NbukSaUZDfBFDywvtwAm6cGH4h2TP4SzJZ9YwcDD9HxjUs1krhlXTh9EyM3rXeFWqJ5CaCZuX6uQkUPIMz7ydg_pyw4GWdzJ65kwY2ENgc5ql8Qj7Jrm4c1TGRRhuZQNLtvSkJ_ele3JQuuimYoNDh5zQ9U0bCln5MEptsYkK3vdQV2Q6gaNtbEaveF]--></g></svg></p><h2 id="53-rechercher-des-unités">5.3. Rechercher des unités </h2>
<p>La recherche d’unités se fait en deux étapes distinctes, relevant de domaines séparés :</p>
<ul>
<li><strong>Phase 1 : Authentification</strong> - traitée par le domaine "comptes". Elle est en fait préliminaire à plusieurs cas d'utilisation.</li>
<li><strong>Phase 2 : Recherche d’unités</strong> - traitée par le domaine "unités".</li>
</ul>
<hr>
<h3 id="531-phase-1--authentification">5.3.1. Phase 1 : Authentification </h3>
<h4 id="5311-diagramme-de-séquence">5.3.1.1. Diagramme de séquence </h4>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="SEQUENCE" height="483px" preserveAspectRatio="none" style="width:968px;height:483px;background:#FFFFFF;" version="1.1" viewBox="0 0 968 483" width="968px" zoomAndPan="magnify"><defs><filter height="300%" id="f48yzgfv0q5e0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><g><title>Utilisateur</title><rect fill="transparent" height="305.3541" width="8" x="38.0339" y="91.0679"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="42" x2="42" y1="91.0679" y2="396.4221"></line></g><g><title>&lt;&lt;boundary&gt;&gt;</title><rect fill="transparent" height="305.3541" width="8" x="228.759" y="91.0679"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="231.8971" x2="231.8971" y1="91.0679" y2="396.4221"></line></g><g><title>&lt;&lt;rest&gt;&gt;</title><rect fill="transparent" height="305.3541" width="8" x="410.3452" y="91.0679"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="413.6044" x2="413.6044" y1="91.0679" y2="396.4221"></line></g><g><title>&lt;&lt;control&gt;&gt;</title><rect fill="transparent" height="305.3541" width="8" x="596.9234" y="91.0679"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="600.9195" x2="600.9195" y1="91.0679" y2="396.4221"></line></g><g><title>&lt;&lt;interface&gt;&gt;</title><rect fill="transparent" height="305.3541" width="8" x="741.7585" y="91.0679"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="745.0117" x2="745.0117" y1="91.0679" y2="396.4221"></line></g><g><title>&lt;&lt;entity&gt;&gt;</title><rect fill="transparent" height="305.3541" width="8" x="849.2911" y="91.0679"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="852.5053" x2="852.5053" y1="91.0679" y2="396.4221"></line></g><g><title>&lt;&lt;control&gt;&gt;</title><rect fill="transparent" height="305.3541" width="8" x="931.7769" y="91.0679"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="935.077" x2="935.077" y1="91.0679" y2="396.4221"></line></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0677" x="5" y="86.9659">Utilisateur</text><ellipse cx="42.0339" cy="15" fill="#FEFECE" filter="url(#f48yzgfv0q5e0)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2;"></ellipse><path d="M42.0339,23 L42.0339,50 M29.0339,31 L55.0339,31 M42.0339,50 L29.0339,65 M42.0339,50 L55.0339,65 " fill="transparent" filter="url(#f48yzgfv0q5e0)" style="stroke:#A80036;stroke-width:2;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0677" x="5" y="410.388">Utilisateur</text><ellipse cx="42.0339" cy="424.49" fill="#FEFECE" filter="url(#f48yzgfv0q5e0)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2;"></ellipse><path d="M42.0339,432.49 L42.0339,459.49 M29.0339,440.49 L55.0339,440.49 M42.0339,459.49 L29.0339,474.49 M42.0339,459.49 L55.0339,474.49 " fill="transparent" filter="url(#f48yzgfv0q5e0)" style="stroke:#A80036;stroke-width:2;"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="73.7237" x="192.8971" y="67.898">«boundary»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.3978" x="209.0601" y="86.9659">UnitUi</text><path d="M212.259,24.9321 L212.259,48.9321 M212.259,36.9321 L229.259,36.9321 " fill="transparent" filter="url(#f48yzgfv0q5e0)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="241.259" cy="36.9321" fill="#FEFECE" filter="url(#f48yzgfv0q5e0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="73.7237" x="192.8971" y="410.388">«boundary»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.3978" x="209.0601" y="429.4559">UnitUi</text><path d="M212.259,437.5579 L212.259,461.5579 M212.259,449.5579 L229.259,449.5579 " fill="transparent" filter="url(#f48yzgfv0q5e0)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="241.259" cy="449.5579" fill="#FEFECE" filter="url(#f48yzgfv0q5e0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="36.6099" x="393.0403" y="67.898">«rest»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.4816" x="362.6044" y="86.9659">AuthController</text><path d="M393.8452,24.9321 L393.8452,48.9321 M393.8452,36.9321 L410.8452,36.9321 " fill="transparent" filter="url(#f48yzgfv0q5e0)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="422.8452" cy="36.9321" fill="#FEFECE" filter="url(#f48yzgfv0q5e0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="36.6099" x="393.0403" y="410.388">«rest»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.4816" x="362.6044" y="429.4559">AuthController</text><path d="M393.8452,437.5579 L393.8452,461.5579 M393.8452,449.5579 L410.8452,449.5579 " fill="transparent" filter="url(#f48yzgfv0q5e0)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="422.8452" cy="449.5579" fill="#FEFECE" filter="url(#f48yzgfv0q5e0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="57.3998" x="569.2235" y="67.898">«control»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.0077" x="558.9195" y="86.9659">AuthService</text><ellipse cx="600.9234" cy="36.9321" fill="#FEFECE" filter="url(#f48yzgfv0q5e0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="596.9234,24.9321,602.9234,19.9321,600.9234,24.9321,602.9234,29.9321,596.9234,24.9321" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="57.3998" x="569.2235" y="410.388">«control»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.0077" x="558.9195" y="429.4559">AuthService</text><ellipse cx="600.9234" cy="449.5579" fill="#FEFECE" filter="url(#f48yzgfv0q5e0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="596.9234,437.5579,602.9234,432.5579,600.9234,437.5579,602.9234,442.5579,596.9234,437.5579" style="stroke:#A80036;stroke-width:1;"></polygon><rect fill="#FEFECE" filter="url(#f48yzgfv0q5e0)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="109.4936" x="689.0117" y="33.9321"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68.0117" x="709.7526" y="55.898">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.4936" x="696.0117" y="74.9659">SpringSecurity</text><rect fill="#FEFECE" filter="url(#f48yzgfv0q5e0)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="109.4936" x="689.0117" y="395.4221"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68.0117" x="709.7526" y="417.388">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.4936" x="696.0117" y="436.4559">SpringSecurity</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="47.8938" x="826.3442" y="67.898">«entity»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.5717" x="812.5053" y="86.9659">UserDetails</text><ellipse cx="853.2911" cy="36.9321" fill="#FEFECE" filter="url(#f48yzgfv0q5e0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="841.2911" x2="865.2911" y1="50.9321" y2="50.9321"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="47.8938" x="826.3442" y="410.388">«entity»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.5717" x="812.5053" y="429.4559">UserDetails</text><ellipse cx="853.2911" cy="449.5579" fill="#FEFECE" filter="url(#f48yzgfv0q5e0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><line style="stroke:#A80036;stroke-width:2;" x1="841.2911" x2="865.2911" y1="463.5579" y2="463.5579"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="57.3998" x="904.077" y="67.898">«control»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3918" x="911.581" y="86.9659">JwtUtil</text><ellipse cx="935.7769" cy="36.9321" fill="#FEFECE" filter="url(#f48yzgfv0q5e0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="931.7769,24.9321,937.7769,19.9321,935.7769,24.9321,937.7769,29.9321,931.7769,24.9321" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="57.3998" x="904.077" y="410.388">«control»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3918" x="911.581" y="429.4559">JwtUtil</text><ellipse cx="935.7769" cy="449.5579" fill="#FEFECE" filter="url(#f48yzgfv0q5e0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="931.7769,437.5579,937.7769,432.5579,935.7769,437.5579,937.7769,442.5579,931.7769,437.5579" style="stroke:#A80036;stroke-width:1;"></polygon><polygon fill="#A80036" points="220.759,120.7739,230.759,124.7739,220.759,128.7739,224.759,124.7739" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="42.0339" x2="226.759" y1="124.7739" y2="124.7739"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.7251" x="49.0339" y="118.9649">saisie email + mot de passe</text><polygon fill="#A80036" points="402.3452,152.4799,412.3452,156.4799,402.3452,160.4799,406.3452,156.4799" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="232.759" x2="408.3452" y1="156.4799" y2="156.4799"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.5862" x="239.759" y="150.6709">POST /auth (authRequest)</text><polygon fill="#A80036" points="588.9234,184.186,598.9234,188.186,588.9234,192.186,592.9234,188.186" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="414.3452" x2="594.9234" y1="188.186" y2="188.186"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.5782" x="421.3452" y="182.377">authenticate(authRequest)</text><polygon fill="#A80036" points="733.7585,215.892,743.7585,219.892,733.7585,223.892,737.7585,219.892" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="600.9234" x2="739.7585" y1="219.892" y2="219.892"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.8351" x="607.9234" y="214.083">get(user, password)</text><polygon fill="#A80036" points="611.9234,247.598,601.9234,251.598,611.9234,255.598,607.9234,251.598" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="605.9234" x2="744.7585" y1="251.598" y2="251.598"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.174" x="617.9234" y="245.789">UserDetails</text><polygon fill="#A80036" points="923.7769,279.304,933.7769,283.304,923.7769,287.304,927.7769,283.304" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="600.9234" x2="929.7769" y1="283.304" y2="283.304"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.8141" x="607.9234" y="277.495">generateJwt(UserDetails)</text><polygon fill="#A80036" points="611.9234,311.01,601.9234,315.01,611.9234,319.01,607.9234,315.01" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="605.9234" x2="934.7769" y1="315.01" y2="315.01"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.866" x="617.9234" y="309.201">token</text><polygon fill="#A80036" points="425.3452,342.716,415.3452,346.716,425.3452,350.716,421.3452,346.716" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="419.3452" x2="599.9234" y1="346.716" y2="346.716"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.8321" x="431.3452" y="340.907">AuthResponse(token)</text><polygon fill="#A80036" points="243.759,374.4221,233.759,378.4221,243.759,382.4221,239.759,378.4221" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="237.759" x2="413.3452" y1="378.4221" y2="378.4221"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.2491" x="249.759" y="372.6131">réponse avec token</text><!--SRC=[RP5DJiCm48NtFiKi4q75FgegLR1YKqJ80Ompb55JEup7hNeapi75cAI9I1CsNhpvvkSznmDvu13HM2U1eH9gA5h1nCQyX-HhonUeF4b5i5wFocRpLzmc-NmCNZWq3R92Z54KS5UjhvV89tAenK7LUcjPo55hlK3PClbzYIunoKKnyeByOHqgY5uwiOh8JoYMcgZ0LPoiUJvBT_pD2ZEn0wlDwAE0Q2aI0Xvr6jp1CGZK2AsD6iG0AJvpLi3Bhdo31wioPDtxYbz9pUPcHWwze-i2EhYxsEafoywHqxPP40NiKRAapk_xwyw1wzpCeDLYtIIg-O8nfcwoHzPxLCac3RaPaULS2GVqjnF_YsdR6unjy16plcUPqFGt-EUxPy6Uq0rBVW40]--></g></svg></p><hr>
<h4 id="5312-diagramme-de-classes">5.3.1.2. Diagramme de classes </h4>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="562px" preserveAspectRatio="none" style="width:773px;height:562px;background:#FFFFFF;" version="1.1" viewBox="0 0 773 562" width="773px" zoomAndPan="magnify"><defs><filter height="300%" id="fbs9hduwg9mrz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--cluster account--><g id="cluster_account"><polygon fill="transparent" filter="url(#fbs9hduwg9mrz)" points="16,6.602,74.1218,6.602,81.1218,31.6699,756,31.6699,756,553.602,16,553.602,16,6.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="81.1218" y1="31.6699" y2="31.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.1218" x="20" y="23.5679">account</text></g><!--cluster adapters--><g id="cluster_adapters"><polygon fill="transparent" filter="url(#fbs9hduwg9mrz)" points="40,52.602,104.3658,52.602,111.3658,77.6699,414,77.6699,414,235.602,40,235.602,40,52.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="40" x2="111.3658" y1="77.6699" y2="77.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.3658" x="44" y="69.5679">adapters</text></g><!--cluster rest--><g id="cluster_rest"><polygon fill="transparent" filter="url(#fbs9hduwg9mrz)" points="64,98.602,95.4379,98.602,102.4379,123.6699,390,123.6699,390,211.602,64,211.602,64,98.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="64" x2="102.4379" y1="123.6699" y2="123.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.4379" x="68" y="115.5679">rest</text></g><!--cluster security--><g id="cluster_security"><polygon fill="transparent" filter="url(#fbs9hduwg9mrz)" points="40,259.602,97.5618,259.602,104.5618,284.6699,732,284.6699,732,529.602,40,529.602,40,259.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="40" x2="104.5618" y1="284.6699" y2="284.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.5618" x="44" y="276.5679">security</text></g><!--class AuthController--><g id="elem_AuthController"><rect codeline="5" fill="#FEFECE" filter="url(#fbs9hduwg9mrz)" height="59.0679" id="AuthController" style="stroke:#A80036;stroke-width:1;" width="293.0629" x="80.5" y="136.602"></rect><ellipse cx="174.0406" cy="152.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M177.0094,158.2426 Q176.4313,158.5395 175.7906,158.6801 Q175.15,158.8364 174.4469,158.8364 Q171.9469,158.8364 170.6188,157.1957 Q169.3063,155.5395 169.3063,152.4145 Q169.3063,149.2895 170.6188,147.6332 Q171.9469,145.977 174.4469,145.977 Q175.15,145.977 175.7906,146.1332 Q176.4469,146.2895 177.0094,146.5864 L177.0094,149.3051 Q176.3844,148.727 175.7906,148.4614 Q175.1969,148.1801 174.5719,148.1801 Q173.2281,148.1801 172.5406,149.2582 Q171.8531,150.3207 171.8531,152.4145 Q171.8531,154.5082 172.5406,155.5864 Q173.2281,156.6489 174.5719,156.6489 Q175.1969,156.6489 175.7906,156.3832 Q176.3844,156.102 177.0094,155.5239 L177.0094,158.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.4816" x="194.5406" y="158.034">AuthController</text><line style="stroke:#A80036;stroke-width:1;" x1="81.5" x2="372.5629" y1="168.602" y2="168.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="281.0629" x="86.5" y="187.5679">authenticate(authRequest) : AuthResponse</text></g><!--class AuthRequest--><g id="elem_AuthRequest"><rect codeline="12" fill="#FEFECE" filter="url(#fbs9hduwg9mrz)" height="78.1358" id="AuthRequest" style="stroke:#A80036;stroke-width:1;" width="126.1696" x="409" y="297.602"></rect><ellipse cx="428.2048" cy="313.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M431.1735,319.2426 Q430.5954,319.5395 429.9548,319.6801 Q429.3141,319.8364 428.611,319.8364 Q426.111,319.8364 424.7829,318.1957 Q423.4704,316.5395 423.4704,313.4145 Q423.4704,310.2895 424.7829,308.6332 Q426.111,306.977 428.611,306.977 Q429.3141,306.977 429.9548,307.1332 Q430.611,307.2895 431.1735,307.5864 L431.1735,310.3051 Q430.5485,309.727 429.9548,309.4614 Q429.361,309.1801 428.736,309.1801 Q427.3923,309.1801 426.7048,310.2582 Q426.0173,311.3207 426.0173,313.4145 Q426.0173,315.5082 426.7048,316.5864 Q427.3923,317.6489 428.736,317.6489 Q429.361,317.6489 429.9548,317.3832 Q430.5485,317.102 431.1735,316.5239 L431.1735,319.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.8257" x="443.1392" y="319.034">AuthRequest</text><line style="stroke:#A80036;stroke-width:1;" x1="410" x2="534.1696" y1="329.602" y2="329.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.4917" x="415" y="348.5679">email : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.1696" x="415" y="367.6358">password : String</text></g><!--class AuthResponse--><g id="elem_AuthResponse"><rect codeline="17" fill="#FEFECE" filter="url(#fbs9hduwg9mrz)" height="59.0679" id="AuthResponse" style="stroke:#A80036;stroke-width:1;" width="145.3075" x="570.5" y="307.102"></rect><ellipse cx="593.7619" cy="323.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M596.7307,328.7426 Q596.1526,329.0395 595.5119,329.1801 Q594.8713,329.3364 594.1682,329.3364 Q591.6682,329.3364 590.3401,327.6957 Q589.0276,326.0395 589.0276,322.9145 Q589.0276,319.7895 590.3401,318.1332 Q591.6682,316.477 594.1682,316.477 Q594.8713,316.477 595.5119,316.6332 Q596.1682,316.7895 596.7307,317.0864 L596.7307,319.8051 Q596.1057,319.227 595.5119,318.9614 Q594.9182,318.6801 594.2932,318.6801 Q592.9494,318.6801 592.2619,319.7582 Q591.5744,320.8207 591.5744,322.9145 Q591.5744,325.0082 592.2619,326.0864 Q592.9494,327.1489 594.2932,327.1489 Q594.9182,327.1489 595.5119,326.8832 Q596.1057,326.602 596.7307,326.0239 L596.7307,328.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.9476" x="609.5979" y="328.534">AuthResponse</text><line style="stroke:#A80036;stroke-width:1;" x1="571.5" x2="714.8075" y1="339.102" y2="339.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.3075" x="576.5" y="358.0679">accessToken : String</text></g><!--class AuthService--><g id="elem_AuthService"><rect codeline="21" fill="#FEFECE" filter="url(#fbs9hduwg9mrz)" height="59.0679" id="AuthService" style="stroke:#A80036;stroke-width:1;" width="293.0629" x="80.5" y="307.102"></rect><ellipse cx="183.7776" cy="323.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M186.7464,328.7426 Q186.1682,329.0395 185.5276,329.1801 Q184.887,329.3364 184.1839,329.3364 Q181.6839,329.3364 180.3557,327.6957 Q179.0432,326.0395 179.0432,322.9145 Q179.0432,319.7895 180.3557,318.1332 Q181.6839,316.477 184.1839,316.477 Q184.887,316.477 185.5276,316.6332 Q186.1839,316.7895 186.7464,317.0864 L186.7464,319.8051 Q186.1214,319.227 185.5276,318.9614 Q184.9339,318.6801 184.3089,318.6801 Q182.9651,318.6801 182.2776,319.7582 Q181.5901,320.8207 181.5901,322.9145 Q181.5901,325.0082 182.2776,326.0864 Q182.9651,327.1489 184.3089,327.1489 Q184.9339,327.1489 185.5276,326.8832 Q186.1214,326.602 186.7464,326.0239 L186.7464,328.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.0077" x="204.2776" y="328.534">AuthService</text><line style="stroke:#A80036;stroke-width:1;" x1="81.5" x2="372.5629" y1="339.102" y2="339.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="281.0629" x="86.5" y="358.0679">authenticate(authRequest) : AuthResponse</text></g><!--class JwtUtil--><g id="elem_JwtUtil"><rect codeline="25" fill="#FEFECE" filter="url(#fbs9hduwg9mrz)" height="59.0679" id="JwtUtil" style="stroke:#A80036;stroke-width:1;" width="225.9192" x="56" y="445.102"></rect><ellipse cx="143.5137" cy="461.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M146.4824,466.7426 Q145.9043,467.0395 145.2637,467.1801 Q144.623,467.3364 143.9199,467.3364 Q141.4199,467.3364 140.0918,465.6957 Q138.7793,464.0395 138.7793,460.9145 Q138.7793,457.7895 140.0918,456.1332 Q141.4199,454.477 143.9199,454.477 Q144.623,454.477 145.2637,454.6332 Q145.9199,454.7895 146.4824,455.0864 L146.4824,457.8051 Q145.8574,457.227 145.2637,456.9614 Q144.6699,456.6801 144.0449,456.6801 Q142.7012,456.6801 142.0137,457.7582 Q141.3262,458.8207 141.3262,460.9145 Q141.3262,463.0082 142.0137,464.0864 Q142.7012,465.1489 144.0449,465.1489 Q144.6699,465.1489 145.2637,464.8832 Q145.8574,464.602 146.4824,464.0239 L146.4824,466.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3918" x="164.0137" y="466.534">JwtUtil</text><line style="stroke:#A80036;stroke-width:1;" x1="57" x2="280.9192" y1="477.102" y2="477.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.9192" x="62" y="496.0679">generateJwt(UserDetails) : String</text></g><!--class SpringSecurity--><g id="elem_SpringSecurity"><rect codeline="29" fill="#FEFECE" filter="url(#fbs9hduwg9mrz)" height="59.0679" id="SpringSecurity" style="stroke:#A80036;stroke-width:1;" width="235.7612" x="317" y="445.102"></rect><ellipse cx="382.8838" cy="461.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M385.8525,466.7426 Q385.2744,467.0395 384.6338,467.1801 Q383.9931,467.3364 383.29,467.3364 Q380.79,467.3364 379.4619,465.6957 Q378.1494,464.0395 378.1494,460.9145 Q378.1494,457.7895 379.4619,456.1332 Q380.79,454.477 383.29,454.477 Q383.9931,454.477 384.6338,454.6332 Q385.29,454.7895 385.8525,455.0864 L385.8525,457.8051 Q385.2275,457.227 384.6338,456.9614 Q384.04,456.6801 383.415,456.6801 Q382.0713,456.6801 381.3838,457.7582 Q380.6963,458.8207 380.6963,460.9145 Q380.6963,463.0082 381.3838,464.0864 Q382.0713,465.1489 383.415,465.1489 Q384.04,465.1489 384.6338,464.8832 Q385.2275,464.602 385.8525,464.0239 L385.8525,466.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.4936" x="403.3838" y="466.534">SpringSecurity</text><line style="stroke:#A80036;stroke-width:1;" x1="318" x2="551.7612" y1="477.102" y2="477.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223.7612" x="323" y="496.0679">get(email, password) : UserDetails</text></g><!--class UserDetails--><g id="elem_UserDetails"><rect codeline="33" fill="#FEFECE" filter="url(#fbs9hduwg9mrz)" height="78.1358" id="UserDetails" style="stroke:#A80036;stroke-width:1;" width="127.3316" x="588.5" y="435.602"></rect><ellipse cx="612.3919" cy="451.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M615.3607,457.2426 Q614.7826,457.5395 614.1419,457.6801 Q613.5013,457.8364 612.7982,457.8364 Q610.2982,457.8364 608.9701,456.1957 Q607.6576,454.5395 607.6576,451.4145 Q607.6576,448.2895 608.9701,446.6332 Q610.2982,444.977 612.7982,444.977 Q613.5013,444.977 614.1419,445.1332 Q614.7982,445.2895 615.3607,445.5864 L615.3607,448.3051 Q614.7357,447.727 614.1419,447.4614 Q613.5482,447.1801 612.9232,447.1801 Q611.5794,447.1801 610.8919,448.2582 Q610.2044,449.3207 610.2044,451.4145 Q610.2044,453.5082 610.8919,454.5864 Q611.5794,455.6489 612.9232,455.6489 Q613.5482,455.6489 614.1419,455.3832 Q614.7357,455.102 615.3607,454.5239 L615.3607,457.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.5717" x="628.3679" y="457.034">UserDetails</text><line style="stroke:#A80036;stroke-width:1;" x1="589.5" x2="714.8316" y1="467.602" y2="467.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.4917" x="594.5" y="486.5679">email : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.3316" x="594.5" y="505.6358">roles : String[0..*]</text></g><!--link AuthController to AuthService--><g id="link_AuthController_AuthService"><path codeline="39" d="M227,195.682 C227,226.672 227,269.842 227,300.882 " fill="transparent" id="AuthController-to-AuthService" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="227,306.882,231,297.882,227,301.882,223,297.882,227,306.882" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AuthService to SpringSecurity--><g id="link_AuthService_SpringSecurity"><path codeline="40" d="M270.6,366.112 C305.98,389.242 350.6178,418.429 386.0778,441.609 " fill="transparent" id="AuthService-to-SpringSecurity" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="391.1,444.892,385.7554,436.6194,386.9149,442.1562,381.3781,443.3157,391.1,444.892" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AuthService to JwtUtil--><g id="link_AuthService_JwtUtil"><path codeline="41" d="M214.84,366.112 C205.01,389.172 193.5734,415.9728 183.6934,439.1428 " fill="transparent" id="AuthService-to-JwtUtil" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="181.34,444.662,188.5496,437.9522,183.3012,440.0627,181.1907,434.8143,181.34,444.662" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--SRC=[dL6nJiCm5Dpp5K-TKaGZPWOa15F7Xaw8mJYdr6fY6xyNgWhbtt7ID4eAPM3qdU_klNkyDvQ2OoGxKu1GUpbIZVeTWPF4AxrN9MYXj7QDbKmLoakaiW2M1NqbHBfIpFJOoEx9MGckgX1wWaX545QCLeAqUspmqKJXakvxmGRidOtPH6tI_XB7q4qmSkoIPb63qP23MfagUkOIZ2rxoCUV1nUAATfUUfpIpyDg3UONjuVzGvGZV1gD_omu-gmFifKuyCcZX4M8-eYcMqPuXiHjU7bbYDntM3uKCtf8sfTmEoxUwITsSvC9SRt2U4hm2BtUPTdDs_bI5-TUhHwcxIJJfZfkFlGFUYZa6m00]--></g></svg></p><hr>
<h3 id="532-phase-2--recherche-dunités">5.3.2. Phase 2 : Recherche d’unités </h3>
<p>Quelques accrobaties à justifier ici : nous souhaitons utiliser la recherche "plain text" de PostgreSQL et pour cela, il est nécessaire de faire une requête native. Conséquence : on ne peut pas lier Unit et Author via JPA. C'est pour cela qu'on obtient d'abord la liste des unités, puis on utilise findAllById pour récupérer tous les auteurs en une seule requête afin de les lier manuellement à leurs unités.</p>
<h4 id="5321-diagramme-de-séquence">5.3.2.1. Diagramme de séquence </h4>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="SEQUENCE" height="727px" preserveAspectRatio="none" style="width:1026px;height:727px;background:#FFFFFF;" version="1.1" viewBox="0 0 1026 727" width="1026px" zoomAndPan="magnify"><defs><filter height="300%" id="f17uc94oo3jlq4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><rect fill="transparent" filter="url(#f17uc94oo3jlq4)" height="109.118" style="stroke:#000000;stroke-width:2;" width="270.4201" x="576.1455" y="419.4221"></rect><g><title>Utilisateur</title><rect fill="transparent" height="549.5902" width="8" x="38.0339" y="91.0679"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="42" x2="42" y1="91.0679" y2="640.6582"></line></g><g><title>&lt;&lt;boundary&gt;&gt;</title><rect fill="transparent" height="549.5902" width="8" x="259.439" y="91.0679"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="262.5772" x2="262.5772" y1="91.0679" y2="640.6582"></line></g><g><title>&lt;&lt;boundary&gt;&gt;</title><rect fill="transparent" height="549.5902" width="8" x="475.9302" y="91.0679"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="479.0654" x2="479.0654" y1="91.0679" y2="640.6582"></line></g><g><title>&lt;&lt;control&gt;&gt;</title><rect fill="transparent" height="549.5902" width="8" x="622.2733" y="91.0679"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="626.1455" x2="626.1455" y1="91.0679" y2="640.6582"></line></g><g><title>&lt;&lt;repository&gt;&gt;</title><rect fill="transparent" height="549.5902" width="8" x="837.5656" y="91.0679"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="840.5658" x2="840.5658" y1="91.0679" y2="640.6582"></line></g><g><title>&lt;&lt;repository&gt;&gt;</title><rect fill="transparent" height="549.5902" width="8" x="960.5672" y="91.0679"></rect><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5.0,5.0;" x1="964.5654" x2="964.5654" y1="91.0679" y2="640.6582"></line></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0677" x="5" y="86.9659">Utilisateur</text><ellipse cx="42.0339" cy="15" fill="#FEFECE" filter="url(#f17uc94oo3jlq4)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2;"></ellipse><path d="M42.0339,23 L42.0339,50 M29.0339,31 L55.0339,31 M42.0339,50 L29.0339,65 M42.0339,50 L55.0339,65 " fill="transparent" filter="url(#f17uc94oo3jlq4)" style="stroke:#A80036;stroke-width:2;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0677" x="5" y="654.6241">Utilisateur</text><ellipse cx="42.0339" cy="668.7261" fill="#FEFECE" filter="url(#f17uc94oo3jlq4)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2;"></ellipse><path d="M42.0339,676.7261 L42.0339,703.7261 M29.0339,684.7261 L55.0339,684.7261 M42.0339,703.7261 L29.0339,718.7261 M42.0339,703.7261 L55.0339,718.7261 " fill="transparent" filter="url(#f17uc94oo3jlq4)" style="stroke:#A80036;stroke-width:2;"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="73.7237" x="223.5772" y="67.898">«boundary»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.3978" x="239.7401" y="86.9659">UnitUi</text><path d="M242.939,24.9321 L242.939,48.9321 M242.939,36.9321 L259.939,36.9321 " fill="transparent" filter="url(#f17uc94oo3jlq4)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="271.939" cy="36.9321" fill="#FEFECE" filter="url(#f17uc94oo3jlq4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="73.7237" x="223.5772" y="654.6241">«boundary»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.3978" x="239.7401" y="673.692">UnitUi</text><path d="M242.939,681.794 L242.939,705.794 M242.939,693.794 L259.939,693.794 " fill="transparent" filter="url(#f17uc94oo3jlq4)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="271.939" cy="693.794" fill="#FEFECE" filter="url(#f17uc94oo3jlq4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="73.7237" x="440.0683" y="67.898">«boundary»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.7296" x="430.0654" y="86.9659">UnitController</text><path d="M459.4302,24.9321 L459.4302,48.9321 M459.4302,36.9321 L476.4302,36.9321 " fill="transparent" filter="url(#f17uc94oo3jlq4)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="488.4302" cy="36.9321" fill="#FEFECE" filter="url(#f17uc94oo3jlq4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="73.7237" x="440.0683" y="654.6241">«boundary»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.7296" x="430.0654" y="673.692">UnitController</text><path d="M459.4302,681.794 L459.4302,705.794 M459.4302,693.794 L476.4302,693.794 " fill="transparent" filter="url(#f17uc94oo3jlq4)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="488.4302" cy="693.794" fill="#FEFECE" filter="url(#f17uc94oo3jlq4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="57.3998" x="594.5734" y="67.898">«control»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.2557" x="586.1455" y="86.9659">UnitService</text><ellipse cx="626.2733" cy="36.9321" fill="#FEFECE" filter="url(#f17uc94oo3jlq4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="622.2733,24.9321,628.2733,19.9321,626.2733,24.9321,628.2733,29.9321,622.2733,24.9321" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="57.3998" x="594.5734" y="654.6241">«control»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.2557" x="586.1455" y="673.692">UnitService</text><ellipse cx="626.2733" cy="693.794" fill="#FEFECE" filter="url(#f17uc94oo3jlq4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="622.2733,681.794,628.2733,676.794,626.2733,681.794,628.2733,686.794,622.2733,681.794" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76.2017" x="800.4647" y="67.898">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.9996" x="789.5658" y="86.9659">UnitRepository</text><path d="M821.0656,24.9321 L821.0656,48.9321 M821.0656,36.9321 L838.0656,36.9321 " fill="transparent" filter="url(#f17uc94oo3jlq4)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="850.0656" cy="36.9321" fill="#FEFECE" filter="url(#f17uc94oo3jlq4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76.2017" x="800.4647" y="654.6241">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.9996" x="789.5658" y="673.692">UnitRepository</text><path d="M821.0656,681.794 L821.0656,705.794 M821.0656,693.794 L838.0656,693.794 " fill="transparent" filter="url(#f17uc94oo3jlq4)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="850.0656" cy="693.794" fill="#FEFECE" filter="url(#f17uc94oo3jlq4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76.2017" x="923.4663" y="67.898">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.0036" x="903.5654" y="86.9659">AuthorRepository</text><path d="M944.0672,24.9321 L944.0672,48.9321 M944.0672,36.9321 L961.0672,36.9321 " fill="transparent" filter="url(#f17uc94oo3jlq4)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="973.0672" cy="36.9321" fill="#FEFECE" filter="url(#f17uc94oo3jlq4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76.2017" x="923.4663" y="654.6241">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.0036" x="903.5654" y="673.692">AuthorRepository</text><path d="M944.0672,681.794 L944.0672,705.794 M944.0672,693.794 L961.0672,693.794 " fill="transparent" filter="url(#f17uc94oo3jlq4)" style="stroke:#A80036;stroke-width:2;"></path><ellipse cx="973.0672" cy="693.794" fill="#FEFECE" filter="url(#f17uc94oo3jlq4)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2;"></ellipse><polygon fill="#A80036" points="251.439,120.7739,261.439,124.7739,251.439,128.7739,255.439,124.7739" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="42.0339" x2="257.439" y1="124.7739" y2="124.7739"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.4052" x="49.0339" y="118.9649">rechercher mots-clés avec token</text><polygon fill="#A80036" points="467.9302,152.4799,477.9302,156.4799,467.9302,160.4799,471.9302,156.4799" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="263.439" x2="473.9302" y1="156.4799" y2="156.4799"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.4912" x="270.439" y="150.6709">GET /api/units/search?words=...</text><polygon fill="#A80036" points="614.2733,184.186,624.2733,188.186,614.2733,192.186,618.2733,188.186" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="479.9302" x2="620.2733" y1="188.186" y2="188.186"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85.9691" x="486.9302" y="182.377">search(words)</text><line style="stroke:#A80036;stroke-width:1;" x1="626.2733" x2="668.2733" y1="219.892" y2="219.892"></line><line style="stroke:#A80036;stroke-width:1;" x1="668.2733" x2="668.2733" y1="219.892" y2="232.892"></line><line style="stroke:#A80036;stroke-width:1;" x1="627.2733" x2="668.2733" y1="232.892" y2="232.892"></line><polygon fill="#A80036" points="637.2733,228.892,627.2733,232.892,637.2733,236.892,633.2733,232.892" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.0051" x="633.2733" y="214.083">toTsQuery(words)</text><polygon fill="#A80036" points="829.5656,260.598,839.5656,264.598,829.5656,268.598,833.5656,264.598" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="626.2733" x2="835.5656" y1="264.598" y2="264.598"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.7081" x="633.2733" y="258.789">searchByTsQuery(query)</text><polygon fill="#A80036" points="637.2733,292.304,627.2733,296.304,637.2733,300.304,633.2733,296.304" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="631.2733" x2="840.5656" y1="296.304" y2="296.304"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.7051" x="643.2733" y="290.495">Unit[0..*]</text><line style="stroke:#A80036;stroke-width:1;" x1="626.2733" x2="668.2733" y1="328.01" y2="328.01"></line><line style="stroke:#A80036;stroke-width:1;" x1="668.2733" x2="668.2733" y1="328.01" y2="341.01"></line><line style="stroke:#A80036;stroke-width:1;" x1="627.2733" x2="668.2733" y1="341.01" y2="341.01"></line><polygon fill="#A80036" points="637.2733,337.01,627.2733,341.01,637.2733,345.01,633.2733,341.01" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.1512" x="633.2733" y="322.201">collectAuthorIds(units)</text><polygon fill="#A80036" points="952.5672,368.716,962.5672,372.716,952.5672,376.716,956.5672,372.716" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;" x1="626.2733" x2="958.5672" y1="372.716" y2="372.716"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.0691" x="633.2733" y="366.907">findAllById(authorIds)</text><polygon fill="#A80036" points="637.2733,400.4221,627.2733,404.4221,637.2733,408.4221,633.2733,404.4221" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="631.2733" x2="963.5672" y1="404.4221" y2="404.4221"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.4661" x="643.2733" y="398.6131">Map&lt;id, Author&gt;</text><path d="M576.1455,419.4221 L649.4335,419.4221 L649.4335,429.1281 L639.4335,439.1281 L576.1455,439.1281 L576.1455,419.4221 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1;"></path><rect fill="transparent" height="109.118" style="stroke:#000000;stroke-width:2;" width="270.4201" x="576.1455" y="419.4221"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28.288" x="591.1455" y="434.3191">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="108.2942" x="664.4335" y="433.181">[pour chaque unité]</text><line style="stroke:#A80036;stroke-width:1;" x1="626.2733" x2="668.2733" y1="462.8341" y2="462.8341"></line><line style="stroke:#A80036;stroke-width:1;" x1="668.2733" x2="668.2733" y1="462.8341" y2="475.8341"></line><line style="stroke:#A80036;stroke-width:1;" x1="627.2733" x2="668.2733" y1="475.8341" y2="475.8341"></line><polygon fill="#A80036" points="637.2733,471.8341,627.2733,475.8341,637.2733,479.8341,633.2733,475.8341" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.2922" x="633.2733" y="457.0251">author = authorMap[unit.author]</text><line style="stroke:#A80036;stroke-width:1;" x1="626.2733" x2="668.2733" y1="507.5401" y2="507.5401"></line><line style="stroke:#A80036;stroke-width:1;" x1="668.2733" x2="668.2733" y1="507.5401" y2="520.5401"></line><line style="stroke:#A80036;stroke-width:1;" x1="627.2733" x2="668.2733" y1="520.5401" y2="520.5401"></line><polygon fill="#A80036" points="637.2733,516.5401,627.2733,520.5401,637.2733,524.5401,633.2733,520.5401" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.8472" x="633.2733" y="501.7311">toUnitAndAuthor(unit, author)</text><polygon fill="#A80036" points="490.9302,555.2461,480.9302,559.2461,490.9302,563.2461,486.9302,559.2461" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="484.9302" x2="625.2733" y1="559.2461" y2="559.2461"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.3432" x="496.9302" y="553.4371">UnitAndAuthor[0..*]</text><polygon fill="#A80036" points="274.439,586.9521,264.439,590.9521,274.439,594.9521,270.439,590.9521" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="268.439" x2="478.9302" y1="590.9521" y2="590.9521"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.2531" x="280.439" y="585.1431">réponse JSON</text><polygon fill="#A80036" points="53.0339,618.6582,43.0339,622.6582,53.0339,626.6582,49.0339,622.6582" style="stroke:#A80036;stroke-width:1;"></polygon><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="47.0339" x2="262.439" y1="622.6582" y2="622.6582"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.485" x="59.0339" y="616.8492">affichage</text><!--SRC=[XLBHJi8m57tlLzn7C31yNc06Z36Og57WoV1Gko8DitUs7MQVn7VmOxPRHpgc-B1cjptdz9pRgtT2WaBD2Q7Ce8AL4PdGrF124VAEXKofAc4bXLa968-RdIHf7zwYD0gpZAisYDNx5MR1rLumRW5-zrpabUUeXNLHMemw5I5iMfWjgh-19F0FmwGn7eFYRCkL- -0JZHwox7ZGGFUSWS4TbyGZFIV84yFztH96D1UZmfxeaURK2jryeqhr98eYSaRm4atS66f2hoBqINZMWHfSwfU2g_82EaZVQC_AXlRbrfeMu8QTYrprTXr5L-lBXfZBn4pTztcgUrKFEhuwxnB3HiXqccMpSfxsQ4Flamwow-sHvcEH3hneGZB477AqBygsr0O4v-5u800NhTUNmiJ_MDKtHupgSlqVtQ2hfpP4XQ-23xnMdt2Pjdlms-2q189kXyFI6jBZ8KUfEJmidfzE4-aGmLJRO9kDi9tuu3y0]--></g></svg></p><hr>
<h4 id="5322-diagramme-de-classes">5.3.2.2. Diagramme de classes </h4>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="1106px" preserveAspectRatio="none" style="width:1115px;height:1106px;background:#FFFFFF;" version="1.1" viewBox="0 0 1115 1106" width="1115px" zoomAndPan="magnify"><defs><filter height="300%" id="fsfigjqeovr7v" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--cluster unit--><g id="cluster_unit"><polygon fill="transparent" filter="url(#fsfigjqeovr7v)" points="16,6.602,47.9699,6.602,54.9699,31.6699,1098,31.6699,1098,1097.602,16,1097.602,16,6.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="54.9699" y1="31.6699" y2="31.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.9699" x="20" y="23.5679">unit</text></g><!--cluster adapters--><g id="cluster_adapters"><polygon fill="transparent" filter="url(#fsfigjqeovr7v)" points="455,52.602,519.3658,52.602,526.3658,77.6699,827,77.6699,827,468.602,455,468.602,455,52.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="455" x2="526.3658" y1="77.6699" y2="77.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.3658" x="459" y="69.5679">adapters</text></g><!--cluster rest--><g id="cluster_rest"><polygon fill="transparent" filter="url(#fsfigjqeovr7v)" points="479,330.602,510.4379,330.602,517.4379,355.6699,803,355.6699,803,444.602,479,444.602,479,330.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="479" x2="517.4379" y1="355.6699" y2="355.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.4379" x="483" y="347.5679">rest</text></g><!--cluster data--><g id="cluster_data"><polygon fill="transparent" filter="url(#fsfigjqeovr7v)" points="503,98.602,538.3719,98.602,545.3719,123.6699,779,123.6699,779,306.602,503,306.602,503,98.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="503" x2="545.3719" y1="123.6699" y2="123.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.3719" x="507" y="115.5679">data</text></g><!--cluster core--><g id="cluster_core"><polygon fill="transparent" filter="url(#fsfigjqeovr7v)" points="40,492.602,74.8679,492.602,81.8679,517.6699,1074,517.6699,1074,1073.602,40,1073.602,40,492.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="40" x2="81.8679" y1="517.6699" y2="517.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.8679" x="44" y="509.5679">core</text></g><!--cluster business--><g id="cluster_business"><polygon fill="transparent" filter="url(#fsfigjqeovr7v)" points="64,538.602,127.5398,538.602,134.5398,563.6699,1050,563.6699,1050,1049.602,64,1049.602,64,538.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="64" x2="134.5398" y1="563.6699" y2="563.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.5398" x="68" y="555.5679">business</text></g><!--cluster services--><g id="cluster_services"><polygon fill="transparent" filter="url(#fsfigjqeovr7v)" points="88,584.602,146.4298,584.602,153.4298,609.6699,367,609.6699,367,698.602,88,698.602,88,584.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="88" x2="153.4298" y1="609.6699" y2="609.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.4298" x="92" y="601.5679">services</text></g><!--cluster entities--><g id="cluster_entities"><polygon fill="transparent" filter="url(#fsfigjqeovr7v)" points="146,722.602,200.4818,722.602,207.4818,747.6699,1026,747.6699,1026,1025.602,146,1025.602,146,722.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="146" x2="207.4818" y1="747.6699" y2="747.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.4818" x="150" y="739.5679">entities</text></g><!--class UnitController--><g id="elem_UnitController"><rect codeline="6" fill="#FEFECE" filter="url(#fsfigjqeovr7v)" height="59.0679" id="UnitController" style="stroke:#A80036;stroke-width:1;" width="292.3069" x="495" y="369.102"></rect><ellipse cx="590.0386" cy="385.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M593.0074,390.7426 Q592.4293,391.0395 591.7886,391.1801 Q591.148,391.3364 590.4449,391.3364 Q587.9449,391.3364 586.6168,389.6957 Q585.3043,388.0395 585.3043,384.9145 Q585.3043,381.7895 586.6168,380.1332 Q587.9449,378.477 590.4449,378.477 Q591.148,378.477 591.7886,378.6332 Q592.4449,378.7895 593.0074,379.0864 L593.0074,381.8051 Q592.3824,381.227 591.7886,380.9614 Q591.1949,380.6801 590.5699,380.6801 Q589.2261,380.6801 588.5386,381.7582 Q587.8511,382.8207 587.8511,384.9145 Q587.8511,387.0082 588.5386,388.0864 Q589.2261,389.1489 590.5699,389.1489 Q591.1949,389.1489 591.7886,388.8832 Q592.3824,388.602 593.0074,388.0239 L593.0074,390.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.7296" x="610.5386" y="390.534">UnitController</text><line style="stroke:#A80036;stroke-width:1;" x1="496" x2="786.3069" y1="401.102" y2="401.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280.3069" x="501" y="420.0679">search(words, token) : UnitAndAuthor[0..*]</text></g><!--class UnitRepository--><g id="elem_UnitRepository"><rect codeline="12" fill="#FEFECE" filter="url(#fsfigjqeovr7v)" height="59.0679" id="UnitRepository" style="stroke:#A80036;stroke-width:1;" width="244.2451" x="519" y="231.102"></rect><ellipse cx="591.3027" cy="247.102" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M587.2246,242.8676 L587.2246,240.7114 L594.6152,240.7114 L594.6152,242.8676 L592.1465,242.8676 L592.1465,250.9457 L594.6152,250.9457 L594.6152,253.102 L587.2246,253.102 L587.2246,250.9457 L589.6933,250.9457 L589.6933,242.8676 L587.2246,242.8676 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.1397" x="611.8027" y="252.534">UnitRepository</text><line style="stroke:#A80036;stroke-width:1;" x1="520" x2="762.2451" y1="263.102" y2="263.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232.2451" x="525" y="282.0679">searchByTsQuery(query) : Unit[0..*]</text></g><!--class AuthorRepository--><g id="elem_AuthorRepository"><rect codeline="16" fill="#FEFECE" filter="url(#fsfigjqeovr7v)" height="59.0679" id="AuthorRepository" style="stroke:#A80036;stroke-width:1;" width="193.3973" x="544.5" y="137.102"></rect><ellipse cx="583.7639" cy="153.102" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M579.6857,148.8676 L579.6857,146.7114 L587.0764,146.7114 L587.0764,148.8676 L584.6076,148.8676 L584.6076,156.9457 L587.0764,156.9457 L587.0764,159.102 L579.6857,159.102 L579.6857,156.9457 L582.1545,156.9457 L582.1545,148.8676 L579.6857,148.8676 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="107.4776" x="603.1558" y="158.534">AuthorRepository</text><line style="stroke:#A80036;stroke-width:1;" x1="545.5" x2="736.8973" y1="169.102" y2="169.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181.3973" x="550.5" y="188.0679">findAllById(id) : Author[0..1]</text></g><!--class UnitService--><g id="elem_UnitService"><rect codeline="22" fill="#FEFECE" filter="url(#fsfigjqeovr7v)" height="59.0679" id="UnitService" style="stroke:#A80036;stroke-width:1;" width="247.3671" x="104" y="623.102"></rect><ellipse cx="186.3057" cy="639.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M189.2745,644.7426 Q188.6963,645.0395 188.0557,645.1801 Q187.4151,645.3364 186.712,645.3364 Q184.212,645.3364 182.8838,643.6957 Q181.5713,642.0395 181.5713,638.9145 Q181.5713,635.7895 182.8838,634.1332 Q184.212,632.477 186.712,632.477 Q187.4151,632.477 188.0557,632.6332 Q188.712,632.7895 189.2745,633.0864 L189.2745,635.8051 Q188.6495,635.227 188.0557,634.9614 Q187.462,634.6801 186.837,634.6801 Q185.4932,634.6801 184.8057,635.7582 Q184.1182,636.8207 184.1182,638.9145 Q184.1182,641.0082 184.8057,642.0864 Q185.4932,643.1489 186.837,643.1489 Q187.462,643.1489 188.0557,642.8832 Q188.6495,642.602 189.2745,642.0239 L189.2745,644.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.2557" x="206.8057" y="644.534">UnitService</text><line style="stroke:#A80036;stroke-width:1;" x1="105" x2="350.3671" y1="655.102" y2="655.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="235.3671" x="110" y="674.0679">search(words) : UnitAndAuthor[0..*]</text></g><!--class Unit--><g id="elem_Unit"><rect codeline="28" fill="#FEFECE" filter="url(#fsfigjqeovr7v)" height="135.3396" id="Unit" style="stroke:#A80036;stroke-width:1;" width="183.3454" x="549.5" y="874.102"></rect><ellipse cx="623.1467" cy="890.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M626.1155,895.7426 Q625.5374,896.0395 624.8967,896.1801 Q624.2561,896.3364 623.553,896.3364 Q621.053,896.3364 619.7249,894.6957 Q618.4124,893.0395 618.4124,889.9145 Q618.4124,886.7895 619.7249,885.1332 Q621.053,883.477 623.553,883.477 Q624.2561,883.477 624.8967,883.6332 Q625.553,883.7895 626.1155,884.0864 L626.1155,886.8051 Q625.4905,886.227 624.8967,885.9614 Q624.303,885.6801 623.678,885.6801 Q622.3342,885.6801 621.6467,886.7582 Q620.9592,887.8207 620.9592,889.9145 Q620.9592,892.0082 621.6467,893.0864 Q622.3342,894.1489 623.678,894.1489 Q624.303,894.1489 624.8967,893.8832 Q625.4905,893.602 626.1155,893.0239 L626.1155,895.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27.5519" x="643.6467" y="895.534">Unit</text><line style="stroke:#A80036;stroke-width:1;" x1="550.5" x2="731.8454" y1="906.102" y2="906.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.6498" x="555.5" y="925.0679">id : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.6255" x="555.5" y="944.1358">domain : DomainV3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.3454" x="555.5" y="963.2038">modificationDate : Instant</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.6517" x="555.5" y="982.2717">tags : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.8916" x="555.5" y="1001.3396">author : String</text></g><!--class Track--><g id="elem_Track"><rect codeline="36" fill="#FEFECE" filter="url(#fsfigjqeovr7v)" height="116.2717" id="Track" style="stroke:#A80036;stroke-width:1;" width="136.1515" x="874" y="883.602"></rect><ellipse cx="920.0178" cy="899.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M922.9866,905.2426 Q922.4085,905.5395 921.7678,905.6801 Q921.1272,905.8364 920.4241,905.8364 Q917.9241,905.8364 916.596,904.1957 Q915.2835,902.5395 915.2835,899.4145 Q915.2835,896.2895 916.596,894.6332 Q917.9241,892.977 920.4241,892.977 Q921.1272,892.977 921.7678,893.1332 Q922.4241,893.2895 922.9866,893.5864 L922.9866,896.3051 Q922.3616,895.727 921.7678,895.4614 Q921.1741,895.1801 920.5491,895.1801 Q919.2053,895.1801 918.5178,896.2582 Q917.8303,897.3207 917.8303,899.4145 Q917.8303,901.5082 918.5178,902.5864 Q919.2053,903.6489 920.5491,903.6489 Q921.1741,903.6489 921.7678,903.3832 Q922.3616,903.102 922.9866,902.5239 L922.9866,905.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.6159" x="940.5178" y="905.034">Track</text><line style="stroke:#A80036;stroke-width:1;" x1="875" x2="1009.1515" y1="915.602" y2="915.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.1557" x="880" y="934.5679">lang : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.6557" x="880" y="953.6358">title : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.1515" x="880" y="972.7038">description : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.8377" x="880" y="991.7717">text : String</text></g><!--class Author--><g id="elem_Author"><rect codeline="43" fill="#FEFECE" filter="url(#fsfigjqeovr7v)" height="78.1358" id="Author" style="stroke:#A80036;stroke-width:1;" width="148.0515" x="567" y="760.602"></rect><ellipse cx="613.9978" cy="776.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M616.9666,782.2426 Q616.3885,782.5395 615.7478,782.6801 Q615.1072,782.8364 614.4041,782.8364 Q611.9041,782.8364 610.576,781.1957 Q609.2635,779.5395 609.2635,776.4145 Q609.2635,773.2895 610.576,771.6332 Q611.9041,769.977 614.4041,769.977 Q615.1072,769.977 615.7478,770.1332 Q616.4041,770.2895 616.9666,770.5864 L616.9666,773.3051 Q616.3416,772.727 615.7478,772.4614 Q615.1541,772.1801 614.5291,772.1801 Q613.1853,772.1801 612.4978,773.2582 Q611.8103,774.3207 611.8103,776.4145 Q611.8103,778.5082 612.4978,779.5864 Q613.1853,780.6489 614.5291,780.6489 Q615.1541,780.6489 615.7478,780.3832 Q616.3416,780.102 616.9666,779.5239 L616.9666,782.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.5558" x="634.4978" y="782.034">Author</text><line style="stroke:#A80036;stroke-width:1;" x1="568" x2="714.0515" y1="792.602" y2="792.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.6498" x="573" y="811.5679">id : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.0515" x="573" y="830.6358">displayName : String</text></g><!--class UnitAndAuthor--><g id="elem_UnitAndAuthor"><rect codeline="48" fill="#FEFECE" filter="url(#fsfigjqeovr7v)" height="32" id="UnitAndAuthor" style="stroke:#A80036;stroke-width:1;" width="131.3156" x="162" y="854.602"></rect><ellipse cx="177" cy="870.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M179.9688,876.2426 Q179.3906,876.5395 178.75,876.6801 Q178.1094,876.8364 177.4063,876.8364 Q174.9063,876.8364 173.5781,875.1957 Q172.2656,873.5395 172.2656,870.4145 Q172.2656,867.2895 173.5781,865.6332 Q174.9063,863.977 177.4063,863.977 Q178.1094,863.977 178.75,864.1332 Q179.4063,864.2895 179.9688,864.5864 L179.9688,867.3051 Q179.3438,866.727 178.75,866.4614 Q178.1563,866.1801 177.5313,866.1801 Q176.1875,866.1801 175.5,867.2582 Q174.8125,868.3207 174.8125,870.4145 Q174.8125,872.5082 175.5,873.5864 Q176.1875,874.6489 177.5313,874.6489 Q178.1563,874.6489 178.75,874.3832 Q179.3438,874.102 179.9688,873.5239 L179.9688,876.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.3156" x="191" y="876.034">UnitAndAuthor</text></g><!--reverse link Unit to Track--><g id="link_Unit_Track"><path codeline="51" d="M744.52,941.602 C789.9,941.602 831.91,941.602 873.58,941.602 " fill="transparent" id="Unit-backto-Track" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="732.52,941.602,738.52,945.602,744.52,941.602,738.52,937.602,732.52,941.602" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link UnitAndAuthor to Unit--><g id="link_UnitAndAuthor_Unit"><path codeline="52" d="M305.0753,883.8121 C373.9953,895.7021 471.76,912.572 549.26,925.942 " fill="transparent" id="UnitAndAuthor-backto-Unit" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="293.25,881.772,298.4826,886.7338,305.0753,883.8121,299.8427,878.8503,293.25,881.772" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="534.0792" y="939.2394">1</text></g><!--reverse link UnitAndAuthor to Author--><g id="link_UnitAndAuthor_Author"><path codeline="53" d="M305.0752,857.3914 C379.4252,844.5614 489.29,825.602 566.96,812.202 " fill="transparent" id="UnitAndAuthor-backto-Author" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="293.25,859.432,299.8428,862.3534,305.0752,857.3914,298.4824,854.4699,293.25,859.432" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="551.5001" y="828.438">1</text></g><!--link UnitController to UnitService--><g id="link_UnitController_UnitService"><path codeline="56" d="M591.98,428.242 C512.78,477.122 360.8057,570.9405 281.6157,619.8205 " fill="transparent" id="UnitController-to-UnitService" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="276.51,622.972,286.2695,621.6485,280.7647,620.3457,282.0676,614.841,276.51,622.972" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link UnitService to UnitRepository--><g id="link_UnitService_UnitRepository"><path codeline="57" d="M243.58,622.842 C274.55,564.242 350.59,432.672 447,352.602 C478.84,326.162 514.0328,307.6366 549.8528,292.5066 " fill="transparent" id="UnitService-to-UnitRepository" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="555.38,290.172,545.5328,289.9891,550.774,292.1175,548.6457,297.3587,555.38,290.172" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.3531" x="384" y="362.499">(via port)</text></g><!--link UnitService to AuthorRepository--><g id="link_UnitService_AuthorRepository"><path codeline="58" d="M234.21,622.822 C251.12,543.042 308.69,323.152 447,213.602 C474.57,191.762 504.9262,180.9857 538.5462,174.5757 " fill="transparent" id="UnitService-to-AuthorRepository" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="544.44,173.452,534.8501,171.2083,539.5285,174.3884,536.3484,179.0668,544.44,173.452" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.3531" x="384" y="218.499">(via port)</text></g><!--SRC=[bLDDJ-Cm4BtdLrWz5KIZHNlh0Oak5ov8B1yNn66mf-ceZfsTcR94A_uxZbD4qfB3NY9xtlYzv-U9R2aOZeB5XXmQh1jjJOtr2x8K7jTgD1gcQgF64QDLYg4e6h1RgD3CTe6q10UDflwIKNHc_XN6M0yYvY6Xls9GZjuZPy0OGM2xcV-DxEGiiMynd9XbxhqCxdAdcyXFFyhoz3crlnVlaseE57er2gcm1ekPvJSsKKWZjoF5LNiljplaTlwd-tvg3gH6JBsH8wur9O_UhzfhDoVNaNmvFfzmR2DZ-R8J2YXI2l8hMPJ3eExw-ZSf_LSyOp4CIah7OdiLSedwJfb2bVSkrf3cOMckykBnPwxMqT6QB7HlVmMA2RyEeX0qmmgLZ6aWknpMShYz_3qdltjz3w4Q7qrsFHwOGh5CJQT-q8jlEY7IvpHrIvB6Gti3DKuS7wMTMJAOapjTBFexx0jVVJ4Xi_DPhaw2_RPxjuE_Ox6u6Cv1CPo9JsmmZaipVoKmJMGzEUez6jvHzmS0]--></g></svg></p><h2 id="6-diagrammes-de-classes-consolidés">6. Diagrammes de classes consolidés </h2>
<h2 id="61-groupe-account">6.1. Groupe "account" </h2>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="1682px" preserveAspectRatio="none" style="width:1507px;height:1682px;background:#FFFFFF;" version="1.1" viewBox="0 0 1507 1682" width="1507px" zoomAndPan="magnify"><defs><filter height="300%" id="famyowfmel1zj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--cluster account--><g id="cluster_account"><polygon fill="transparent" filter="url(#famyowfmel1zj)" points="16,6.602,74.1218,6.602,81.1218,31.6699,1490,31.6699,1490,1673.602,16,1673.602,16,6.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="81.1218" y1="31.6699" y2="31.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.1218" x="20" y="23.5679">account</text></g><!--cluster adapters--><g id="cluster_adapters"><polygon fill="transparent" filter="url(#famyowfmel1zj)" points="333,416.602,397.3658,416.602,404.3658,441.6699,1104.5,441.6699,1104.5,1257.602,333,1257.602,333,416.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="333" x2="404.3658" y1="441.6699" y2="441.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.3658" x="337" y="433.5679">adapters</text></g><!--cluster rest--><g id="cluster_rest"><polygon fill="transparent" filter="url(#famyowfmel1zj)" points="424.5,462.602,455.9379,462.602,462.9379,487.6699,1080.5,487.6699,1080.5,689.602,424.5,689.602,424.5,462.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="424.5" x2="462.9379" y1="487.6699" y2="487.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.4379" x="428.5" y="479.5679">rest</text></g><!--cluster data--><g id="cluster_data"><polygon fill="transparent" filter="url(#famyowfmel1zj)" points="357,713.602,392.3719,713.602,399.3719,738.6699,817,738.6699,817,863.602,357,863.602,357,713.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="357" x2="399.3719" y1="738.6699" y2="738.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.3719" x="361" y="730.5679">data</text></g><!--cluster mail--><g id="cluster_mail"><polygon fill="transparent" filter="url(#famyowfmel1zj)" points="468.5,887.602,502.6679,887.602,509.6679,912.6699,705.5,912.6699,705.5,1001.602,468.5,1001.602,468.5,887.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="468.5" x2="509.6679" y1="912.6699" y2="912.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.1679" x="472.5" y="904.5679">mail</text></g><!--cluster kafka--><g id="cluster_kafka"><polygon fill="transparent" filter="url(#famyowfmel1zj)" points="466.5,1025.602,507.9759,1025.602,514.9759,1050.6699,707.5,1050.6699,707.5,1233.602,466.5,1233.602,466.5,1025.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="466.5" x2="514.9759" y1="1050.6699" y2="1050.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.4759" x="470.5" y="1042.5679">kafka</text></g><!--cluster security--><g id="cluster_security"><polygon fill="transparent" filter="url(#famyowfmel1zj)" points="845,52.602,902.5618,52.602,909.5618,77.6699,1466,77.6699,1466,392.602,845,392.602,845,52.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="845" x2="909.5618" y1="77.6699" y2="77.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.5618" x="849" y="69.5679">security</text></g><!--cluster core--><g id="cluster_core"><polygon fill="transparent" filter="url(#famyowfmel1zj)" points="40,1281.602,74.8679,1281.602,81.8679,1306.6699,713,1306.6699,713,1649.602,40,1649.602,40,1281.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="40" x2="81.8679" y1="1306.6699" y2="1306.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.8679" x="44" y="1298.5679">core</text></g><!--cluster business--><g id="cluster_business"><polygon fill="transparent" filter="url(#famyowfmel1zj)" points="64,1327.602,127.5398,1327.602,134.5398,1352.6699,689,1352.6699,689,1625.602,64,1625.602,64,1327.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="64" x2="134.5398" y1="1352.6699" y2="1352.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.5398" x="68" y="1344.5679">business</text></g><!--cluster entities--><g id="cluster_entities"><polygon fill="transparent" filter="url(#famyowfmel1zj)" points="509,1373.602,563.4818,1373.602,570.4818,1398.6699,665,1398.6699,665,1601.602,509,1601.602,509,1373.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="509" x2="570.4818" y1="1398.6699" y2="1398.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.4818" x="513" y="1390.5679">entities</text></g><!--cluster services--><g id="cluster_services"><polygon fill="transparent" filter="url(#famyowfmel1zj)" points="88,1373.602,146.4298,1373.602,153.4298,1398.6699,309,1398.6699,309,1523.602,88,1523.602,88,1373.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="88" x2="153.4298" y1="1398.6699" y2="1398.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.4298" x="92" y="1390.5679">services</text></g><!--class AccountController--><g id="elem_AccountController"><rect codeline="8" fill="#FEFECE" filter="url(#famyowfmel1zj)" height="78.1358" id="AccountController" style="stroke:#A80036;stroke-width:1;" width="176.1214" x="499" y="595.602"></rect><ellipse cx="525.1284" cy="611.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M528.0972,617.2426 Q527.519,617.5395 526.8784,617.6801 Q526.2378,617.8364 525.5347,617.8364 Q523.0347,617.8364 521.7065,616.1957 Q520.394,614.5395 520.394,611.4145 Q520.394,608.2895 521.7065,606.6332 Q523.0347,604.977 525.5347,604.977 Q526.2378,604.977 526.8784,605.1332 Q527.5347,605.2895 528.0972,605.5864 L528.0972,608.3051 Q527.4722,607.727 526.8784,607.4614 Q526.2847,607.1801 525.6597,607.1801 Q524.3159,607.1801 523.6284,608.2582 Q522.9409,609.3207 522.9409,611.4145 Q522.9409,613.5082 523.6284,614.5864 Q524.3159,615.6489 525.6597,615.6489 Q526.2847,615.6489 526.8784,615.3832 Q527.4722,615.102 528.0972,614.5239 L528.0972,617.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.3915" x="541.6014" y="617.034">AccountController</text><line style="stroke:#A80036;stroke-width:1;" x1="500" x2="674.1214" y1="627.602" y2="627.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.8896" x="505" y="646.5679">submitForm(form)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.1214" x="505" y="665.6358">activate(accountId, code)</text></g><!--class AuthController--><g id="elem_AuthController"><rect codeline="13" fill="#FEFECE" filter="url(#famyowfmel1zj)" height="59.0679" id="AuthController" style="stroke:#A80036;stroke-width:1;" width="293.0629" x="440.5" y="501.102"></rect><ellipse cx="534.0406" cy="517.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M537.0094,522.7426 Q536.4313,523.0395 535.7906,523.1801 Q535.15,523.3364 534.4469,523.3364 Q531.9469,523.3364 530.6188,521.6957 Q529.3063,520.0395 529.3063,516.9145 Q529.3063,513.7895 530.6188,512.1332 Q531.9469,510.477 534.4469,510.477 Q535.15,510.477 535.7906,510.6332 Q536.4469,510.7895 537.0094,511.0864 L537.0094,513.8051 Q536.3844,513.227 535.7906,512.9614 Q535.1969,512.6801 534.5719,512.6801 Q533.2281,512.6801 532.5406,513.7582 Q531.8531,514.8207 531.8531,516.9145 Q531.8531,519.0082 532.5406,520.0864 Q533.2281,521.1489 534.5719,521.1489 Q535.1969,521.1489 535.7906,520.8832 Q536.3844,520.602 537.0094,520.0239 L537.0094,522.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.4816" x="554.5406" y="522.534">AuthController</text><line style="stroke:#A80036;stroke-width:1;" x1="441.5" x2="732.5629" y1="533.102" y2="533.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="281.0629" x="446.5" y="552.0679">authenticate(authRequest) : AuthResponse</text></g><!--class SignUpForm--><g id="elem_SignUpForm"><rect codeline="17" fill="#FEFECE" filter="url(#famyowfmel1zj)" height="154.4075" id="SignUpForm" style="stroke:#A80036;stroke-width:1;" width="114.0117" x="950.5" y="519.602"></rect><ellipse cx="965.5" cy="535.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M968.4688,541.2426 Q967.8906,541.5395 967.25,541.6801 Q966.6094,541.8364 965.9063,541.8364 Q963.4063,541.8364 962.0781,540.1957 Q960.7656,538.5395 960.7656,535.4145 Q960.7656,532.2895 962.0781,530.6332 Q963.4063,528.977 965.9063,528.977 Q966.6094,528.977 967.25,529.1332 Q967.9063,529.2895 968.4688,529.5864 L968.4688,532.3051 Q967.8438,531.727 967.25,531.4614 Q966.6563,531.1801 966.0313,531.1801 Q964.6875,531.1801 964,532.2582 Q963.3125,533.3207 963.3125,535.4145 Q963.3125,537.5082 964,538.5864 Q964.6875,539.6489 966.0313,539.6489 Q966.6563,539.6489 967.25,539.3832 Q967.8438,539.102 968.4688,538.5239 L968.4688,541.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.0117" x="979.5" y="541.034">SignUpForm</text><line style="stroke:#A80036;stroke-width:1;" x1="951.5" x2="1063.5117" y1="551.602" y2="551.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.6237" x="956.5" y="570.5679">displayName</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.0639" x="956.5" y="589.6358">email</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.7418" x="956.5" y="608.7038">password</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.7837" x="956.5" y="627.7717">confirmation</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2937" x="956.5" y="646.8396">countryCode</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.7398" x="956.5" y="665.9075">language</text></g><!--class AccountRepository--><g id="elem_AccountRepository"><rect codeline="28" fill="#FEFECE" filter="url(#famyowfmel1zj)" height="97.2038" id="AccountRepository" style="stroke:#A80036;stroke-width:1;" width="428.2884" x="373" y="751.102"></rect><ellipse cx="525.5994" cy="767.102" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M521.5213,762.8676 L521.5213,760.7114 L528.9119,760.7114 L528.9119,762.8676 L526.4431,762.8676 L526.4431,770.9457 L528.9119,770.9457 L528.9119,773.102 L521.5213,773.102 L521.5213,770.9457 L523.99,770.9457 L523.99,762.8676 L521.5213,762.8676 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="114.5896" x="546.0994" y="772.534">AccountRepository</text><line style="stroke:#A80036;stroke-width:1;" x1="374" x2="800.2884" y1="783.102" y2="783.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.0896" x="379" y="802.0679">save(account)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.9077" x="379" y="821.1358">findById(id)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="416.2884" x="379" y="840.2038">findByEmailOrDisplayName(email, displayName) : Account[0..1]</text></g><!--class MailService--><g id="elem_MailService"><rect codeline="36" fill="#FEFECE" filter="url(#famyowfmel1zj)" height="59.0679" id="MailService" style="stroke:#A80036;stroke-width:1;" width="205.4232" x="484.5" y="926.102"></rect><ellipse cx="545.7218" cy="942.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M548.6905,947.7426 Q548.1124,948.0395 547.4718,948.1801 Q546.8311,948.3364 546.128,948.3364 Q543.628,948.3364 542.2999,946.6957 Q540.9874,945.0395 540.9874,941.9145 Q540.9874,938.7895 542.2999,937.1332 Q543.628,935.477 546.128,935.477 Q546.8311,935.477 547.4718,935.6332 Q548.128,935.7895 548.6905,936.0864 L548.6905,938.8051 Q548.0655,938.227 547.4718,937.9614 Q546.878,937.6801 546.253,937.6801 Q544.9093,937.6801 544.2218,938.7582 Q543.5343,939.8207 543.5343,941.9145 Q543.5343,944.0082 544.2218,945.0864 Q544.9093,946.1489 546.253,946.1489 Q546.878,946.1489 547.4718,945.8832 Q548.0655,945.602 548.6905,945.0239 L548.6905,947.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.4797" x="566.2218" y="947.534">MailService</text><line style="stroke:#A80036;stroke-width:1;" x1="485.5" x2="688.9232" y1="958.102" y2="958.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.4232" x="490.5" y="977.0679">sendActivationEmail(account)</text></g><!--class AccountCreatedPublisher--><g id="elem_AccountCreatedPublisher"><rect codeline="42" fill="#FEFECE" filter="url(#famyowfmel1zj)" height="59.0679" id="AccountCreatedPublisher" style="stroke:#A80036;stroke-width:1;" width="199.1454" x="487.5" y="1064.102"></rect><ellipse cx="502.5" cy="1080.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M505.4688,1085.7426 Q504.8906,1086.0395 504.25,1086.1801 Q503.6094,1086.3364 502.9063,1086.3364 Q500.4063,1086.3364 499.0781,1084.6957 Q497.7656,1083.0395 497.7656,1079.9145 Q497.7656,1076.7895 499.0781,1075.1332 Q500.4063,1073.477 502.9063,1073.477 Q503.6094,1073.477 504.25,1073.6332 Q504.9063,1073.7895 505.4688,1074.0864 L505.4688,1076.8051 Q504.8438,1076.227 504.25,1075.9614 Q503.6563,1075.6801 503.0313,1075.6801 Q501.6875,1075.6801 501,1076.7582 Q500.3125,1077.8207 500.3125,1079.9145 Q500.3125,1082.0082 501,1083.0864 Q501.6875,1084.1489 503.0313,1084.1489 Q503.6563,1084.1489 504.25,1083.8832 Q504.8438,1083.602 505.4688,1083.0239 L505.4688,1085.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.1454" x="516.5" y="1085.534">AccountCreatedPublisher</text><line style="stroke:#A80036;stroke-width:1;" x1="488.5" x2="685.6454" y1="1096.102" y2="1096.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160.9154" x="493.5" y="1115.0679">publish(accountCreated)</text></g><!--class RootNoteCreatedPublisher--><g id="elem_RootNoteCreatedPublisher"><rect codeline="46" fill="#FEFECE" filter="url(#famyowfmel1zj)" height="59.0679" id="RootNoteCreatedPublisher" style="stroke:#A80036;stroke-width:1;" width="208.6933" x="482.5" y="1158.102"></rect><ellipse cx="497.5" cy="1174.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M500.4688,1179.7426 Q499.8906,1180.0395 499.25,1180.1801 Q498.6094,1180.3364 497.9063,1180.3364 Q495.4063,1180.3364 494.0781,1178.6957 Q492.7656,1177.0395 492.7656,1173.9145 Q492.7656,1170.7895 494.0781,1169.1332 Q495.4063,1167.477 497.9063,1167.477 Q498.6094,1167.477 499.25,1167.6332 Q499.9063,1167.7895 500.4688,1168.0864 L500.4688,1170.8051 Q499.8438,1170.227 499.25,1169.9614 Q498.6563,1169.6801 498.0313,1169.6801 Q496.6875,1169.6801 496,1170.7582 Q495.3125,1171.8207 495.3125,1173.9145 Q495.3125,1176.0082 496,1177.0864 Q496.6875,1178.1489 498.0313,1178.1489 Q498.6563,1178.1489 499.25,1177.8832 Q499.8438,1177.602 500.4688,1177.0239 L500.4688,1179.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.6933" x="511.5" y="1179.534">RootNoteCreatedPublisher</text><line style="stroke:#A80036;stroke-width:1;" x1="483.5" x2="690.1933" y1="1190.102" y2="1190.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.8333" x="488.5" y="1209.0679">onRootNoteCreated(event)</text></g><!--class UserDetails--><g id="elem_UserDetails"><rect codeline="52" fill="#FEFECE" filter="url(#famyowfmel1zj)" height="78.1358" id="UserDetails" style="stroke:#A80036;stroke-width:1;" width="127.3316" x="944" y="203.602"></rect><ellipse cx="967.8919" cy="219.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M970.8607,225.2426 Q970.2826,225.5395 969.6419,225.6801 Q969.0013,225.8364 968.2982,225.8364 Q965.7982,225.8364 964.4701,224.1957 Q963.1576,222.5395 963.1576,219.4145 Q963.1576,216.2895 964.4701,214.6332 Q965.7982,212.977 968.2982,212.977 Q969.0013,212.977 969.6419,213.1332 Q970.2982,213.2895 970.8607,213.5864 L970.8607,216.3051 Q970.2357,215.727 969.6419,215.4614 Q969.0482,215.1801 968.4232,215.1801 Q967.0794,215.1801 966.3919,216.2582 Q965.7044,217.3207 965.7044,219.4145 Q965.7044,221.5082 966.3919,222.5864 Q967.0794,223.6489 968.4232,223.6489 Q969.0482,223.6489 969.6419,223.3832 Q970.2357,223.102 970.8607,222.5239 L970.8607,225.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.5717" x="983.8679" y="225.034">UserDetails</text><line style="stroke:#A80036;stroke-width:1;" x1="945" x2="1070.3316" y1="235.602" y2="235.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.4917" x="950" y="254.5679">email : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.3316" x="950" y="273.6358">roles : String[0..*]</text></g><!--class AuthService--><g id="elem_AuthService"><rect codeline="57" fill="#FEFECE" filter="url(#famyowfmel1zj)" height="59.0679" id="AuthService" style="stroke:#A80036;stroke-width:1;" width="293.0629" x="861" y="317.102"></rect><ellipse cx="964.2776" cy="333.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M967.2464,338.7426 Q966.6682,339.0395 966.0276,339.1801 Q965.387,339.3364 964.6839,339.3364 Q962.1839,339.3364 960.8557,337.6957 Q959.5432,336.0395 959.5432,332.9145 Q959.5432,329.7895 960.8557,328.1332 Q962.1839,326.477 964.6839,326.477 Q965.387,326.477 966.0276,326.6332 Q966.6839,326.7895 967.2464,327.0864 L967.2464,329.8051 Q966.6214,329.227 966.0276,328.9614 Q965.4339,328.6801 964.8089,328.6801 Q963.4651,328.6801 962.7776,329.7582 Q962.0901,330.8207 962.0901,332.9145 Q962.0901,335.0082 962.7776,336.0864 Q963.4651,337.1489 964.8089,337.1489 Q965.4339,337.1489 966.0276,336.8832 Q966.6214,336.602 967.2464,336.0239 L967.2464,338.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.0077" x="984.7776" y="338.534">AuthService</text><line style="stroke:#A80036;stroke-width:1;" x1="862" x2="1153.0629" y1="349.102" y2="349.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="281.0629" x="867" y="368.0679">authenticate(authRequest) : AuthResponse</text></g><!--class JwtUtil--><g id="elem_JwtUtil"><rect codeline="61" fill="#FEFECE" filter="url(#famyowfmel1zj)" height="59.0679" id="JwtUtil" style="stroke:#A80036;stroke-width:1;" width="225.9192" x="1219" y="317.102"></rect><ellipse cx="1306.5137" cy="333.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M1309.4824,338.7426 Q1308.9043,339.0395 1308.2637,339.1801 Q1307.623,339.3364 1306.9199,339.3364 Q1304.4199,339.3364 1303.0918,337.6957 Q1301.7793,336.0395 1301.7793,332.9145 Q1301.7793,329.7895 1303.0918,328.1332 Q1304.4199,326.477 1306.9199,326.477 Q1307.623,326.477 1308.2637,326.6332 Q1308.9199,326.7895 1309.4824,327.0864 L1309.4824,329.8051 Q1308.8574,329.227 1308.2637,328.9614 Q1307.6699,328.6801 1307.0449,328.6801 Q1305.7012,328.6801 1305.0137,329.7582 Q1304.3262,330.8207 1304.3262,332.9145 Q1304.3262,335.0082 1305.0137,336.0864 Q1305.7012,337.1489 1307.0449,337.1489 Q1307.6699,337.1489 1308.2637,336.8832 Q1308.8574,336.602 1309.4824,336.0239 L1309.4824,338.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3918" x="1327.0137" y="338.534">JwtUtil</text><line style="stroke:#A80036;stroke-width:1;" x1="1220" x2="1443.9192" y1="349.102" y2="349.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.9192" x="1225" y="368.0679">generateJwt(UserDetails) : String</text></g><!--class SpringSecurity--><g id="elem_SpringSecurity"><rect codeline="65" fill="#FEFECE" filter="url(#famyowfmel1zj)" height="59.0679" id="SpringSecurity" style="stroke:#A80036;stroke-width:1;" width="235.7612" x="1214" y="223.102"></rect><ellipse cx="1279.8838" cy="239.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M1282.8525,244.7426 Q1282.2744,245.0395 1281.6338,245.1801 Q1280.9931,245.3364 1280.29,245.3364 Q1277.79,245.3364 1276.4619,243.6957 Q1275.1494,242.0395 1275.1494,238.9145 Q1275.1494,235.7895 1276.4619,234.1332 Q1277.79,232.477 1280.29,232.477 Q1280.9931,232.477 1281.6338,232.6332 Q1282.29,232.7895 1282.8525,233.0864 L1282.8525,235.8051 Q1282.2275,235.227 1281.6338,234.9614 Q1281.04,234.6801 1280.415,234.6801 Q1279.0713,234.6801 1278.3838,235.7582 Q1277.6963,236.8207 1277.6963,238.9145 Q1277.6963,241.0082 1278.3838,242.0864 Q1279.0713,243.1489 1280.415,243.1489 Q1281.04,243.1489 1281.6338,242.8832 Q1282.2275,242.602 1282.8525,242.0239 L1282.8525,244.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.4936" x="1300.3838" y="244.534">SpringSecurity</text><line style="stroke:#A80036;stroke-width:1;" x1="1215" x2="1448.7612" y1="255.102" y2="255.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223.7612" x="1220" y="274.0679">get(email, password) : UserDetails</text></g><!--class AuthRequest--><g id="elem_AuthRequest"><rect codeline="69" fill="#FEFECE" filter="url(#famyowfmel1zj)" height="78.1358" id="AuthRequest" style="stroke:#A80036;stroke-width:1;" width="126.1696" x="944.5" y="90.602"></rect><ellipse cx="963.7048" cy="106.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M966.6735,112.2426 Q966.0954,112.5395 965.4548,112.6801 Q964.8141,112.8364 964.111,112.8364 Q961.611,112.8364 960.2829,111.1957 Q958.9704,109.5395 958.9704,106.4145 Q958.9704,103.2895 960.2829,101.6332 Q961.611,99.977 964.111,99.977 Q964.8141,99.977 965.4548,100.1332 Q966.111,100.2895 966.6735,100.5864 L966.6735,103.3051 Q966.0485,102.727 965.4548,102.4614 Q964.861,102.1801 964.236,102.1801 Q962.8923,102.1801 962.2048,103.2582 Q961.5173,104.3207 961.5173,106.4145 Q961.5173,108.5082 962.2048,109.5864 Q962.8923,110.6489 964.236,110.6489 Q964.861,110.6489 965.4548,110.3832 Q966.0485,110.102 966.6735,109.5239 L966.6735,112.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.8257" x="978.6392" y="112.034">AuthRequest</text><line style="stroke:#A80036;stroke-width:1;" x1="945.5" x2="1069.6696" y1="122.602" y2="122.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.4917" x="950.5" y="141.5679">email : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.1696" x="950.5" y="160.6358">password : String</text></g><!--class AuthResponse--><g id="elem_AuthResponse"><rect codeline="74" fill="#FEFECE" filter="url(#famyowfmel1zj)" height="59.0679" id="AuthResponse" style="stroke:#A80036;stroke-width:1;" width="145.3075" x="1259.5" y="129.102"></rect><ellipse cx="1282.7619" cy="145.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M1285.7307,150.7426 Q1285.1526,151.0395 1284.5119,151.1801 Q1283.8713,151.3364 1283.1682,151.3364 Q1280.6682,151.3364 1279.3401,149.6957 Q1278.0276,148.0395 1278.0276,144.9145 Q1278.0276,141.7895 1279.3401,140.1332 Q1280.6682,138.477 1283.1682,138.477 Q1283.8713,138.477 1284.5119,138.6332 Q1285.1682,138.7895 1285.7307,139.0864 L1285.7307,141.8051 Q1285.1057,141.227 1284.5119,140.9614 Q1283.9182,140.6801 1283.2932,140.6801 Q1281.9494,140.6801 1281.2619,141.7582 Q1280.5744,142.8207 1280.5744,144.9145 Q1280.5744,147.0082 1281.2619,148.0864 Q1281.9494,149.1489 1283.2932,149.1489 Q1283.9182,149.1489 1284.5119,148.8832 Q1285.1057,148.602 1285.7307,148.0239 L1285.7307,150.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.9476" x="1298.5979" y="150.534">AuthResponse</text><line style="stroke:#A80036;stroke-width:1;" x1="1260.5" x2="1403.8075" y1="161.102" y2="161.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.3075" x="1265.5" y="180.0679">accessToken : String</text></g><!--class Account--><g id="elem_Account"><rect codeline="80" fill="#FEFECE" filter="url(#famyowfmel1zj)" height="173.4754" id="Account" style="stroke:#A80036;stroke-width:1;" width="123.9716" x="525" y="1412.102"></rect><ellipse cx="557.441" cy="1428.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M560.4098,1433.7426 Q559.8316,1434.0395 559.191,1434.1801 Q558.5504,1434.3364 557.8473,1434.3364 Q555.3473,1434.3364 554.0191,1432.6957 Q552.7066,1431.0395 552.7066,1427.9145 Q552.7066,1424.7895 554.0191,1423.1332 Q555.3473,1421.477 557.8473,1421.477 Q558.5504,1421.477 559.191,1421.6332 Q559.8473,1421.7895 560.4098,1422.0864 L560.4098,1424.8051 Q559.7848,1424.227 559.191,1423.9614 Q558.5973,1423.6801 557.9723,1423.6801 Q556.6285,1423.6801 555.941,1424.7582 Q555.2535,1425.8207 555.2535,1427.9145 Q555.2535,1430.0082 555.941,1431.0864 Q556.6285,1432.1489 557.9723,1432.1489 Q558.5973,1432.1489 559.191,1431.8832 Q559.7848,1431.602 560.4098,1431.0239 L560.4098,1433.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2138" x="575.3168" y="1433.534">Account</text><line style="stroke:#A80036;stroke-width:1;" x1="526" x2="647.9716" y1="1444.102" y2="1444.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12.222" x="531" y="1463.0679">id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.6237" x="531" y="1482.1358">displayName</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.0639" x="531" y="1501.2038">email</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.9716" x="531" y="1520.2717">hashedPassword</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.7658" x="531" y="1539.3396">activated</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1917" x="531" y="1558.4075">rootNoteId</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.8176" x="531" y="1577.4754">activationCode</text></g><!--class AccountService--><g id="elem_AccountService"><rect codeline="92" fill="#FEFECE" filter="url(#famyowfmel1zj)" height="97.2038" id="AccountService" style="stroke:#A80036;stroke-width:1;" width="188.8333" x="104" y="1411.102"></rect><ellipse cx="144.6121" cy="1427.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M147.5808,1432.7426 Q147.0027,1433.0395 146.3621,1433.1801 Q145.7214,1433.3364 145.0183,1433.3364 Q142.5183,1433.3364 141.1902,1431.6957 Q139.8777,1430.0395 139.8777,1426.9145 Q139.8777,1423.7895 141.1902,1422.1332 Q142.5183,1420.477 145.0183,1420.477 Q145.7214,1420.477 146.3621,1420.6332 Q147.0183,1420.7895 147.5808,1421.0864 L147.5808,1423.8051 Q146.9558,1423.227 146.3621,1422.9614 Q145.7683,1422.6801 145.1433,1422.6801 Q143.7996,1422.6801 143.1121,1423.7582 Q142.4246,1424.8207 142.4246,1426.9145 Q142.4246,1429.0082 143.1121,1430.0864 Q143.7996,1431.1489 145.1433,1431.1489 Q145.7683,1431.1489 146.3621,1430.8832 Q146.9558,1430.602 147.5808,1430.0239 L147.5808,1432.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.9176" x="164.3036" y="1432.534">AccountService</text><line style="stroke:#A80036;stroke-width:1;" x1="105" x2="291.8333" y1="1443.102" y2="1443.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.9817" x="110" y="1462.0679">signUp(form)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.0794" x="110" y="1481.1358">activateAccount(id, code)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.8333" x="110" y="1500.2038">onRootNoteCreated(event)</text></g><!--link AccountController to AccountService--><g id="link_AccountController_AccountService"><path codeline="99" d="M498.79,645.942 C440.82,658.172 367.73,683.462 325,735.602 C239.48,839.942 209.9323,1260.0606 202.1323,1405.0406 " fill="transparent" id="AccountController-to-AccountService" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="201.81,1411.032,206.2877,1402.2599,202.0786,1406.0392,198.2993,1401.8301,201.81,1411.032" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AccountController to SignUpForm--><g id="link_AccountController_SignUpForm"><path codeline="100" d="M675.22,626.682 C757.99,619.172 873.9246,608.645 944.4646,602.235 " fill="transparent" id="AccountController-to-SignUpForm" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="950.44,601.692,941.1149,598.5229,945.4605,602.1445,941.8389,606.49,950.44,601.692" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AccountService to Account--><g id="link_AccountService_Account"><path codeline="101" d="M293.06,1469.042 C365.11,1476.312 456.6503,1485.5494 518.9603,1491.8394 " fill="transparent" id="AccountService-to-Account" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="524.93,1492.442,516.3773,1487.5583,519.9553,1491.9398,515.5738,1495.5178,524.93,1492.442" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AccountService to AccountRepository--><g id="link_AccountService_AccountRepository"><path codeline="102" d="M204.88,1411.092 C219.02,1291.442 260.63,986.312 325,909.602 C346.89,883.512 370.6558,866.1599 401.5358,850.8299 " fill="transparent" id="AccountService-to-AccountRepository" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="406.91,848.162,397.0701,848.5811,402.4315,850.3853,400.6273,855.7467,406.91,848.162" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AccountService to AccountCreatedPublisher--><g id="link_AccountService_AccountCreatedPublisher"><path codeline="103" d="M204.06,1411.102 C213.47,1340.102 241.72,1208.922 325,1140.602 C369.94,1103.732 428.0373,1092.097 481.4673,1089.467 " fill="transparent" id="AccountService-to-AccountCreatedPublisher" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="487.46,1089.172,478.2742,1085.6193,482.466,1089.4178,478.6675,1093.6096,487.46,1089.172" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AccountService to MailService--><g id="link_AccountService_MailService"><path codeline="104" d="M200.68,1411.022 C205.37,1326.052 227.12,1149.802 325,1047.602 C366.71,1004.052 424.3953,982.4043 478.3353,970.3143 " fill="transparent" id="AccountService-to-MailService" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="484.19,969.002,474.533,967.0672,479.3111,970.0955,476.2827,974.8735,484.19,969.002" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link RootNoteCreatedPublisher to AccountService--><g id="link_RootNoteCreatedPublisher_AccountService"><path codeline="105" d="M544.03,1217.132 C477.87,1263.702 353.5166,1351.2087 273.5066,1407.5187 " fill="transparent" id="RootNoteCreatedPublisher-to-AccountService" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="268.6,1410.972,278.2621,1409.0632,272.6889,1408.0943,273.6578,1402.521,268.6,1410.972" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AuthController to AuthService--><g id="link_AuthController_AuthService"><path codeline="106" d="M655.24,501.042 C733.22,466.752 855.5274,412.9769 933.5874,378.6569 " fill="transparent" id="AuthController-to-AuthService" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="939.08,376.242,929.2312,376.2026,934.5029,378.2544,932.4511,383.526,939.08,376.242" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AuthService to SpringSecurity--><g id="link_AuthService_SpringSecurity"><path codeline="107" d="M1110.1,316.992 C1148.22,305.872 1185.7694,294.9298 1223.8794,283.8298 " fill="transparent" id="AuthService-to-SpringSecurity" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="1229.64,282.152,1219.8805,280.8283,1224.8395,283.5502,1222.1176,288.5092,1229.64,282.152" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AuthService to JwtUtil--><g id="link_AuthService_JwtUtil"><path codeline="108" d="M1154.18,346.602 C1175.88,346.602 1191.96,346.602 1212.83,346.602 " fill="transparent" id="AuthService-to-JwtUtil" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="1218.83,346.602,1209.83,342.602,1213.83,346.602,1209.83,350.602,1218.83,346.602" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--SRC=[dLLDRzim3BtxLmWzEKDhRDST1dJj1cJ0kY9PJaCFYaGxWct9a-WKnj3_FjgMF-EaHNCmuYVgwV69f5sgDBF6GN1G4XZa1LOiXtmFrWKPnCZGCAkI0pAfB0XKHWT1mKNA4s1NN0XJQhnY_uA0iGxcaXT81945XxJ4w2SoxXoxRUFlZ4PhiWoiNsNCbVjSuNTZyp2cnyh3d4uySeJGdxIMrqmO2UtwIp3cBl6mGCm91erAD2pqie6_9UbQiS_DbWsumcWou8HmgnAzAsf9FPbKhiXuzS1py0ZaN6N-Vq6xdesL_bKO7IkRyyQp3g8SR7L76NWaupefoJH_l9TmugJaoBqAfGc9kO3EpGqKnYaqjXhSvCVUiixAM6dvjLhBKCafzArEuPUz7t8Bcwokn-asThM4Vpv6qQUdLmJN19Eh_qd05knHaV1U9cXvszumUTJecAe-pv_oEEMBjMM1Rbe-bljCkSEe48eMwGxmSGk5j3467mp2MIQZPo4X7E6iP0UYj0ghYTYT0tiFI0cxdhOndMpUebKwyI1LCxWUhAt_yBHS-tDptr_uFvvnX_trCPQ01aiiX8SZuQkfrcdl53M-dQPUCs5NMrspr2mZqjv3ncRvUVcNxUfOBqWRvpwO9GGuzzkaeETRPzSfZ8LeNpgbQKDK6umAt58bzkHAlcby73XLcNoS3f5k0Cg-7jhAMyy2g7_wgVAAPjSMogBcamvjPk3YIFOxQ9oCH_9Rk-FqIt1pysMcucpOC9c7a4xvYERYuZ0rBuRDXy1oy6YuKS3P0RASulIxrSGCxUm3neTDUsiXmFTly1By1m00]--></g></svg></p><h2 id="62-groupe-unit">6.2. Groupe "unit" </h2>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="1622px" preserveAspectRatio="none" style="width:1057px;height:1622px;background:#FFFFFF;" version="1.1" viewBox="0 0 1057 1622" width="1057px" zoomAndPan="magnify"><defs><filter height="300%" id="fq445v1af7ysa" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--cluster unit--><g id="cluster_unit"><polygon fill="transparent" filter="url(#fq445v1af7ysa)" points="16,6.602,47.9699,6.602,54.9699,31.6699,1040,31.6699,1040,1613.602,16,1613.602,16,6.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="54.9699" y1="31.6699" y2="31.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.9699" x="20" y="23.5679">unit</text></g><!--cluster core--><g id="cluster_core"><polygon fill="transparent" filter="url(#fq445v1af7ysa)" points="40,850.602,74.8679,850.602,81.8679,875.6699,1016,875.6699,1016,1589.602,40,1589.602,40,850.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="40" x2="81.8679" y1="875.6699" y2="875.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.8679" x="44" y="867.5679">core</text></g><!--cluster business--><g id="cluster_business"><polygon fill="transparent" filter="url(#fq445v1af7ysa)" points="64,896.602,127.5398,896.602,134.5398,921.6699,992,921.6699,992,1565.602,64,1565.602,64,896.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="64" x2="134.5398" y1="921.6699" y2="921.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.5398" x="68" y="913.5679">business</text></g><!--cluster services--><g id="cluster_services"><polygon fill="transparent" filter="url(#fq445v1af7ysa)" points="88,942.602,146.4298,942.602,153.4298,967.6699,400,967.6699,400,1214.602,88,1214.602,88,942.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="88" x2="153.4298" y1="967.6699" y2="967.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.4298" x="92" y="959.5679">services</text></g><!--cluster entities--><g id="cluster_entities"><polygon fill="transparent" filter="url(#fq445v1af7ysa)" points="162.5,1238.602,216.9818,1238.602,223.9818,1263.6699,968,1263.6699,968,1541.602,162.5,1541.602,162.5,1238.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="162.5" x2="223.9818" y1="1263.6699" y2="1263.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.4818" x="166.5" y="1255.5679">entities</text></g><!--cluster adapters--><g id="cluster_adapters"><polygon fill="transparent" filter="url(#fq445v1af7ysa)" points="424,52.602,488.3658,52.602,495.3658,77.6699,796,77.6699,796,826.602,424,826.602,424,52.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="424" x2="495.3658" y1="77.6699" y2="77.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.3658" x="428" y="69.5679">adapters</text></g><!--cluster rest--><g id="cluster_rest"><polygon fill="transparent" filter="url(#fq445v1af7ysa)" points="448,98.602,479.4379,98.602,486.4379,123.6699,772,123.6699,772,248.602,448,248.602,448,98.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="448" x2="486.4379" y1="123.6699" y2="123.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.4379" x="452" y="115.5679">rest</text></g><!--cluster data--><g id="cluster_data"><polygon fill="transparent" filter="url(#fq445v1af7ysa)" points="472,272.602,507.3719,272.602,514.3719,297.6699,748,297.6699,748,652.602,472,652.602,472,272.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="472" x2="514.3719" y1="297.6699" y2="297.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.3719" x="476" y="289.5679">data</text></g><!--cluster kafka--><g id="cluster_kafka"><polygon fill="transparent" filter="url(#fq445v1af7ysa)" points="470.5,676.602,511.9759,676.602,518.9759,701.6699,749.5,701.6699,749.5,802.602,470.5,802.602,470.5,676.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="470.5" x2="518.9759" y1="701.6699" y2="701.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.4759" x="474.5" y="693.5679">kafka</text></g><!--class UnitService--><g id="elem_UnitService"><rect codeline="6" fill="#FEFECE" filter="url(#fq445v1af7ysa)" height="110.6158" id="UnitService" style="stroke:#A80036;stroke-width:1;" width="280.211" x="104" y="980.102"></rect><ellipse cx="202.7276" cy="1002.808" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M205.6964,1008.4486 Q205.1183,1008.7455 204.4776,1008.8861 Q203.837,1009.0424 203.1339,1009.0424 Q200.6339,1009.0424 199.3058,1007.4017 Q197.9933,1005.7455 197.9933,1002.6205 Q197.9933,999.4955 199.3058,997.8392 Q200.6339,996.183 203.1339,996.183 Q203.837,996.183 204.4776,996.3392 Q205.1339,996.4955 205.6964,996.7924 L205.6964,999.5111 Q205.0714,998.933 204.4776,998.6674 Q203.8839,998.3861 203.2589,998.3861 Q201.9151,998.3861 201.2276,999.4642 Q200.5401,1000.5267 200.5401,1002.6205 Q200.5401,1004.7142 201.2276,1005.7924 Q201.9151,1006.8549 203.2589,1006.8549 Q203.8839,1006.8549 204.4776,1006.5892 Q205.0714,1006.308 205.6964,1005.7299 L205.6964,1008.4486 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.2003" x="235.7553" y="997.9301">«control»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.2557" x="223.2276" y="1016.412">UnitService</text><line style="stroke:#A80036;stroke-width:1;" x1="105" x2="383.211" y1="1025.514" y2="1025.514"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="235.3671" x="110" y="1044.4799">search(words) : UnitAndAuthor[0..*]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232.5531" x="110" y="1063.5479">linkAccountToUnit(principal, unitId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="268.211" x="110" y="1082.6158">unlinkAccountFromUnit(principal, unitId)</text></g><!--class AuthorService--><g id="elem_AuthorService"><rect codeline="12" fill="#FEFECE" filter="url(#fq445v1af7ysa)" height="72.4799" id="AuthorService" style="stroke:#A80036;stroke-width:1;" width="246.7371" x="120.5" y="1126.602"></rect><ellipse cx="193.4887" cy="1149.308" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M196.4575,1154.9486 Q195.8793,1155.2455 195.2387,1155.3861 Q194.5981,1155.5424 193.895,1155.5424 Q191.395,1155.5424 190.0668,1153.9017 Q188.7543,1152.2455 188.7543,1149.1205 Q188.7543,1145.9955 190.0668,1144.3392 Q191.395,1142.683 193.895,1142.683 Q194.5981,1142.683 195.2387,1142.8392 Q195.895,1142.9955 196.4575,1143.2924 L196.4575,1146.0111 Q195.8325,1145.433 195.2387,1145.1674 Q194.645,1144.8861 194.02,1144.8861 Q192.6762,1144.8861 191.9887,1145.9642 Q191.3012,1147.0267 191.3012,1149.1205 Q191.3012,1151.2142 191.9887,1152.2924 Q192.6762,1153.3549 194.02,1153.3549 Q194.645,1153.3549 195.2387,1153.0892 Q195.8325,1152.808 196.4575,1152.2299 L196.4575,1154.9486 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.2003" x="235.5184" y="1144.4301">«control»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.2596" x="213.9887" y="1162.912">AuthorService</text><line style="stroke:#A80036;stroke-width:1;" x1="121.5" x2="366.2371" y1="1172.014" y2="1172.014"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234.7371" x="126.5" y="1190.9799">onAccountCreated(accountCreated)</text></g><!--class Unit--><g id="elem_Unit"><rect codeline="18" fill="#FEFECE" filter="url(#fq445v1af7ysa)" height="135.3396" id="Unit" style="stroke:#A80036;stroke-width:1;" width="183.3454" x="518.5" y="1390.102"></rect><ellipse cx="592.1467" cy="1406.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M595.1155,1411.7426 Q594.5374,1412.0395 593.8967,1412.1801 Q593.2561,1412.3364 592.553,1412.3364 Q590.053,1412.3364 588.7249,1410.6957 Q587.4124,1409.0395 587.4124,1405.9145 Q587.4124,1402.7895 588.7249,1401.1332 Q590.053,1399.477 592.553,1399.477 Q593.2561,1399.477 593.8967,1399.6332 Q594.553,1399.7895 595.1155,1400.0864 L595.1155,1402.8051 Q594.4905,1402.227 593.8967,1401.9614 Q593.303,1401.6801 592.678,1401.6801 Q591.3342,1401.6801 590.6467,1402.7582 Q589.9592,1403.8207 589.9592,1405.9145 Q589.9592,1408.0082 590.6467,1409.0864 Q591.3342,1410.1489 592.678,1410.1489 Q593.303,1410.1489 593.8967,1409.8832 Q594.4905,1409.602 595.1155,1409.0239 L595.1155,1411.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27.5519" x="612.6467" y="1411.534">Unit</text><line style="stroke:#A80036;stroke-width:1;" x1="519.5" x2="700.8454" y1="1422.102" y2="1422.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.6498" x="524.5" y="1441.0679">id : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.6255" x="524.5" y="1460.1358">domain : DomainV3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.3454" x="524.5" y="1479.2038">modificationDate : Instant</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.6517" x="524.5" y="1498.2717">tags : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.8916" x="524.5" y="1517.3396">author : String</text></g><!--class Track--><g id="elem_Track"><rect codeline="26" fill="#FEFECE" filter="url(#fq445v1af7ysa)" height="116.2717" id="Track" style="stroke:#A80036;stroke-width:1;" width="136.1515" x="816" y="1399.602"></rect><ellipse cx="862.0178" cy="1415.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M864.9866,1421.2426 Q864.4085,1421.5395 863.7678,1421.6801 Q863.1272,1421.8364 862.4241,1421.8364 Q859.9241,1421.8364 858.596,1420.1957 Q857.2835,1418.5395 857.2835,1415.4145 Q857.2835,1412.2895 858.596,1410.6332 Q859.9241,1408.977 862.4241,1408.977 Q863.1272,1408.977 863.7678,1409.1332 Q864.4241,1409.2895 864.9866,1409.5864 L864.9866,1412.3051 Q864.3616,1411.727 863.7678,1411.4614 Q863.1741,1411.1801 862.5491,1411.1801 Q861.2053,1411.1801 860.5178,1412.2582 Q859.8303,1413.3207 859.8303,1415.4145 Q859.8303,1417.5082 860.5178,1418.5864 Q861.2053,1419.6489 862.5491,1419.6489 Q863.1741,1419.6489 863.7678,1419.3832 Q864.3616,1419.102 864.9866,1418.5239 L864.9866,1421.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.6159" x="882.5178" y="1421.034">Track</text><line style="stroke:#A80036;stroke-width:1;" x1="817" x2="951.1515" y1="1431.602" y2="1431.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.1557" x="822" y="1450.5679">lang : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.6557" x="822" y="1469.6358">title : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.1515" x="822" y="1488.7038">description : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.8377" x="822" y="1507.7717">text : String</text></g><!--class Author--><g id="elem_Author"><rect codeline="33" fill="#FEFECE" filter="url(#fq445v1af7ysa)" height="78.1358" id="Author" style="stroke:#A80036;stroke-width:1;" width="148.0515" x="536" y="1276.602"></rect><ellipse cx="582.9978" cy="1292.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M585.9666,1298.2426 Q585.3885,1298.5395 584.7478,1298.6801 Q584.1072,1298.8364 583.4041,1298.8364 Q580.9041,1298.8364 579.576,1297.1957 Q578.2635,1295.5395 578.2635,1292.4145 Q578.2635,1289.2895 579.576,1287.6332 Q580.9041,1285.977 583.4041,1285.977 Q584.1072,1285.977 584.7478,1286.1332 Q585.4041,1286.2895 585.9666,1286.5864 L585.9666,1289.3051 Q585.3416,1288.727 584.7478,1288.4614 Q584.1541,1288.1801 583.5291,1288.1801 Q582.1853,1288.1801 581.4978,1289.2582 Q580.8103,1290.3207 580.8103,1292.4145 Q580.8103,1294.5082 581.4978,1295.5864 Q582.1853,1296.6489 583.5291,1296.6489 Q584.1541,1296.6489 584.7478,1296.3832 Q585.3416,1296.102 585.9666,1295.5239 L585.9666,1298.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.5558" x="603.4978" y="1298.034">Author</text><line style="stroke:#A80036;stroke-width:1;" x1="537" x2="683.0515" y1="1308.602" y2="1308.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.6498" x="542" y="1327.5679">id : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.0515" x="542" y="1346.6358">displayName : String</text></g><!--class UnitAndAuthor--><g id="elem_UnitAndAuthor"><rect codeline="38" fill="#FEFECE" filter="url(#fq445v1af7ysa)" height="32" id="UnitAndAuthor" style="stroke:#A80036;stroke-width:1;" width="131.3156" x="178.5" y="1370.602"></rect><ellipse cx="193.5" cy="1386.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M196.4688,1392.2426 Q195.8906,1392.5395 195.25,1392.6801 Q194.6094,1392.8364 193.9063,1392.8364 Q191.4063,1392.8364 190.0781,1391.1957 Q188.7656,1389.5395 188.7656,1386.4145 Q188.7656,1383.2895 190.0781,1381.6332 Q191.4063,1379.977 193.9063,1379.977 Q194.6094,1379.977 195.25,1380.1332 Q195.9063,1380.2895 196.4688,1380.5864 L196.4688,1383.3051 Q195.8438,1382.727 195.25,1382.4614 Q194.6563,1382.1801 194.0313,1382.1801 Q192.6875,1382.1801 192,1383.2582 Q191.3125,1384.3207 191.3125,1386.4145 Q191.3125,1388.5082 192,1389.5864 Q192.6875,1390.6489 194.0313,1390.6489 Q194.6563,1390.6489 195.25,1390.3832 Q195.8438,1390.102 196.4688,1389.5239 L196.4688,1392.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.3156" x="207.5" y="1392.034">UnitAndAuthor</text></g><!--class UnitController--><g id="elem_UnitController"><rect codeline="43" fill="#FEFECE" filter="url(#fq445v1af7ysa)" height="97.2038" id="UnitController" style="stroke:#A80036;stroke-width:1;" width="292.3069" x="464" y="136.102"></rect><ellipse cx="559.0386" cy="152.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M562.0074,157.7426 Q561.4293,158.0395 560.7886,158.1801 Q560.148,158.3364 559.4449,158.3364 Q556.9449,158.3364 555.6168,156.6957 Q554.3043,155.0395 554.3043,151.9145 Q554.3043,148.7895 555.6168,147.1332 Q556.9449,145.477 559.4449,145.477 Q560.148,145.477 560.7886,145.6332 Q561.4449,145.7895 562.0074,146.0864 L562.0074,148.8051 Q561.3824,148.227 560.7886,147.9614 Q560.1949,147.6801 559.5699,147.6801 Q558.2261,147.6801 557.5386,148.7582 Q556.8511,149.8207 556.8511,151.9145 Q556.8511,154.0082 557.5386,155.0864 Q558.2261,156.1489 559.5699,156.1489 Q560.1949,156.1489 560.7886,155.8832 Q561.3824,155.602 562.0074,155.0239 L562.0074,157.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.7296" x="579.5386" y="157.534">UnitController</text><line style="stroke:#A80036;stroke-width:1;" x1="465" x2="755.3069" y1="168.102" y2="168.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280.3069" x="470" y="187.0679">search(words, token) : UnitAndAuthor[0..*]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232.5531" x="470" y="206.1358">linkAccountToUnit(principal, unitId)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="268.211" x="470" y="225.2038">unlinkAccountFromUnit(principal, unitId)</text></g><!--class UnitRepository--><g id="elem_UnitRepository"><rect codeline="51" fill="#FEFECE" filter="url(#fq445v1af7ysa)" height="72.4799" id="UnitRepository" style="stroke:#A80036;stroke-width:1;" width="244.2451" x="488" y="437.602"></rect><ellipse cx="560.3027" cy="460.308" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M556.2246,456.0736 L556.2246,453.9174 L563.6152,453.9174 L563.6152,456.0736 L561.1465,456.0736 L561.1465,464.1517 L563.6152,464.1517 L563.6152,466.308 L556.2246,466.308 L556.2246,464.1517 L558.6933,464.1517 L558.6933,456.0736 L556.2246,456.0736 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65.3164" x="593.7143" y="455.4301">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91.1397" x="580.8027" y="473.912">UnitRepository</text><line style="stroke:#A80036;stroke-width:1;" x1="489" x2="731.2451" y1="483.014" y2="483.014"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232.2451" x="494" y="501.9799">searchByTsQuery(query) : Unit[0..*]</text></g><!--class AuthorRepository--><g id="elem_AuthorRepository"><rect codeline="55" fill="#FEFECE" filter="url(#fq445v1af7ysa)" height="91.5479" id="AuthorRepository" style="stroke:#A80036;stroke-width:1;" width="193.1033" x="513.5" y="544.602"></rect><ellipse cx="552.6316" cy="567.308" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M548.5534,563.0736 L548.5534,560.9174 L555.9441,560.9174 L555.9441,563.0736 L553.4753,563.0736 L553.4753,571.1517 L555.9441,571.1517 L555.9441,573.308 L548.5534,573.308 L548.5534,571.1517 L551.0222,571.1517 L551.0222,563.0736 L548.5534,563.0736 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65.3164" x="593.0747" y="562.4301">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="107.4776" x="571.9941" y="580.912">AuthorRepository</text><line style="stroke:#A80036;stroke-width:1;" x1="514.5" x2="705.6033" y1="590.014" y2="590.014"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181.1033" x="519.5" y="608.9799">findAllById(id) : Author[0..*]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.4317" x="519.5" y="628.0479">save(author)</text></g><!--class AuthorUnitRepository--><g id="elem_AuthorUnitRepository"><rect codeline="60" fill="#FEFECE" filter="url(#fq445v1af7ysa)" height="91.5479" id="AuthorUnitRepository" style="stroke:#A80036;stroke-width:1;" width="165.3215" x="527.5" y="310.602"></rect><ellipse cx="542.5" cy="333.308" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M538.4219,329.0736 L538.4219,326.9174 L545.8125,326.9174 L545.8125,329.0736 L543.3438,329.0736 L543.3438,337.1517 L545.8125,337.1517 L545.8125,339.308 L538.4219,339.308 L538.4219,337.1517 L540.8906,337.1517 L540.8906,329.0736 L538.4219,329.0736 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65.3164" x="590.5025" y="328.4301">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="133.3215" x="556.5" y="346.912">AuthorUnitRepository</text><line style="stroke:#A80036;stroke-width:1;" x1="528.5" x2="691.8215" y1="356.014" y2="356.014"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.1816" x="533.5" y="374.9799">deleteById(id)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.9836" x="533.5" y="394.0479">save(authorUnit)</text></g><!--class AccountCreatedSubscriber--><g id="elem_AccountCreatedSubscriber"><rect codeline="67" fill="#FEFECE" filter="url(#fq445v1af7ysa)" height="72.4799" id="AccountCreatedSubscriber" style="stroke:#A80036;stroke-width:1;" width="246.7371" x="486.5" y="714.602"></rect><ellipse cx="519.2875" cy="737.308" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M522.2562,742.9486 Q521.6781,743.2455 521.0375,743.3861 Q520.3969,743.5424 519.6937,743.5424 Q517.1937,743.5424 515.8656,741.9017 Q514.5531,740.2455 514.5531,737.1205 Q514.5531,733.9955 515.8656,732.3392 Q517.1937,730.683 519.6937,730.683 Q520.3969,730.683 521.0375,730.8392 Q521.6937,730.9955 522.2562,731.2924 L522.2562,734.0111 Q521.6312,733.433 521.0375,733.1674 Q520.4437,732.8861 519.8187,732.8861 Q518.475,732.8861 517.7875,733.9642 Q517.1,735.0267 517.1,737.1205 Q517.1,739.2142 517.7875,740.2924 Q518.475,741.3549 519.8187,741.3549 Q520.4437,741.3549 521.0375,741.0892 Q521.6312,740.808 522.2562,740.2299 L522.2562,742.9486 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="66.7325" x="591.4787" y="732.4301">«subscriber»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.2093" x="537.2403" y="750.912">AccountCreatedSubscriber</text><line style="stroke:#A80036;stroke-width:1;" x1="487.5" x2="732.2371" y1="760.014" y2="760.014"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234.7371" x="492.5" y="778.9799">onAccountCreated(accountCreated)</text></g><!--link UnitController to UnitService--><g id="link_UnitController_UnitService"><path codeline="72" d="M488.39,233.102 C461.14,249.082 434.77,269.382 416,294.602 C333.83,405.022 272.862,821.1632 252.772,973.9932 " fill="transparent" id="UnitController-to-UnitService" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="251.99,979.942,257.1289,971.5401,252.6417,974.9846,249.1971,970.4974,251.99,979.942" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link UnitService to UnitRepository--><g id="link_UnitService_UnitRepository"><path codeline="73" d="M247.27,979.942 C254.62,875.572 285.6,649.882 416,526.602 C435.82,507.862 455.8872,497.3699 482.1572,489.4199 " fill="transparent" id="UnitService-to-UnitRepository" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="487.9,487.682,478.1272,486.4603,483.1143,489.1302,480.4444,494.1174,487.9,487.682" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link UnitService to AuthorRepository--><g id="link_UnitService_AuthorRepository"><path codeline="74" d="M261.85,979.992 C286.06,907.762 336.71,781.182 416,698.602 C443.26,670.212 474.2909,649.9794 508.1109,632.6394 " fill="transparent" id="UnitService-to-AuthorRepository" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="513.45,629.902,503.6163,630.4487,509.0007,632.1832,507.2663,637.5676,513.45,629.902" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link UnitService to AuthorUnitRepository--><g id="link_UnitService_AuthorUnitRepository"><path codeline="75" d="M253.62,979.802 C275.63,844.012 337.76,501.422 416,419.602 C444.99,389.292 482.8606,374.7872 521.3706,366.6172 " fill="transparent" id="UnitService-to-AuthorUnitRepository" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="527.24,365.372,517.6058,363.3269,522.3489,366.4097,519.2661,371.1527,527.24,365.372" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AccountCreatedSubscriber to AuthorService--><g id="link_AccountCreatedSubscriber_AuthorService"><path codeline="76" d="M598.47,786.832 C575.73,858.742 515.24,1020.172 408,1108.602 C396.04,1118.462 387.6642,1124.0515 373.2242,1130.6715 " fill="transparent" id="AccountCreatedSubscriber-to-AuthorService" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="367.77,1133.172,377.6182,1133.0574,372.3151,1131.0883,374.2843,1125.7852,367.77,1133.172" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AuthorService to AuthorRepository--><g id="link_AuthorService_AuthorRepository"><path codeline="77" d="M367.88,1140.842 C383.52,1133.082 397.65,1122.642 408,1108.602 C421.52,1090.262 404.29,718.142 416,698.602 C437.72,662.382 470.9436,639.8156 508.0036,623.0456 " fill="transparent" id="AuthorService-to-AuthorRepository" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="513.47,620.572,503.6214,620.6381,508.9147,622.6333,506.9195,627.9266,513.47,620.572" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link UnitAndAuthor to Unit--><g id="link_UnitAndAuthor_Unit"><path codeline="78" d="M321.4379,1401.5099 C379.4579,1412.8299 453.43,1427.262 518.3,1439.912 " fill="transparent" id="UnitAndAuthor-backto-Unit" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="309.66,1399.212,314.783,1404.2869,321.4379,1401.5099,316.3149,1396.435,309.66,1399.212" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="503.1226" y="1453.035">1</text></g><!--reverse link UnitAndAuthor to Author--><g id="link_UnitAndAuthor_Author"><path codeline="79" d="M321.4381,1371.695 C384.8681,1359.325 469.68,1342.782 535.88,1329.862 " fill="transparent" id="UnitAndAuthor-backto-Author" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="309.66,1373.992,316.3147,1376.7695,321.4381,1371.695,314.7834,1368.9175,309.66,1373.992" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.436" x="520.4113" y="1346.2796">1</text></g><!--reverse link Unit to Track--><g id="link_Unit_Track"><path codeline="80" d="M713.57,1457.602 C750.82,1457.602 781.2,1457.602 815.62,1457.602 " fill="transparent" id="Unit-backto-Track" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="701.57,1457.602,707.57,1461.602,713.57,1457.602,707.57,1453.602,701.57,1457.602" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--SRC=[lLHDRzim3BtxLmWvEKLZTDYjA0AaBGhaCc1Bjikm0oCn2M5PyYIwcp7qlq-Mys4xzRfTTZ7C3ptoKK_qEHdXhCTaJme55YNNei1YWyud6hSis0f7kpqBHGubapL9KeBCOOTYKXdYJ5g7sQRoPD3xpADx9eb-8dubGaWDtelF8MtL-iNTdRI6dTNpUSmGmYCukKz_MAVyLDp6x8LHYuhtrdszoRAhRp5FayaNKjhAyDesIMdfo4WgGL-BffEbciR4odHIdvmjnfDVabEJRRtnDgqv83uu14QLGiziqLx-F1mqJ4oNmpcK81NehpWqkeksiWM4-xaLZ_7do_leBQoYBKbexk8nb0xnfV4CXcEOOUVxC12PTNqTsciN-ZtKrs1s_QEXNOs3fj1BHsLJVP2BFtcaI3lRCPRaImtr1oXmv7XF4H7bbKc3WfA3R3E7deS3VcWlKwDxHNJNGUGvcl-llN4E2XXQ3cI2Omj1aWtI9ooj9xQk3Wfr9sFmbkxhjVzOeQlJxyttIEp49uxs3DooVGjwIs4kMj_NIvMIQZ0lfkJX6TDMRTEnCd_3Gg56ncEb8NI3yDRySjZcq1L1_-skgaqZuh3bGWF-PFppMnz8QpQRTtTTqjrxnzYP-qLuU0yZ2GEKKMRd4yT- -YjkjEJvgTdPJ4pUJMBZ8w7MZ45n5NnndoI_0G00]--></g></svg></p><h2 id="63-groupe-note">6.3. Groupe "note" </h2>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="1241px" preserveAspectRatio="none" style="width:691px;height:1241px;background:#FFFFFF;" version="1.1" viewBox="0 0 691 1241" width="691px" zoomAndPan="magnify"><defs><filter height="300%" id="ft5ll4m3o12d0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--cluster note--><g id="cluster_note"><polygon fill="transparent" filter="url(#ft5ll4m3o12d0)" points="16,6.602,52.0719,6.602,59.0719,31.6699,674.5,31.6699,674.5,1232.602,16,1232.602,16,6.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="59.0719" y1="31.6699" y2="31.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.0719" x="20" y="23.5679">note</text></g><!--cluster core--><g id="cluster_core"><polygon fill="transparent" filter="url(#ft5ll4m3o12d0)" points="40,666.602,74.8679,666.602,81.8679,691.6699,617.5,691.6699,617.5,1208.602,40,1208.602,40,666.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="40" x2="81.8679" y1="691.6699" y2="691.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28.8679" x="44" y="683.5679">core</text></g><!--cluster business--><g id="cluster_business"><polygon fill="transparent" filter="url(#ft5ll4m3o12d0)" points="64,712.602,127.5398,712.602,134.5398,737.6699,593.5,737.6699,593.5,1184.602,64,1184.602,64,712.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="64" x2="134.5398" y1="737.6699" y2="737.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.5398" x="68" y="729.5679">business</text></g><!--cluster entities--><g id="cluster_entities"><polygon fill="transparent" filter="url(#ft5ll4m3o12d0)" points="88,932.602,142.4818,932.602,149.4818,957.6699,569.5,957.6699,569.5,1160.602,88,1160.602,88,932.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="88" x2="149.4818" y1="957.6699" y2="957.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.4818" x="92" y="949.5679">entities</text></g><!--cluster services--><g id="cluster_services"><polygon fill="transparent" filter="url(#ft5ll4m3o12d0)" points="88.5,758.602,146.9298,758.602,153.9298,783.6699,299.5,783.6699,299.5,908.602,88.5,908.602,88.5,758.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="88.5" x2="153.9298" y1="783.6699" y2="783.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.4298" x="92.5" y="775.5679">services</text></g><!--cluster adapters--><g id="cluster_adapters"><polygon fill="transparent" filter="url(#ft5ll4m3o12d0)" points="323.5,52.602,387.8658,52.602,394.8658,77.6699,650.5,77.6699,650.5,642.602,323.5,642.602,323.5,52.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="323.5" x2="394.8658" y1="77.6699" y2="77.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.3658" x="327.5" y="69.5679">adapters</text></g><!--cluster rest--><g id="cluster_rest"><polygon fill="transparent" filter="url(#ft5ll4m3o12d0)" points="406,98.602,437.4379,98.602,444.4379,123.6699,568,123.6699,568,230.602,406,230.602,406,98.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="406" x2="444.4379" y1="123.6699" y2="123.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25.4379" x="410" y="115.5679">rest</text></g><!--cluster data--><g id="cluster_data"><polygon fill="transparent" filter="url(#ft5ll4m3o12d0)" points="403.5,254.602,438.8719,254.602,445.8719,279.6699,570.5,279.6699,570.5,386.602,403.5,386.602,403.5,254.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="403.5" x2="445.8719" y1="279.6699" y2="279.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.3719" x="407.5" y="271.5679">data</text></g><!--cluster kafka--><g id="cluster_kafka"><polygon fill="transparent" filter="url(#ft5ll4m3o12d0)" points="347.5,410.602,388.9759,410.602,395.9759,435.6699,626.5,435.6699,626.5,618.602,347.5,618.602,347.5,410.602" style="stroke:#000000;stroke-width:1.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="347.5" x2="395.9759" y1="435.6699" y2="435.6699"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.4759" x="351.5" y="427.5679">kafka</text></g><!--class Note--><g id="elem_Note"><rect codeline="6" fill="#FEFECE" filter="url(#ft5ll4m3o12d0)" height="173.4754" id="Note" style="stroke:#A80036;stroke-width:1;" width="179.7054" x="104" y="971.102"></rect><ellipse cx="173.5727" cy="987.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M176.5415,992.7426 Q175.9634,993.0395 175.3227,993.1801 Q174.6821,993.3364 173.979,993.3364 Q171.479,993.3364 170.1509,991.6957 Q168.8384,990.0395 168.8384,986.9145 Q168.8384,983.7895 170.1509,982.1332 Q171.479,980.477 173.979,980.477 Q174.6821,980.477 175.3227,980.6332 Q175.979,980.7895 176.5415,981.0864 L176.5415,983.8051 Q175.9165,983.227 175.3227,982.9614 Q174.729,982.6801 174.104,982.6801 Q172.7602,982.6801 172.0727,983.7582 Q171.3852,984.8207 171.3852,986.9145 Q171.3852,989.0082 172.0727,990.0864 Q172.7602,991.1489 174.104,991.1489 Q174.729,991.1489 175.3227,990.8832 Q175.9165,990.602 176.5415,990.0239 L176.5415,992.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.0599" x="194.0727" y="992.534">Note</text><line style="stroke:#A80036;stroke-width:1;" x1="105" x2="282.7054" y1="1003.102" y2="1003.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.0098" x="110" y="1022.0679">id: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.9855" x="110" y="1041.1358">domain: DomainV3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.7054" x="110" y="1060.2038">modificationDate: Instant</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.5914" x="110" y="1079.2717">publicationDate: Instant</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.8074" x="110" y="1098.3396">privateComment: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.0117" x="110" y="1117.4075">tags: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.2517" x="110" y="1136.4754">author: String</text></g><!--class Transposition--><g id="elem_Transposition"><rect codeline="16" fill="#FEFECE" filter="url(#ft5ll4m3o12d0)" height="154.4075" id="Transposition" style="stroke:#A80036;stroke-width:1;" width="132.6796" x="420.5" y="980.602"></rect><ellipse cx="440.3221" cy="996.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M443.2909,1002.2426 Q442.7128,1002.5395 442.0721,1002.6801 Q441.4315,1002.8364 440.7284,1002.8364 Q438.2284,1002.8364 436.9003,1001.1957 Q435.5878,999.5395 435.5878,996.4145 Q435.5878,993.2895 436.9003,991.6332 Q438.2284,989.977 440.7284,989.977 Q441.4315,989.977 442.0721,990.1332 Q442.7284,990.2895 443.2909,990.5864 L443.2909,993.3051 Q442.6659,992.727 442.0721,992.4614 Q441.4784,992.1801 440.8534,992.1801 Q439.5096,992.1801 438.8221,993.2582 Q438.1346,994.3207 438.1346,996.4145 Q438.1346,998.5082 438.8221,999.5864 Q439.5096,1000.6489 440.8534,1000.6489 Q441.4784,1000.6489 442.0721,1000.3832 Q442.6659,1000.102 443.2909,999.5239 L443.2909,1002.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.9637" x="455.3937" y="1002.034">Transposition</text><line style="stroke:#A80036;stroke-width:1;" x1="421.5" x2="552.1796" y1="1012.602" y2="1012.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.5157" x="426.5" y="1031.5679">lang: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.0157" x="426.5" y="1050.6358">title: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.5116" x="426.5" y="1069.7038">description: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.5977" x="426.5" y="1088.7717">voice: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.1977" x="426.5" y="1107.8396">text: String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.6796" x="426.5" y="1126.9075">exported: boolean</text></g><!--class NoteService--><g id="elem_NoteService"><rect codeline="36" fill="#FEFECE" filter="url(#ft5ll4m3o12d0)" height="97.2038" id="NoteService" style="stroke:#A80036;stroke-width:1;" width="179.2853" x="104.5" y="796.102"></rect><ellipse cx="150.5108" cy="812.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M153.4796,817.7426 Q152.9015,818.0395 152.2608,818.1801 Q151.6202,818.3364 150.9171,818.3364 Q148.4171,818.3364 147.089,816.6957 Q145.7765,815.0395 145.7765,811.9145 Q145.7765,808.7895 147.089,807.1332 Q148.4171,805.477 150.9171,805.477 Q151.6202,805.477 152.2608,805.6332 Q152.9171,805.7895 153.4796,806.0864 L153.4796,808.8051 Q152.8546,808.227 152.2608,807.9614 Q151.6671,807.6801 151.0421,807.6801 Q149.6983,807.6801 149.0108,808.7582 Q148.3233,809.8207 148.3233,811.9145 Q148.3233,814.0082 149.0108,815.0864 Q149.6983,816.1489 151.0421,816.1489 Q151.6671,816.1489 152.2608,815.8832 Q152.8546,815.602 153.4796,815.0239 L153.4796,817.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.7637" x="171.0108" y="817.534">NoteService</text><line style="stroke:#A80036;stroke-width:1;" x1="105.5" x2="282.7853" y1="828.102" y2="828.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.2853" x="110.5" y="847.0679">onAccountCreated(event)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.9077" x="110.5" y="866.1358">findById(id)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0397" x="110.5" y="885.2038">save(note)</text></g><!--class NoteController--><g id="elem_NoteController"><rect codeline="29" fill="#FEFECE" filter="url(#ft5ll4m3o12d0)" height="78.1358" id="NoteController" style="stroke:#A80036;stroke-width:1;" width="130.2376" x="422" y="136.602"></rect><ellipse cx="437" cy="152.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M439.9688,158.2426 Q439.3906,158.5395 438.75,158.6801 Q438.1094,158.8364 437.4063,158.8364 Q434.9063,158.8364 433.5781,157.1957 Q432.2656,155.5395 432.2656,152.4145 Q432.2656,149.2895 433.5781,147.6332 Q434.9063,145.977 437.4063,145.977 Q438.1094,145.977 438.75,146.1332 Q439.4063,146.2895 439.9688,146.5864 L439.9688,149.3051 Q439.3438,148.727 438.75,148.4614 Q438.1563,148.1801 437.5313,148.1801 Q436.1875,148.1801 435.5,149.2582 Q434.8125,150.3207 434.8125,152.4145 Q434.8125,154.5082 435.5,155.5864 Q436.1875,156.6489 437.5313,156.6489 Q438.1563,156.6489 438.75,156.3832 Q439.3438,156.102 439.9688,155.5239 L439.9688,158.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.2376" x="451" y="158.034">NoteController</text><line style="stroke:#A80036;stroke-width:1;" x1="423" x2="551.2376" y1="168.602" y2="168.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.9077" x="428" y="187.5679">findById(id)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0397" x="428" y="206.6358">save(note)</text></g><!--class NoteRepository--><g id="elem_NoteRepository"><rect codeline="44" fill="#FEFECE" filter="url(#ft5ll4m3o12d0)" height="78.1358" id="NoteRepository" style="stroke:#A80036;stroke-width:1;" width="134.5076" x="419.5" y="292.602"></rect><ellipse cx="434.5" cy="308.602" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M437.4688,314.2426 Q436.8906,314.5395 436.25,314.6801 Q435.6094,314.8364 434.9063,314.8364 Q432.4063,314.8364 431.0781,313.1957 Q429.7656,311.5395 429.7656,308.4145 Q429.7656,305.2895 431.0781,303.6332 Q432.4063,301.977 434.9063,301.977 Q435.6094,301.977 436.25,302.1332 Q436.9063,302.2895 437.4688,302.5864 L437.4688,305.3051 Q436.8438,304.727 436.25,304.4614 Q435.6563,304.1801 435.0313,304.1801 Q433.6875,304.1801 433,305.2582 Q432.3125,306.3207 432.3125,308.4145 Q432.3125,310.5082 433,311.5864 Q433.6875,312.6489 435.0313,312.6489 Q435.6563,312.6489 436.25,312.3832 Q436.8438,312.102 437.4688,311.5239 L437.4688,314.2426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.5076" x="448.5" y="314.034">NoteRepository</text><line style="stroke:#A80036;stroke-width:1;" x1="420.5" x2="553.0076" y1="324.602" y2="324.602"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.9077" x="425.5" y="343.5679">findById(id)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.0397" x="425.5" y="362.6358">save(note)</text></g><!--class RootNoteCreatedPublisher--><g id="elem_RootNoteCreatedPublisher"><rect codeline="51" fill="#FEFECE" filter="url(#ft5ll4m3o12d0)" height="59.0679" id="RootNoteCreatedPublisher" style="stroke:#A80036;stroke-width:1;" width="208.6933" x="382.5" y="449.102"></rect><ellipse cx="397.5" cy="465.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M400.4688,470.7426 Q399.8906,471.0395 399.25,471.1801 Q398.6094,471.3364 397.9063,471.3364 Q395.4063,471.3364 394.0781,469.6957 Q392.7656,468.0395 392.7656,464.9145 Q392.7656,461.7895 394.0781,460.1332 Q395.4063,458.477 397.9063,458.477 Q398.6094,458.477 399.25,458.6332 Q399.9063,458.7895 400.4688,459.0864 L400.4688,461.8051 Q399.8438,461.227 399.25,460.9614 Q398.6563,460.6801 398.0313,460.6801 Q396.6875,460.6801 396,461.7582 Q395.3125,462.8207 395.3125,464.9145 Q395.3125,467.0082 396,468.0864 Q396.6875,469.1489 398.0313,469.1489 Q398.6563,469.1489 399.25,468.8832 Q399.8438,468.602 400.4688,468.0239 L400.4688,470.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.6933" x="411.5" y="470.534">RootNoteCreatedPublisher</text><line style="stroke:#A80036;stroke-width:1;" x1="383.5" x2="590.1933" y1="481.102" y2="481.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.6294" x="388.5" y="500.0679">publish(rootNoteCreated)</text></g><!--class AccountCreatedSubscriber--><g id="elem_AccountCreatedSubscriber"><rect codeline="55" fill="#FEFECE" filter="url(#ft5ll4m3o12d0)" height="59.0679" id="AccountCreatedSubscriber" style="stroke:#A80036;stroke-width:1;" width="246.7371" x="363.5" y="543.102"></rect><ellipse cx="396.2875" cy="559.102" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M399.2562,564.7426 Q398.6781,565.0395 398.0375,565.1801 Q397.3969,565.3364 396.6937,565.3364 Q394.1937,565.3364 392.8656,563.6957 Q391.5531,562.0395 391.5531,558.9145 Q391.5531,555.7895 392.8656,554.1332 Q394.1937,552.477 396.6937,552.477 Q397.3969,552.477 398.0375,552.6332 Q398.6937,552.7895 399.2562,553.0864 L399.2562,555.8051 Q398.6312,555.227 398.0375,554.9614 Q397.4437,554.6801 396.8187,554.6801 Q395.475,554.6801 394.7875,555.7582 Q394.1,556.8207 394.1,558.9145 Q394.1,561.0082 394.7875,562.0864 Q395.475,563.1489 396.8187,563.1489 Q397.4437,563.1489 398.0375,562.8832 Q398.6312,562.602 399.2562,562.0239 L399.2562,564.7426 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.2093" x="414.2403" y="564.534">AccountCreatedSubscriber</text><line style="stroke:#A80036;stroke-width:1;" x1="364.5" x2="609.2371" y1="575.102" y2="575.102"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234.7371" x="369.5" y="594.0679">onAccountCreated(accountCreated)</text></g><!--reverse link Note to Transposition--><g id="link_Note_Transposition"><path codeline="25" d="M296.29,1057.602 C340.23,1057.602 380.25,1057.602 420.46,1057.602 " fill="transparent" id="Note-backto-Transposition" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="284.29,1057.602,290.29,1061.602,296.29,1057.602,290.29,1053.602,284.29,1057.602" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link NoteController to NoteService--><g id="link_NoteController_NoteService"><path codeline="60" d="M421.7,198.512 C385.14,214.792 341.58,240.262 315.5,276.602 C255.25,360.542 214.9034,668.321 200.9534,789.991 " fill="transparent" id="NoteController-to-NoteService" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="200.27,795.952,205.2691,787.4662,200.8395,790.9845,197.3212,786.5549,200.27,795.952" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link AccountCreatedSubscriber to NoteService--><g id="link_AccountCreatedSubscriber_NoteService"><path codeline="61" d="M454.2,602.322 C404.32,648.952 311.5737,735.6453 251.4037,791.8753 " fill="transparent" id="AccountCreatedSubscriber-to-NoteService" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="247.02,795.972,256.3267,792.7494,250.6731,792.5581,250.8645,786.9045,247.02,795.972" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link NoteService to NoteRepository--><g id="link_NoteService_NoteRepository"><path codeline="62" d="M197.83,795.932 C204.93,713.132 229.68,543.112 315.5,432.602 C342.09,398.362 378.3722,375.8979 413.8822,359.3379 " fill="transparent" id="NoteService-to-NoteRepository" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="419.32,356.802,409.4728,356.9806,414.7885,358.9152,412.8539,364.231,419.32,356.802" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--link NoteService to RootNoteCreatedPublisher--><g id="link_NoteService_RootNoteCreatedPublisher"><path codeline="63" d="M199.73,795.932 C209.17,725.942 236.76,597.402 315.5,525.602 C333.99,508.742 352.2284,499.5265 376.3484,492.5165 " fill="transparent" id="NoteService-to-RootNoteCreatedPublisher" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="382.11,490.842,372.3513,489.5127,377.3087,492.2374,374.5839,497.1948,382.11,490.842" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--SRC=[dLAnRkCm3Dtz5KAdv81ukIt30RrqwN8uD8VkjCKuH6pH86cZGP5_Frj9ZSX1Mg2Jm2UAx_4zwO624rRCQjoPCtP2rTwS9y7IY4Es9uyEczQEhi6cGD4iQw4yG8Nk8R1XNh9WNdHA0LLp34P6g0_kFNEkh47L_HdQOkaS-RNRcb2eOkcv0GfhznJFrvyHRDZJZaeO-P_0SEsUWne4YxTjLzJtBuNw0Tnmqmn24Yg3IXC0EjkpN46dR5ByJo1eoqeZpKLw3Q5A9vBLcAw3MWgruwC4xvdAjDFmBPM7RosBuM1FmLmZX0z1qRmVgrMgAJlDOm0FhGtnv89gS_St74ouhb4ko-me-D_7PxyWluo0Ge-BST0o4fy-JrbH-c6bcvItP_n2mk6nBBaBjX4SKl4Bx8TKbjyJCEtdmM3E-uBH69RZT_URnXzWTqZclp1RzF2ynD_n_-b-Sh8zrmj9svRfXqgDs7R5-56AQSYDKv2Ka-PPbglLhslRixiiyyRhhCQxMuVprDOlNaJJydjE_GS0]--></g></svg></p><h2 id="64-messages">6.4. Messages </h2>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="579px" preserveAspectRatio="none" style="width:940px;height:579px;background:#FFFFFF;" version="1.1" viewBox="0 0 940 579" width="940px" zoomAndPan="magnify"><defs><filter height="300%" id="fuuatd56v1hi2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--class AccountCreatedEvent--><g id="elem_AccountCreatedEvent"><rect codeline="5" fill="#FEFECE" filter="url(#fuuatd56v1hi2)" height="129.6837" id="AccountCreatedEvent" style="stroke:#A80036;stroke-width:1;" width="173.6514" x="7" y="7"></rect><ellipse cx="22" cy="29.706" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M24.9688,35.3466 Q24.3906,35.6435 23.75,35.7841 Q23.1094,35.9404 22.4063,35.9404 Q19.9063,35.9404 18.5781,34.2998 Q17.2656,32.6435 17.2656,29.5185 Q17.2656,26.3935 18.5781,24.7373 Q19.9063,23.081 22.4063,23.081 Q23.1094,23.081 23.75,23.2373 Q24.4063,23.3935 24.9688,23.6904 L24.9688,26.4091 Q24.3438,25.831 23.75,25.5654 Q23.1563,25.2841 22.5313,25.2841 Q21.1875,25.2841 20.5,26.3623 Q19.8125,27.4248 19.8125,29.5185 Q19.8125,31.6123 20.5,32.6904 Q21.1875,33.7529 22.5313,33.7529 Q23.1563,33.7529 23.75,33.4873 Q24.3438,33.206 24.9688,32.6279 L24.9688,35.3466 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="39.9603" x="86.8456" y="24.8281">«event»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.6514" x="36" y="43.31">AccountCreatedEvent</text><line style="stroke:#A80036;stroke-width:1;" x1="8" x2="179.6514" y1="52.412" y2="52.412"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.9436" x="13" y="71.378">accountId : UUID</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.0515" x="13" y="90.4459">displayName : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.4917" x="13" y="109.5138">email : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.1676" x="13" y="128.5817">language : String</text></g><!--class RootNoteCreatedEvent--><g id="elem_RootNoteCreatedEvent"><rect codeline="12" fill="#FEFECE" filter="url(#fuuatd56v1hi2)" height="91.5479" id="RootNoteCreatedEvent" style="stroke:#A80036;stroke-width:1;" width="183.1994" x="216.5" y="26"></rect><ellipse cx="231.5" cy="48.706" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M234.4688,54.3466 Q233.8906,54.6435 233.25,54.7841 Q232.6094,54.9404 231.9063,54.9404 Q229.4063,54.9404 228.0781,53.2998 Q226.7656,51.6435 226.7656,48.5185 Q226.7656,45.3935 228.0781,43.7373 Q229.4063,42.081 231.9063,42.081 Q232.6094,42.081 233.25,42.2373 Q233.9063,42.3935 234.4688,42.6904 L234.4688,45.4091 Q233.8438,44.831 233.25,44.5654 Q232.6563,44.2841 232.0313,44.2841 Q230.6875,44.2841 230,45.3623 Q229.3125,46.4248 229.3125,48.5185 Q229.3125,50.6123 230,51.6904 Q230.6875,52.7529 232.0313,52.7529 Q232.6563,52.7529 233.25,52.4873 Q233.8438,52.206 234.4688,51.6279 L234.4688,54.3466 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="39.9603" x="301.1196" y="43.8281">«event»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.1994" x="245.5" y="62.31">RootNoteCreatedEvent</text><line style="stroke:#A80036;stroke-width:1;" x1="217.5" x2="398.6994" y1="71.412" y2="71.412"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.8937" x="222.5" y="90.378">noteId : UUID</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.9436" x="222.5" y="109.4459">accountId : UUID</text></g><!--class UnitBuiltEvent--><g id="elem_UnitBuiltEvent"><rect codeline="17" fill="#FEFECE" filter="url(#fuuatd56v1hi2)" height="72.4799" id="UnitBuiltEvent" style="stroke:#A80036;stroke-width:1;" width="128.5636" x="434.5" y="36"></rect><ellipse cx="450.6178" cy="58.706" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M453.5865,64.3466 Q453.0084,64.6435 452.3678,64.7841 Q451.7271,64.9404 451.024,64.9404 Q448.524,64.9404 447.1959,63.2998 Q445.8834,61.6435 445.8834,58.5185 Q445.8834,55.3935 447.1959,53.7373 Q448.524,52.081 451.024,52.081 Q451.7271,52.081 452.3678,52.2373 Q453.024,52.3935 453.5865,52.6904 L453.5865,55.4091 Q452.9615,54.831 452.3678,54.5654 Q451.774,54.2841 451.149,54.2841 Q449.8053,54.2841 449.1178,55.3623 Q448.4303,56.4248 448.4303,58.5185 Q448.4303,60.6123 449.1178,61.6904 Q449.8053,62.7529 451.149,62.7529 Q451.774,62.7529 452.3678,62.4873 Q452.9615,62.206 453.5865,61.6279 L453.5865,64.3466 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="39.9603" x="491.9258" y="53.8281">«event»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.0796" x="464.8662" y="72.31">UnitBuiltEvent</text><line style="stroke:#A80036;stroke-width:1;" x1="435.5" x2="562.0636" y1="81.412" y2="81.412"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.5636" x="440.5" y="100.378">unit : UnitPayload</text></g><!--class PublishNoteCommand--><g id="elem_PublishNoteCommand"><rect codeline="21" fill="#FEFECE" filter="url(#fuuatd56v1hi2)" height="72.4799" id="PublishNoteCommand" style="stroke:#A80036;stroke-width:1;" width="180.9874" x="687.5" y="36"></rect><ellipse cx="702.5" cy="58.706" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M705.4688,64.3466 Q704.8906,64.6435 704.25,64.7841 Q703.6094,64.9404 702.9063,64.9404 Q700.4063,64.9404 699.0781,63.2998 Q697.7656,61.6435 697.7656,58.5185 Q697.7656,55.3935 699.0781,53.7373 Q700.4063,52.081 702.9063,52.081 Q703.6094,52.081 704.25,52.2373 Q704.9063,52.3935 705.4688,52.6904 L705.4688,55.4091 Q704.8438,54.831 704.25,54.5654 Q703.6563,54.2841 703.0313,54.2841 Q701.6875,54.2841 701,55.3623 Q700.3125,56.4248 700.3125,58.5185 Q700.3125,60.6123 701,61.6904 Q701.6875,62.7529 703.0313,62.7529 Q703.6563,62.7529 704.25,62.4873 Q704.8438,62.206 705.4688,61.6279 L705.4688,64.3466 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65.3525" x="758.3175" y="53.8281">«command»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.9874" x="716.5" y="72.31">PublishNoteCommand</text><line style="stroke:#A80036;stroke-width:1;" x1="688.5" x2="867.4874" y1="81.412" y2="81.412"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.1735" x="693.5" y="100.378">note : NotePayload</text></g><!--class NotePayload--><g id="elem_NotePayload"><rect codeline="25" fill="#FEFECE" filter="url(#fuuatd56v1hi2)" height="135.3396" id="NotePayload" style="stroke:#A80036;stroke-width:1;" width="297.6689" x="629" y="206.5"></rect><ellipse cx="731.5496" cy="222.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M734.5184,228.1406 Q733.9402,228.4375 733.2996,228.5781 Q732.659,228.7344 731.9559,228.7344 Q729.4559,228.7344 728.1277,227.0938 Q726.8152,225.4375 726.8152,222.3125 Q726.8152,219.1875 728.1277,217.5313 Q729.4559,215.875 731.9559,215.875 Q732.659,215.875 733.2996,216.0313 Q733.9559,216.1875 734.5184,216.4844 L734.5184,219.2031 Q733.8934,218.625 733.2996,218.3594 Q732.7059,218.0781 732.0809,218.0781 Q730.7371,218.0781 730.0496,219.1563 Q729.3621,220.2188 729.3621,222.3125 Q729.3621,224.4063 730.0496,225.4844 Q730.7371,226.5469 732.0809,226.5469 Q732.7059,226.5469 733.2996,226.2813 Q733.8934,226 734.5184,225.4219 L734.5184,228.1406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.0697" x="752.0496" y="227.932">NotePayload</text><line style="stroke:#A80036;stroke-width:1;" x1="630" x2="925.6689" y1="238.5" y2="238.5"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.6498" x="635" y="257.4659">id : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.6517" x="635" y="276.5339">tags : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.6255" x="635" y="295.6018">domain : DomainV3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.8916" x="635" y="314.6697">author : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285.6689" x="635" y="333.7376">transpositions : List&lt;TranspositionPayload&gt;</text></g><!--class TranspositionPayload--><g id="elem_TranspositionPayload"><rect codeline="33" fill="#FEFECE" filter="url(#fuuatd56v1hi2)" height="154.4075" id="TranspositionPayload" style="stroke:#A80036;stroke-width:1;" width="173.9735" x="691" y="411"></rect><ellipse cx="706" cy="427" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M708.9688,432.6406 Q708.3906,432.9375 707.75,433.0781 Q707.1094,433.2344 706.4063,433.2344 Q703.9063,433.2344 702.5781,431.5938 Q701.2656,429.9375 701.2656,426.8125 Q701.2656,423.6875 702.5781,422.0313 Q703.9063,420.375 706.4063,420.375 Q707.1094,420.375 707.75,420.5313 Q708.4063,420.6875 708.9688,420.9844 L708.9688,423.7031 Q708.3438,423.125 707.75,422.8594 Q707.1563,422.5781 706.5313,422.5781 Q705.1875,422.5781 704.5,423.6563 Q703.8125,424.7188 703.8125,426.8125 Q703.8125,428.9063 704.5,429.9844 Q705.1875,431.0469 706.5313,431.0469 Q707.1563,431.0469 707.75,430.7813 Q708.3438,430.5 708.9688,429.9219 L708.9688,432.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.9735" x="720" y="432.432">TranspositionPayload</text><line style="stroke:#A80036;stroke-width:1;" x1="692" x2="863.9735" y1="443" y2="443"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.1557" x="697" y="461.9659">lang : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.6557" x="697" y="481.0339">title : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.1515" x="697" y="500.1018">description : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2377" x="697" y="519.1697">voice : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.8377" x="697" y="538.2376">text : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.3195" x="697" y="557.3055">exported : boolean</text></g><!--class UnitPayload--><g id="elem_UnitPayload"><rect codeline="42" fill="#FEFECE" filter="url(#fuuatd56v1hi2)" height="154.4075" id="UnitPayload" style="stroke:#A80036;stroke-width:1;" width="188.9733" x="404.5" y="197"></rect><ellipse cx="454.9558" cy="213" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M457.9246,218.6406 Q457.3464,218.9375 456.7058,219.0781 Q456.0652,219.2344 455.3621,219.2344 Q452.8621,219.2344 451.5339,217.5938 Q450.2214,215.9375 450.2214,212.8125 Q450.2214,209.6875 451.5339,208.0313 Q452.8621,206.375 455.3621,206.375 Q456.0652,206.375 456.7058,206.5313 Q457.3621,206.6875 457.9246,206.9844 L457.9246,209.7031 Q457.2996,209.125 456.7058,208.8594 Q456.1121,208.5781 455.4871,208.5781 Q454.1433,208.5781 453.4558,209.6563 Q452.7683,210.7188 452.7683,212.8125 Q452.7683,214.9063 453.4558,215.9844 Q454.1433,217.0469 455.4871,217.0469 Q456.1121,217.0469 456.7058,216.7813 Q457.2996,216.5 457.9246,215.9219 L457.9246,218.6406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.5617" x="475.4558" y="218.432">UnitPayload</text><line style="stroke:#A80036;stroke-width:1;" x1="405.5" x2="592.4733" y1="229" y2="229"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.6498" x="410.5" y="247.9659">id : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.6255" x="410.5" y="267.0339">domain : DomainV3</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.3454" x="410.5" y="286.1018">modificationDate : Instant</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.6517" x="410.5" y="305.1697">tags : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.8916" x="410.5" y="324.2376">author : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.9733" x="410.5" y="343.3055">tracks : List&lt;TrackPayload&gt;</text></g><!--class TrackPayload--><g id="elem_TrackPayload"><rect codeline="51" fill="#FEFECE" filter="url(#fuuatd56v1hi2)" height="135.3396" id="TrackPayload" style="stroke:#A80036;stroke-width:1;" width="136.1515" x="431" y="420.5"></rect><ellipse cx="453.4366" cy="436.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1;"></ellipse><path d="M456.4054,442.1406 Q455.8273,442.4375 455.1866,442.5781 Q454.546,442.7344 453.8429,442.7344 Q451.3429,442.7344 450.0148,441.0938 Q448.7023,439.4375 448.7023,436.3125 Q448.7023,433.1875 450.0148,431.5313 Q451.3429,429.875 453.8429,429.875 Q454.546,429.875 455.1866,430.0313 Q455.8429,430.1875 456.4054,430.4844 L456.4054,433.2031 Q455.7804,432.625 455.1866,432.3594 Q454.5929,432.0781 453.9679,432.0781 Q452.6241,432.0781 451.9366,433.1563 Q451.2491,434.2188 451.2491,436.3125 Q451.2491,438.4063 451.9366,439.4844 Q452.6241,440.5469 453.9679,440.5469 Q454.5929,440.5469 455.1866,440.2813 Q455.7804,440 456.4054,439.4219 L456.4054,442.1406 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.6257" x="469.0892" y="441.932">TrackPayload</text><line style="stroke:#A80036;stroke-width:1;" x1="432" x2="566.1515" y1="452.5" y2="452.5"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.1557" x="437" y="471.4659">lang : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.6557" x="437" y="490.5339">title : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.1515" x="437" y="509.6018">description : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2377" x="437" y="528.6697">voice : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.8377" x="437" y="547.7376">text : String</text></g><!--reverse link PublishNoteCommand to NotePayload--><g id="link_PublishNoteCommand_NotePayload"><path codeline="59" d="M778,120.3 C778,147.32 778,173.4 778,206.13 " fill="transparent" id="PublishNoteCommand-backto-NotePayload" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="778,108.3,774,114.3,778,120.3,782,114.3,778,108.3" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.84" x="755.9156" y="194.6941">0..1</text></g><!--reverse link NotePayload to TranspositionPayload--><g id="link_NotePayload_TranspositionPayload"><path codeline="60" d="M778,353.79 C778,375.76 778,388.34 778,410.94 " fill="transparent" id="NotePayload-backto-TranspositionPayload" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="778,341.79,774,347.79,778,353.79,782,347.79,778,341.79" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--reverse link UnitBuiltEvent to UnitPayload--><g id="link_UnitBuiltEvent_UnitPayload"><path codeline="61" d="M499,120.3 C499,144.74 499,166.23 499,196.63 " fill="transparent" id="UnitBuiltEvent-backto-UnitPayload" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="transparent" points="499,108.3,495,114.3,499,120.3,503,114.3,499,108.3" style="stroke:#A80036;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.84" x="477.0091" y="185.0889">0..1</text></g><!--reverse link UnitPayload to TrackPayload--><g id="link_UnitPayload_TrackPayload"><path codeline="62" d="M499,363.24 C499,385.79 499,398.3 499,420.21 " fill="transparent" id="UnitPayload-backto-TrackPayload" style="stroke:#A80036;stroke-width:1;"></path><polygon fill="#A80036" points="499,351.24,495,357.24,499,363.24,503,357.24,499,351.24" style="stroke:#A80036;stroke-width:1;"></polygon></g><!--SRC=[jL9DJm8n4BtlhsWyca0qtWmXKV50OWXHyJxRLfZGTZRjB84O_xljWj2LwirJszTvy_7UX3KwuIdeQeLA2sqRtWchRQrzg9WQmIHgOYOh57ej6SbLbJGGWhYJabh73ru3Q_MuqOx5QAJJEHwBZqe8s4TCbRWLYyLq4Y65eJ6mcu7L4NnXZsuPOMq1JGuOSCiMbbdGvtVTPoAU4Ui_2hludLSzQ-IORE6GxriqN4hJni_4YCSSTeP0dOZpjZOOLbqZP2qu5SboVykwYFGKSaRFm2uMLJuzmpBaRqLH7nUHINTvkqapjRmYtsDvSA6XWCcbn7_2mAFN73sK79yQANrt7IK7UjcHJSypfOFqs2HU3cy8PI-EzPPxNcyRyj6uYDL4HeFhs_6xB2KPB2byHmcfZGbqWazTO71SqB6ecLpdMibrKQCZ_9_Qn8A5jQB1G5nS3OVN5xrLoZVeCeQKZAn-h7UMAb_gNFL3gkEyNm00]--></g></svg></p><h2 id="65-domainv3-">6.5. DomainV3 ? </h2>
<p>DomainV3 est une "grosse" énumération des domaines, par exemple:</p>
<pre data-role="codeBlock" data-info="java" class="language-java java"><code><span class="token keyword keyword-enum">enum</span> <span class="token class-name">DomainV3</span> <span class="token punctuation">{</span>

  <span class="token function">COMPUTER_SCIENCES</span><span class="token punctuation">(</span><span class="token string">"computer sciences"</span><span class="token punctuation">,</span> <span class="token string">"informatique"</span><span class="token punctuation">,</span> <span class="token string">"Informatik"</span><span class="token punctuation">,</span> <span class="token string">"计算机科学"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">DomainV3</span><span class="token punctuation">)</span><span class="token keyword keyword-null">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">HUMAN_SCIENCES</span><span class="token punctuation">(</span><span class="token string">"human_sciences"</span><span class="token punctuation">,</span> <span class="token string">"sciences humaines"</span><span class="token punctuation">,</span> <span class="token string">"Sciences humaines"</span><span class="token punctuation">,</span> <span class="token string">"人文科学"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">DomainV3</span><span class="token punctuation">)</span><span class="token keyword keyword-null">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">ECONOMICS</span><span class="token punctuation">(</span><span class="token string">"economics"</span><span class="token punctuation">,</span> <span class="token string">"économie"</span><span class="token punctuation">,</span> <span class="token string">"Wirtschaft"</span><span class="token punctuation">,</span> <span class="token string">"经济学"</span><span class="token punctuation">,</span> <span class="token constant">HUMAN_SCIENCES</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
  <span class="token punctuation">;</span>


  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token class-name">String</span> en<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token class-name">String</span> fr<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token class-name">String</span> de<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token class-name">String</span> zh<span class="token punctuation">;</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-final">final</span> <span class="token class-name">DomainV3</span> parent<span class="token punctuation">;</span>

  <span class="token keyword keyword-private">private</span> <span class="token class-name">DomainV3</span><span class="token punctuation">(</span><span class="token class-name">String</span> en<span class="token punctuation">,</span> <span class="token class-name">String</span> fr<span class="token punctuation">,</span> <span class="token class-name">String</span> de<span class="token punctuation">,</span> <span class="token class-name">String</span> zh<span class="token punctuation">,</span> <span class="token class-name">DomainV3</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>en <span class="token operator">=</span> en<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>fr <span class="token operator">=</span> fr<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>de <span class="token operator">=</span> de<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>zh <span class="token operator">=</span> zh<span class="token punctuation">;</span>
      <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><p>Son avenir est compromis par la détection automatique du sujet par un LLM, bien plus flexible !</p>
<h2 id="7-points-de-vigilence">7. Points de vigilence </h2>
<p>Certains points importants n'ont pas été traités, faute de temps pour les analyser en détail, ou parce qu'ils sont hors sujet. En voici une liste indicative.</p>
<h3 id="pannes-et-disponibilité">Pannes et disponibilité </h3>
<ul>
<li>quelles sont les exigences en terme de disponibilité ?</li>
<li>comment sont traitées les indisponibilités de services ou autres problèmes techniques temporaires ?</li>
<li>combien de fois et à quel interval un message doit il être reprocessé en cas d'échec ?</li>
<li>que logue-t-on ?</li>
<li>comment sauvegarder la base de données ? comment la restaurer ? (réplication, backup, ratio perte de données/coût)</li>
</ul>
<h3 id="les-scénarios-dexception-nont-pas-été-évalués">Les scénarios d'exception n'ont pas été évalués </h3>
<ul>
<li>comment l'utilisateur est-il informé des échecs ?</li>
<li>quels mécanismes de rattrapage mettre en place (retry, circuit breakers, ...) ?</li>
</ul>
<h3 id="montée-en-charge">Montée en charge </h3>
<p>En tenant compte de l'applicatif et de l'infrastructure technique</p>
<ul>
<li>comment les besoins en ressources évoluent dans le temps ? exemple : périodes d'examen...</li>
<li>quel temps de réponse est acceptable pour chaque point terminal ?</li>
<li>quel est le point de saturation / rupture du système ?</li>
</ul>
<h3 id="confidentialité-rgpd-légalité-">Confidentialité, RGPD, légalité ... </h3>
<ul>
<li>les données recueillis sont-elles stockées dans le respect du RGPD ? leur reccueil est-il nécessaire ?</li>
<li>ne faudrait-il pas informer l'utilisateur et obtenir son consentement pour leur stockage ?</li>
<li>est-il nécessaire de modérer les publications ?</li>
<li>la traçabilité est-elle nécessaire, prise en charge et fiable ?</li>
</ul>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>